{"meta":{"version":1,"warehouse":"4.0.0"},"models":{"Asset":[{"_id":"themes/hexo-theme-matery/source/favicon.png","path":"favicon.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/barrager.css","path":"css/barrager.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/gallery.css","path":"css/gallery.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/bb.css","path":"css/bb.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/gitment.css","path":"css/gitment.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/matery.css","path":"css/matery.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/my-gitalk.css","path":"css/my-gitalk.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/my.css","path":"css/my.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/js/crypto-js.js","path":"js/crypto-js.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/js/gallery-encrypt.js","path":"js/gallery-encrypt.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/js/jquery.barrager.js","path":"js/jquery.barrager.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/js/matery.js","path":"js/matery.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/js/search.js","path":"js/search.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/avatar.jpg","path":"medias/avatar.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/comment_bg.png","path":"medias/comment_bg.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/cover.jpg","path":"medias/cover.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/icp.png","path":"medias/icp.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/logo.png","path":"medias/logo.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/0.jpg","path":"medias/banner/0.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/1.jpg","path":"medias/banner/1.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/2.jpg","path":"medias/banner/2.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/3.jpg","path":"medias/banner/3.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/5.jpg","path":"medias/banner/5.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/4.jpg","path":"medias/banner/4.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/6.jpg","path":"medias/banner/6.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/7.jpg","path":"medias/banner/7.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/barrager/0.png","path":"medias/barrager/0.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/barrager/2.png","path":"medias/barrager/2.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/barrager/1.png","path":"medias/barrager/1.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/barrager/close.png","path":"medias/barrager/close.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/0.jpg","path":"medias/featureimages/0.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/1.jpg","path":"medias/featureimages/1.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/11.jpg","path":"medias/featureimages/11.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/10.jpg","path":"medias/featureimages/10.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/12.jpg","path":"medias/featureimages/12.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/14.jpg","path":"medias/featureimages/14.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/13.jpg","path":"medias/featureimages/13.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/15.jpg","path":"medias/featureimages/15.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/16.jpg","path":"medias/featureimages/16.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/17.jpg","path":"medias/featureimages/17.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/18.jpg","path":"medias/featureimages/18.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/20.jpg","path":"medias/featureimages/20.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/19.jpg","path":"medias/featureimages/19.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/2.jpg","path":"medias/featureimages/2.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/21.jpg","path":"medias/featureimages/21.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/22.jpg","path":"medias/featureimages/22.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/3.jpg","path":"medias/featureimages/3.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/23.jpg","path":"medias/featureimages/23.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/4.jpg","path":"medias/featureimages/4.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/5.jpg","path":"medias/featureimages/5.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/7.jpg","path":"medias/featureimages/7.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/8.jpg","path":"medias/featureimages/8.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/9.jpg","path":"medias/featureimages/9.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/6.jpg","path":"medias/featureimages/6.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/images/01.jpg","path":"medias/images/01.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/images/02.jpg","path":"medias/images/02.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/reward/wechat.png","path":"medias/reward/wechat.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/animate/animate.min.css","path":"libs/animate/animate.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/images/03.jpg","path":"medias/images/03.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/aos/aos.css","path":"libs/aos/aos.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/aos/aos.js","path":"libs/aos/aos.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/aplayer/APlayer.min.css","path":"libs/aplayer/APlayer.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/aplayer/APlayer.min.js","path":"libs/aplayer/APlayer.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/background/canvas-nest.js","path":"libs/background/canvas-nest.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/reward/alipay.jpg","path":"medias/reward/alipay.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/background/ribbon-dynamic.js","path":"libs/background/ribbon-dynamic.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/background/ribbon-refresh.min.js","path":"libs/background/ribbon-refresh.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/background/ribbon.min.js","path":"libs/background/ribbon.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeBlockFuction.js","path":"libs/codeBlock/codeBlockFuction.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeCopy.js","path":"libs/codeBlock/codeCopy.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeLang.js","path":"libs/codeBlock/codeLang.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeShrink.js","path":"libs/codeBlock/codeShrink.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/cryptojs/crypto-js.min.js","path":"libs/cryptojs/crypto-js.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/dplayer/DPlayer.min.css","path":"libs/dplayer/DPlayer.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/dplayer/DPlayer.min.js","path":"libs/dplayer/DPlayer.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/echarts/echarts.min.js","path":"libs/echarts/echarts.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/gitalk/gitalk.css","path":"libs/gitalk/gitalk.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/gitalk/gitalk.min.js","path":"libs/gitalk/gitalk.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/gitment/gitment-default.css","path":"libs/gitment/gitment-default.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/gitment/gitment.js","path":"libs/gitment/gitment.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/instantpage/instantpage.js","path":"libs/instantpage/instantpage.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/jqcloud/jqcloud-1.0.4.min.js","path":"libs/jqcloud/jqcloud-1.0.4.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/jqcloud/jqcloud.css","path":"libs/jqcloud/jqcloud.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/jquery/jquery.min.js","path":"libs/jquery/jquery.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/masonry/masonry.pkgd.min.js","path":"libs/masonry/masonry.pkgd.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/materialize/materialize.min.css","path":"libs/materialize/materialize.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/materialize/materialize.min.js","path":"libs/materialize/materialize.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/minivaline/MiniValine.js","path":"libs/minivaline/MiniValine.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/others/busuanzi.pure.mini.js","path":"libs/others/busuanzi.pure.mini.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/others/clicklove.js","path":"libs/others/clicklove.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/others/sakura-half.js","path":"libs/others/sakura-half.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/others/sakura-reduce.js","path":"libs/others/sakura-reduce.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/others/sakura-small.js","path":"libs/others/sakura-small.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/others/sakura.js","path":"libs/others/sakura.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/others/snow.js","path":"libs/others/snow.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/others/star.js","path":"libs/others/star.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/prism/prism.css","path":"libs/prism/prism.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/scrollprogress/scrollProgress.min.js","path":"libs/scrollprogress/scrollProgress.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/tocbot/tocbot.css","path":"libs/tocbot/tocbot.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/tocbot/tocbot.min.js","path":"libs/tocbot/tocbot.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/twikoo/twikoo.all.min.js","path":"libs/twikoo/twikoo.all.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/twikoo/twikoo.all.min.js.LICENSE.txt","path":"libs/twikoo/twikoo.all.min.js.LICENSE.txt","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/valine/Valine.min.js","path":"libs/valine/Valine.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/valine/av-min.js","path":"libs/valine/av-min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/css/all.css","path":"libs/awesome/css/all.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/css/all.min.css","path":"libs/awesome/css/all.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.eot","path":"libs/awesome/webfonts/fa-brands-400.eot","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.svg","path":"libs/awesome/webfonts/fa-brands-400.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.ttf","path":"libs/awesome/webfonts/fa-brands-400.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.woff","path":"libs/awesome/webfonts/fa-brands-400.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.eot","path":"libs/awesome/webfonts/fa-regular-400.eot","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.svg","path":"libs/awesome/webfonts/fa-regular-400.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.ttf","path":"libs/awesome/webfonts/fa-regular-400.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.woff2","path":"libs/awesome/webfonts/fa-brands-400.woff2","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.woff","path":"libs/awesome/webfonts/fa-regular-400.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.woff2","path":"libs/awesome/webfonts/fa-regular-400.woff2","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.eot","path":"libs/awesome/webfonts/fa-solid-900.eot","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.svg","path":"libs/awesome/webfonts/fa-solid-900.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.woff","path":"libs/awesome/webfonts/fa-solid-900.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/css/lightgallery.min.css","path":"libs/lightGallery/css/lightgallery.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.svg","path":"libs/lightGallery/fonts/lg.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.ttf","path":"libs/awesome/webfonts/fa-solid-900.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.eot","path":"libs/lightGallery/fonts/lg.eot","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/loading.gif","path":"libs/lightGallery/img/loading.gif","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.woff","path":"libs/lightGallery/fonts/lg.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/video-play.png","path":"libs/lightGallery/img/video-play.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/vimeo-play.png","path":"libs/lightGallery/img/vimeo-play.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.ttf","path":"libs/lightGallery/fonts/lg.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/youtube-play.png","path":"libs/lightGallery/img/youtube-play.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/js/lightgallery-all.min.js","path":"libs/lightGallery/js/lightgallery-all.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/css/share.min.css","path":"libs/share/css/share.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.woff2","path":"libs/awesome/webfonts/fa-solid-900.woff2","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.eot","path":"libs/share/fonts/iconfont.eot","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.svg","path":"libs/share/fonts/iconfont.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.ttf","path":"libs/share/fonts/iconfont.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/js/jquery.share.min.js","path":"libs/share/js/jquery.share.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.woff","path":"libs/share/fonts/iconfont.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/js/social-share.min.js","path":"libs/share/js/social-share.min.js","modified":0,"renderable":1}],"Cache":[{"_id":"source/404/index.md","hash":"d8941d95ca8cfbefd576e208b21116cdb53fee86","modified":1636032051850},{"_id":"source/_posts/Sentry监控部署001-vmware环境搭建.md","hash":"cb32d6b3f46cc56fd3464188e9d80b58b087b1a0","modified":1637419734542},{"_id":"source/_posts/Sentry监控部署002-centOS安装git.md","hash":"f24e39681fcb52d87c17616d3a75b70d3331633f","modified":1637085091241},{"_id":"source/_posts/Sentry监控部署003-centOS安装docker和docker-compose.md","hash":"dd30b7942638017724737394a2ac9a7c5afdf8ec","modified":1637122206836},{"_id":"source/_posts/Sentry监控部署004-开始部署Sentry.md","hash":"6f69865c1d43069496e9e67d63a5696454dff071","modified":1637419734469},{"_id":"source/_posts/Sentry监控部署005-Centos安装node.md","hash":"8dc09b9a9c80fb89a3aca2ccb00a8330a0cfe7ed","modified":1637085229350},{"_id":"source/_posts/Sentry监控部署006-前端接入sentry.md","hash":"393439d3b144c553f266156ec5e19058d767d112","modified":1637419734560},{"_id":"source/_posts/Sentry监控部署007-其他搭建方式-选读.md","hash":"6357e0ecbc2e153174d1f7498a9da981bfb4fb1e","modified":1637156740655},{"_id":"source/_posts/hexo部署博客001.md","hash":"f25ec7e0b39da8c18d3c589ae7c32b241c2d78aa","modified":1637054321226},{"_id":"source/_posts/hexo部署博客002.md","hash":"13034cca90e69458784b78bd66f41e4f2b1f101f","modified":1637054321360},{"_id":"source/_posts/hexo部署博客003.md","hash":"2dd191a3926ed76046054fab6d7afe1aad5d1af5","modified":1637054321243},{"_id":"source/_posts/hexo部署博客005-结.md","hash":"26a49246d82085ca6f640774d6e80ede72bae6d8","modified":1637054321235},{"_id":"source/_posts/hexo部署博客004.md","hash":"67371bd6d19446e5f0ff9bcfebb01e9937a3538d","modified":1637054321352},{"_id":"source/_data/friends.json","hash":"396b711bc654259a35d3b4bca07ac1962f404399","modified":1636032025366},{"_id":"source/friends/index.md","hash":"05acee408fce35e5f5409b69d4a6aa30ddd6649c","modified":1636031987632},{"_id":"source/about/index.md","hash":"f2c6ef2c9775f2a54c76faa63a81cb29066a3e86","modified":1636031946815},{"_id":"source/categories/index.md","hash":"02679627bac91cf4b28e67ad019ad60635bfca75","modified":1636031897863},{"_id":"source/tags/index.md","hash":"cfcb579b33a0b4576e2d24c17b43d743599131ed","modified":1636031919449},{"_id":"source/_posts/pic/001/1.jpg","hash":"967e2d39c20aa444d52818d7f03611eef4ba41a8","modified":1637080577168},{"_id":"source/_posts/pic/001/10.jpg","hash":"5f9a98f5a22f3c07b6aae39304fd20a164b353de","modified":1637079687466},{"_id":"source/_posts/pic/001/11.jpg","hash":"c0cb13da83628bd2df749f39188b7b688a2ac8ec","modified":1637079699636},{"_id":"source/_posts/pic/001/12.jpg","hash":"84fc6b9ac2765ab8306cea357e32381ba0c5dc35","modified":1637079707476},{"_id":"source/_posts/pic/001/13.jpg","hash":"c7edefdd6293df06d963638167bfd8ef9642d9f4","modified":1637079733866},{"_id":"source/_posts/pic/001/15.jpg","hash":"50103f606a37dcc474040fb1fa3ef0aebdea717b","modified":1637079771345},{"_id":"source/_posts/pic/001/16.jpg","hash":"e501a9fd79fee7303cb1cc92b103046e59ed53c8","modified":1637079781552},{"_id":"source/_posts/pic/001/17.jpg","hash":"0e294047e04e0f7df801f2a09bbccb2778a3533f","modified":1637079813708},{"_id":"source/_posts/pic/001/18.jpg","hash":"6e3534147a6b4b344953782046c01de3920f4e76","modified":1637079824820},{"_id":"source/_posts/pic/001/19.jpg","hash":"4af8f024e52e83c0fee426165bf310103aa1eb2d","modified":1637079835948},{"_id":"source/_posts/pic/001/2.jpg","hash":"a20699519c8f6998615ad53d262cdb21840230f6","modified":1637079510220},{"_id":"source/_posts/pic/001/21.jpg","hash":"acd9dfe229c056cc2ab5c82cd294534be65de88e","modified":1637079873730},{"_id":"source/_posts/pic/001/24.jpg","hash":"184ce31f1221cb96e7723a6fb31acab2adfa7451","modified":1637079899395},{"_id":"source/_posts/pic/001/25.jpg","hash":"44259042ba1c23ad64f1a025c40801ec8f9984f4","modified":1637079916833},{"_id":"source/_posts/pic/001/26.jpg","hash":"6641f4bddb84385f2210cbe4e2fa6142db9f36de","modified":1637079930742},{"_id":"source/_posts/pic/001/28.jpg","hash":"a45266463c8151ca6aa99d4554a9233d9da1ab9d","modified":1637079974112},{"_id":"source/_posts/pic/001/27.jpg","hash":"10cf9a690c739eea079da08e65a4e2609f076fd6","modified":1637079960670},{"_id":"source/_posts/pic/001/29.jpg","hash":"8a1f48f27ee1a5602f6d8cb58dbc768272da3d6a","modified":1637079992640},{"_id":"source/_posts/pic/001/3.jpg","hash":"7615ee5203f289760adea6d39a5f199b4a815d3d","modified":1637079520389},{"_id":"source/_posts/pic/001/30.jpg","hash":"9be0155d485ed75c5934afb9cd6274a87fd2080b","modified":1637080011985},{"_id":"source/_posts/pic/001/31.jpg","hash":"716373ee4e61cefc211cd2e363a23c70fa4cee6e","modified":1637080021358},{"_id":"source/_posts/pic/001/32.jpg","hash":"c51c1b9cfeca26c691db175fb5c2f3c982281998","modified":1637080046068},{"_id":"source/_posts/pic/001/33.jpg","hash":"15448ebf369f29787b7b2e24e74810c484f2162f","modified":1637080071437},{"_id":"source/_posts/pic/001/34.jpg","hash":"85fb749abda4db15bc33ae81427bd63cd81de8b6","modified":1637080085803},{"_id":"source/_posts/pic/001/5.jpg","hash":"af36a830aa65d362023b4aef1309e067c76413ba","modified":1637079541385},{"_id":"source/_posts/pic/001/6.jpg","hash":"f5373c830ba299347efa810605b534e524e73a8d","modified":1637079552295},{"_id":"source/_posts/pic/001/4.jpg","hash":"b06237be61db6a748d5bd041a71e845caf52d50a","modified":1637079531093},{"_id":"source/_posts/pic/001/7.jpg","hash":"7f6c8922c39df81cd2719909244dfb6e17633841","modified":1637079587085},{"_id":"source/_posts/pic/001/8.jpg","hash":"c0f7579d29ff09617826642bdc7d05df6d01e47f","modified":1637079664165},{"_id":"source/_posts/pic/001/9.jpg","hash":"7ac1e37918a32799c1bd2e1488ba97a968de2fe3","modified":1637079676726},{"_id":"source/_posts/pic/005/4.jpg","hash":"c0a3ff82b4782e18ea6646fa8e8c607c5167c07b","modified":1637060455349},{"_id":"source/_posts/pic/004/1.jpg","hash":"ff4423920e8255aaa69a03093d538e4d09c33e7d","modified":1637083438486},{"_id":"source/_posts/pic/001/14.jpg","hash":"596488d258146d6364f5ad12e4d52d199669ab25","modified":1637079755209},{"_id":"source/_posts/pic/001/20.jpg","hash":"0ebe2b05ff94f5d068fd22ee9a39db65295b6681","modified":1637079864228},{"_id":"source/_posts/pic/001/22.jpg","hash":"ed0f58a4b6de146a5e09ccd5712d0dca90140dc3","modified":1637079886822},{"_id":"source/_posts/pic/005/11.jpg","hash":"bd9ace94cd737d64d7df13f72653a4fdab75d725","modified":1637060961968},{"_id":"source/_posts/pic/005/7.jpg","hash":"cd00ac80d65e17e2f16f0ee128586213d9a9eee3","modified":1637060717978},{"_id":"source/_posts/pic/005/5.jpg","hash":"5d093398f3637c66911eac0450746d03a05ed709","modified":1637060534704},{"_id":"source/_posts/pic/005/8.jpg","hash":"14cd42ba79defa48814aeef9e5697af8eca07922","modified":1637060805501},{"_id":"source/_posts/pic/005/9.jpg","hash":"e216bd70c16e39e377df38745e896c8982c5ead7","modified":1637060837154},{"_id":"source/_posts/pic/005/1.jpg","hash":"0947308d09d1af90cf5afe8b452950ff74ad19be","modified":1637060068421},{"_id":"source/_posts/pic/005/10.jpg","hash":"f9a69811978100a5856c5c81a653ccd8cb858628","modified":1637060905730},{"_id":"source/_posts/pic/005/3.jpg","hash":"0c1bc5605db9b4f571dbef5ba7c5e082c8e4c798","modified":1637060399792},{"_id":"source/_posts/pic/005/2.jpg","hash":"cdc493db52b77fab5e26d58190b975158252145d","modified":1637060152404},{"_id":"themes/hexo-theme-matery/CHANGELOG.md","hash":"484a703733b839bd98e016ddb015f028c2593fef","modified":1636029788031},{"_id":"themes/hexo-theme-matery/LICENSE","hash":"b314c7ebb7d599944981908b7f3ed33a30e78f3a","modified":1636029788031},{"_id":"themes/hexo-theme-matery/README.md","hash":"d8ddcc0b3c6e30255faba941bb7dbcbb7213d650","modified":1636029788031},{"_id":"themes/hexo-theme-matery/README_CN.md","hash":"840d5a3275f37125a67cf7e82bbc6556f3bc5cbd","modified":1636029788047},{"_id":"themes/hexo-theme-matery/_config.yml","hash":"3e0d407d4c05234ff0e8a0cc5f126e96f9ffaf86","modified":1637054274097},{"_id":"themes/hexo-theme-matery/languages/default.yml","hash":"49c27ea2cb6b882665d4d440c26931ddb37bf158","modified":1636029788047},{"_id":"themes/hexo-theme-matery/languages/zh-CN.yml","hash":"c6de0de68bdc75a8a905787a0526b70ee9821da8","modified":1636029788047},{"_id":"themes/hexo-theme-matery/layout/404.ejs","hash":"4d2bb286d9903f770344e11898bd3f13444760bf","modified":1636029788047},{"_id":"themes/hexo-theme-matery/languages/zh-HK.yml","hash":"51c06005927e8bde5b3e23353d2bf2c32ed855f3","modified":1636029788047},{"_id":"themes/hexo-theme-matery/layout/about.ejs","hash":"626d28dbc7fa2e0fb6601e324dcad08993bcf002","modified":1636029788078},{"_id":"themes/hexo-theme-matery/layout/bb.ejs","hash":"6deb819e47fe11edd2fc87a6296cae725a0275f9","modified":1636029788078},{"_id":"themes/hexo-theme-matery/layout/categories.ejs","hash":"c431e772d0f7700592228bbd9502793bdc28a893","modified":1636029788078},{"_id":"themes/hexo-theme-matery/layout/archive.ejs","hash":"57733d52d17361e735fcc95f875e0b1b9ebdcbd8","modified":1636029788078},{"_id":"themes/hexo-theme-matery/layout/category.ejs","hash":"4ac716d15d84e7c37f07308a5ec008a2ac090c9b","modified":1636029788078},{"_id":"themes/hexo-theme-matery/layout/contact.ejs","hash":"a777733e03d954ac265a3d0523245bd191732130","modified":1636029788094},{"_id":"themes/hexo-theme-matery/layout/galleries.ejs","hash":"a25fbf875b13f355d757b3dbb8620f4f8f925b5b","modified":1636029788094},{"_id":"themes/hexo-theme-matery/layout/friends.ejs","hash":"1291eed5cc91a27607beffc8118c19493512f28f","modified":1636029788094},{"_id":"themes/hexo-theme-matery/layout/index.ejs","hash":"eb3875f997767bc6c500a158535cfadcbca96f8f","modified":1636029788094},{"_id":"themes/hexo-theme-matery/layout/gallery.ejs","hash":"2b8bce28e64e5ee38c82234761bb5f443a62be1f","modified":1636029788094},{"_id":"themes/hexo-theme-matery/layout/layout.ejs","hash":"a6e1e950d74ccbb6d3678148e409c7051f1e1b86","modified":1636029788094},{"_id":"themes/hexo-theme-matery/layout/post.ejs","hash":"444ecca1cb35bad81b063f1d7cb9fd80ead195dd","modified":1636029788094},{"_id":"themes/hexo-theme-matery/layout/tags.ejs","hash":"851c0ee599e91e7b1d657673859e8b6ff79cf50b","modified":1636029788094},{"_id":"themes/hexo-theme-matery/layout/tag.ejs","hash":"058eb27ff10f5314d8b9e334c54419b9a6572315","modified":1636029788094},{"_id":"themes/hexo-theme-matery/source/favicon.png","hash":"774fee8c6d0be9dbb010b20f36c06848d06e3da0","modified":1636029788094},{"_id":"themes/hexo-theme-matery/layout/_partial/back-top.ejs","hash":"be527741c39c9dc4a13ad712b49fe8db0147fe1e","modified":1636029788047},{"_id":"themes/hexo-theme-matery/layout/_partial/background.ejs","hash":"0415b240b90083576274e83e28044aa9c0dd0f67","modified":1636029788047},{"_id":"themes/hexo-theme-matery/layout/_partial/baidu-push.ejs","hash":"2841870e0c625787de348221e5ddb7bbe99ec5a2","modified":1636029788047},{"_id":"themes/hexo-theme-matery/layout/_partial/baidu-analytics.ejs","hash":"4b01030b7136192bdbd704e29a0fe12f92767551","modified":1636029788047},{"_id":"themes/hexo-theme-matery/layout/_partial/bg-cover-content.ejs","hash":"c450414d8255f26844e8d2c478bfb65d717df7ae","modified":1636084451671},{"_id":"themes/hexo-theme-matery/layout/_partial/bg-cover.ejs","hash":"d5a7b9bb96e04c0a3485dd873748f19c50a6a04f","modified":1636029788047},{"_id":"themes/hexo-theme-matery/layout/_partial/bg-video.ejs","hash":"963422029eb5158eb5f5bc97ce19b66e5399db97","modified":1636029788047},{"_id":"themes/hexo-theme-matery/layout/_partial/changyan.ejs","hash":"cd919d31564e118c2ee8d5cbfb7d51ee6da15d82","modified":1636029788047},{"_id":"themes/hexo-theme-matery/layout/_partial/disqus.ejs","hash":"1b392f2160f962f62f3ddf5e1155c7f2f4888e1d","modified":1636029788047},{"_id":"themes/hexo-theme-matery/layout/_partial/footer.ejs","hash":"efbc689d2b466ba4666b0cea2084a263d7f271d1","modified":1636029788047},{"_id":"themes/hexo-theme-matery/layout/_partial/gitalk.ejs","hash":"27764936791ce36b527bea63689435346bbfb425","modified":1636029788047},{"_id":"themes/hexo-theme-matery/layout/_partial/github-link.ejs","hash":"fd4034bca2eb3987dcf113e6477260bee97eb1e7","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/gitment.ejs","hash":"90888c945384aa1ee4650bd43bd7ea670f25828c","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/head.ejs","hash":"1e1a37c84615f525037fb1e5c09cee0af3c6190e","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/google-analytics.ejs","hash":"890c8f04c1f4905dfceb3ea9fd6efdd040d79c01","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/header.ejs","hash":"4bcdbd27273dd1b7098d4cfa6479b5d6b138cd12","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/index-cover.ejs","hash":"8cf6c23c2685d6261f688a32fbb5e64c1f4e7ccb","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/minivaline.ejs","hash":"d0c1ebccbf0869678233aa46d2a61c6112926b2f","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/livere.ejs","hash":"42728561c09589f79b698eb059ab4def53ed3642","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/mobile-nav.ejs","hash":"f3d6b20ac07f1b096c5cf0b091523867fd4fd0b5","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/navigation.ejs","hash":"2d1aff1cb54f47478564b48d046371ed73048562","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/paging.ejs","hash":"d8773abab5d0b672b70a9df20a8f9f7f6b0a2dae","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/post-cover.ejs","hash":"7f583c935253e2bf6421791715ee9de4989add6e","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/post-detail.ejs","hash":"89dfdf14e3835340bb4c2a5fa041ea75687f9e70","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/post-detail-toc.ejs","hash":"ce5fb880f84e39750f725d7e6210b53939ae85fa","modified":1636083168425},{"_id":"themes/hexo-theme-matery/layout/_partial/post-statis.ejs","hash":"de0d5763ddd64463f43135678b64c044884b8406","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/prev-next.ejs","hash":"1fb43f421de58aa24458f7d4a4cda44b8a3d62cc","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/reprint-statement.ejs","hash":"f67bc52bc5a2464ebe30f42c65c0ee38eeec2fda","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/search.ejs","hash":"4218ed406c43ed781fe78ad8bf1834fa4b76b049","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/reward.ejs","hash":"90c2ab31492f8226454537d6b987e9399119047d","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/share.ejs","hash":"e50fae64b6cfdbed18861eb49eca5018a920c7a4","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/social-link.ejs","hash":"f640583d45179abc1ef57951e7f61fb9e10f44c9","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/twikoo.ejs","hash":"d1d7c4da3d56f42541eea965a6ebf1f8e2fff0f4","modified":1636029788063},{"_id":"themes/hexo-theme-matery/layout/_partial/valine.ejs","hash":"5eea5e6da0cbfd3d93ae7e9193fa59997b467426","modified":1636029788078},{"_id":"themes/hexo-theme-matery/layout/_widget/artitalk.ejs","hash":"b14e486f12b9ac42a273b80e4d785fcb94cf04b2","modified":1636029788078},{"_id":"themes/hexo-theme-matery/layout/_widget/category-cloud.ejs","hash":"3ef458166041a8a12e493cc5963a5af5d98c1dfc","modified":1636029788078},{"_id":"themes/hexo-theme-matery/layout/_widget/category-radar.ejs","hash":"131e2eabf6b216210efd0746300889adfee357be","modified":1636029788078},{"_id":"themes/hexo-theme-matery/layout/_widget/dream.ejs","hash":"d6692f8c81013191fce59f47df1b6171649181ca","modified":1636029788078},{"_id":"themes/hexo-theme-matery/layout/_widget/music.ejs","hash":"8fc0e6172abbed7084b06e3ed637ad37e2752c48","modified":1636029788078},{"_id":"themes/hexo-theme-matery/layout/_widget/my-gallery.ejs","hash":"f5259f18a906f2862fe72b90c28125b5f6b7d0b1","modified":1636029788078},{"_id":"themes/hexo-theme-matery/layout/_widget/my-projects.ejs","hash":"141f19a8aa41b7a21436f23ce114bd5fda932512","modified":1636029788078},{"_id":"themes/hexo-theme-matery/layout/_widget/my-skills.ejs","hash":"9edbeb1ec6212762d597ae7a05b5a219f72c8f98","modified":1636029788078},{"_id":"themes/hexo-theme-matery/layout/_widget/post-calendar.ejs","hash":"fb5ee7674070956d134ddca6890a9bd3f398cc0f","modified":1636029788078},{"_id":"themes/hexo-theme-matery/layout/_widget/post-charts.ejs","hash":"20f0b6155eee348276dd91790f6a52b1005a0518","modified":1636029788078},{"_id":"themes/hexo-theme-matery/layout/_widget/recommend.ejs","hash":"5f64edd00d0a7c3b5e90d5ff99c9ebba61482d75","modified":1636029788078},{"_id":"themes/hexo-theme-matery/layout/_widget/tag-wordcloud.ejs","hash":"03dcd0a7a9fdbcc2bc38a99a8fad96ae17a340fa","modified":1636029788078},{"_id":"themes/hexo-theme-matery/layout/_widget/tag-cloud.ejs","hash":"d32898104477acef56c33d00a68b48db15dcf2e6","modified":1636029788078},{"_id":"themes/hexo-theme-matery/layout/_widget/video.ejs","hash":"c2f785f4986d6ed1da0d1f2cd339f33754625004","modified":1636029788078},{"_id":"themes/hexo-theme-matery/source/css/barrager.css","hash":"f59b2f1351d7977b676a4d51634b7dad648d3e99","modified":1636029788094},{"_id":"themes/hexo-theme-matery/source/css/gallery.css","hash":"015097ca1271dd44e6d663332587dbe58ae2ade8","modified":1636029788094},{"_id":"themes/hexo-theme-matery/source/css/bb.css","hash":"328a49b26ce663d9824c53aced118db4d55f2ac7","modified":1636029788094},{"_id":"themes/hexo-theme-matery/source/css/gitment.css","hash":"d5ef623065d1fbc897119f7b70ccf7563e329917","modified":1636029788094},{"_id":"themes/hexo-theme-matery/source/css/matery.css","hash":"c6abb3891f01760d7c42cf72842c5ee725b42257","modified":1636083360953},{"_id":"themes/hexo-theme-matery/source/css/my-gitalk.css","hash":"52b3b36a0ed3db3bdf8bf1f999e37731078c485b","modified":1636029788094},{"_id":"themes/hexo-theme-matery/source/css/my.css","hash":"37683a9f11c68903a53e2b8593ca8c095a721896","modified":1636029788094},{"_id":"themes/hexo-theme-matery/source/js/gallery-encrypt.js","hash":"f611a391d62da17b71f75577a72ad246ef6c5a71","modified":1636029788109},{"_id":"themes/hexo-theme-matery/source/js/jquery.barrager.js","hash":"8db5b764f940614a209a332a4a11a53e5ea52fbc","modified":1636029788109},{"_id":"themes/hexo-theme-matery/source/js/matery.js","hash":"ddfef10e80a09b8efb48c52ede773e71d5890c78","modified":1636029788109},{"_id":"themes/hexo-theme-matery/source/medias/avatar.jpg","hash":"2a6287308628881ce27b9a7de53ba15c2be00d02","modified":1636029788250},{"_id":"themes/hexo-theme-matery/source/js/search.js","hash":"72fac8fd3671f3525a574423985ee522958989d3","modified":1636029788109},{"_id":"themes/hexo-theme-matery/source/medias/comment_bg.png","hash":"dfc93d24081884fbc58cab0f8fd19e77d31d6123","modified":1636029788281},{"_id":"themes/hexo-theme-matery/source/medias/icp.png","hash":"27a96f31f7d0413c6ade6f40e06f021f501151c7","modified":1636029788328},{"_id":"themes/hexo-theme-matery/source/medias/logo.png","hash":"d9095f5ea8719374d9d1ff020279426f5b2a1396","modified":1636029788328},{"_id":"themes/hexo-theme-matery/source/medias/barrager/0.png","hash":"b30416fd3b3aec5af3fa90823a7e2e9c0af4cda8","modified":1636029788281},{"_id":"themes/hexo-theme-matery/source/medias/barrager/2.png","hash":"52b2b13373fe611ad2327b9b40426d6dc05b69cd","modified":1636029788281},{"_id":"themes/hexo-theme-matery/source/medias/barrager/1.png","hash":"b8c211690dba3addedfe7b928e3936cd487df0d6","modified":1636029788281},{"_id":"themes/hexo-theme-matery/source/medias/barrager/close.png","hash":"045346df61ee01abe5018c5d9ba805d2831ce7b1","modified":1636029788281},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/10.jpg","hash":"98e7f6fd9c97d4de9044b6871ca08ebf14db11b9","modified":1636029788281},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/13.jpg","hash":"35a320174f8e316e3eadaec658024276b651c6e9","modified":1636029788297},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/15.jpg","hash":"da0fbee3b7bde1607eace377ddf834c0be99edfe","modified":1636029788297},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/16.jpg","hash":"97a829c4bc94f9d2929b20a1a9b798c57b9f7205","modified":1636029788297},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/2.jpg","hash":"4bba691cf71a517ecaeaf42afd3e8f8b31e346c1","modified":1636029788297},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/21.jpg","hash":"b26edb128bb0bf58b23fd2f014e9555e89a2ca3b","modified":1636029788312},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/22.jpg","hash":"754579747a3e99747d890fca3162f370b96a7941","modified":1636029788312},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/3.jpg","hash":"6ec646c2a70f5f11edacf225c1477f2200a37a96","modified":1636029788312},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/23.jpg","hash":"7d7f37da3fa7128343adac23866449eb2c6a549a","modified":1636029788312},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/5.jpg","hash":"41ca20129a37fedc573eec28dd7d7b9e5b09228a","modified":1636029788312},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/7.jpg","hash":"7975141cd64e875122c0ea33daaca1a06bf00b8e","modified":1636029788312},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/8.jpg","hash":"8e4b7186352085483ca1174c7c0800114c48df8b","modified":1636029788312},{"_id":"themes/hexo-theme-matery/source/medias/reward/wechat.png","hash":"fe93385aa92fe328e01c8221a80b039be9e4e140","modified":1636029788344},{"_id":"themes/hexo-theme-matery/source/libs/animate/animate.min.css","hash":"5dfcbcee866e9dc564916416281885f3e320871e","modified":1636029788109},{"_id":"themes/hexo-theme-matery/source/libs/aos/aos.css","hash":"ded9739f803d114c9168d3351fded72b3b478b4c","modified":1636029788109},{"_id":"themes/hexo-theme-matery/source/libs/aos/aos.js","hash":"5a8e6d07ffa55642418ab3fd4b263aa08284b77a","modified":1636029788109},{"_id":"themes/hexo-theme-matery/source/libs/aplayer/APlayer.min.css","hash":"7f4f8913f2d46ade2def5134e2cc8684a4b87939","modified":1636029788109},{"_id":"themes/hexo-theme-matery/source/libs/aplayer/APlayer.min.js","hash":"70c0c4a9bf698747b7c058c21287ad617355e5dd","modified":1636029788109},{"_id":"themes/hexo-theme-matery/source/libs/background/canvas-nest.js","hash":"d2569ef80127ed2f4af7ef4d9f82b037794eec69","modified":1636029788172},{"_id":"themes/hexo-theme-matery/source/medias/reward/alipay.jpg","hash":"1abc719b95d1b26f1f898e6b0a9b7609146e332f","modified":1636029788328},{"_id":"themes/hexo-theme-matery/source/libs/background/ribbon-dynamic.js","hash":"8f53dbd5f9a40c377664bf8ca0d5d5ed75b91757","modified":1636029788172},{"_id":"themes/hexo-theme-matery/source/libs/background/ribbon-refresh.min.js","hash":"6d98692b2cad8c746a562db18b170b35c24402f4","modified":1636029788172},{"_id":"themes/hexo-theme-matery/source/libs/background/ribbon.min.js","hash":"6a99d494c030388f96f6086a7aaa0f03f3fe532e","modified":1636029788172},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeBlockFuction.js","hash":"a8133367d48199e7505c2d831ca848b4202b9ba6","modified":1636029788172},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeCopy.js","hash":"6ab7871d36cab438bbd4d781bc1fe7618b46b6e7","modified":1636029788172},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeLang.js","hash":"066d2c89ad429e44f6467b9267da782ccaad57de","modified":1636029788172},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeShrink.js","hash":"3edbe498f7bb9e7daa77f9db30e1b5eeab40e067","modified":1636029788172},{"_id":"themes/hexo-theme-matery/source/libs/cryptojs/crypto-js.min.js","hash":"33810b2b757fc4327bc1d3b83bb5e0d3dc1fec5b","modified":1636029788172},{"_id":"themes/hexo-theme-matery/source/libs/dplayer/DPlayer.min.css","hash":"5d52d3b34fceb9d7e11f1beaf7ed380b4249dec4","modified":1636029788172},{"_id":"themes/hexo-theme-matery/source/libs/gitalk/gitalk.css","hash":"4c0d5510ea487b0fe63e96464ab0b381565cc273","modified":1636029788187},{"_id":"themes/hexo-theme-matery/source/libs/gitment/gitment-default.css","hash":"a0625d8b432af8bdc820f8768d36cde439e7257c","modified":1636029788203},{"_id":"themes/hexo-theme-matery/source/libs/instantpage/instantpage.js","hash":"043eba3c85c2e2009a9fabf3c4fc55537852fd86","modified":1636029788203},{"_id":"themes/hexo-theme-matery/source/libs/jqcloud/jqcloud-1.0.4.min.js","hash":"26849509f196a2d21bbfd15696e5d5153163b8f1","modified":1636029788203},{"_id":"themes/hexo-theme-matery/source/libs/jqcloud/jqcloud.css","hash":"4e6538c8312aeeab845d361c37a8c1a0931241f0","modified":1636029788203},{"_id":"themes/hexo-theme-matery/source/libs/masonry/masonry.pkgd.min.js","hash":"137e1c0f71e472fb7004c1832972287fb2dfc343","modified":1636029788219},{"_id":"themes/hexo-theme-matery/source/libs/minivaline/MiniValine.js","hash":"f7f6cdc1b22297e02334e304444e9a8351acb455","modified":1636029788219},{"_id":"themes/hexo-theme-matery/source/libs/others/busuanzi.pure.mini.js","hash":"6e41f31100ae7eb3a6f23f2c168f6dd56e7f7a9a","modified":1636029788219},{"_id":"themes/hexo-theme-matery/source/libs/others/clicklove.js","hash":"6a39b8c683ba5dcd92f70c6ab45d1cfac3213e8e","modified":1636029788219},{"_id":"themes/hexo-theme-matery/source/libs/others/sakura-half.js","hash":"a41b64af88fdd0e2d3502752d059661c1bc743dc","modified":1636029788219},{"_id":"themes/hexo-theme-matery/source/libs/others/sakura-reduce.js","hash":"f7527e9fb4e6fe2cc7c8880692d77bcda95900c7","modified":1636029788219},{"_id":"themes/hexo-theme-matery/source/libs/others/sakura-small.js","hash":"3284a9ab71454e574d80663f3a05735cd12a6a05","modified":1636029788219},{"_id":"themes/hexo-theme-matery/source/libs/others/sakura.js","hash":"b6ebe8f040c84f067300996a5f377846f01605fa","modified":1636029788219},{"_id":"themes/hexo-theme-matery/source/libs/others/snow.js","hash":"07b1e7932403b38aebb1c024ef3c3f5bb0c6aa2e","modified":1636029788234},{"_id":"themes/hexo-theme-matery/source/libs/others/star.js","hash":"1ddc9448fbba8915f9452b4f0a970f33635e46a7","modified":1636029788234},{"_id":"themes/hexo-theme-matery/source/libs/prism/prism.css","hash":"9bba549788f0a195749992ff09acc43c8700d768","modified":1636874530421},{"_id":"themes/hexo-theme-matery/source/libs/scrollprogress/scrollProgress.min.js","hash":"777ffe5d07e85a14fbe97d846f45ffc0087251cc","modified":1636029788234},{"_id":"themes/hexo-theme-matery/source/libs/tocbot/tocbot.css","hash":"9783581bec83e6bd6cd279f0af23a2862f46a587","modified":1636029788234},{"_id":"themes/hexo-theme-matery/source/libs/tocbot/tocbot.min.js","hash":"5ec27317f0270b8cf6b884c6f12025700b9a565c","modified":1636029788234},{"_id":"themes/hexo-theme-matery/source/libs/twikoo/twikoo.all.min.js.LICENSE.txt","hash":"6e1c8f7b23f06ca4c727c805fda053dc1d9193d0","modified":1636029788250},{"_id":"themes/hexo-theme-matery/source/libs/awesome/css/all.min.css","hash":"8bd508bb2f120487671bce49267f7ac8a2eff154","modified":1636029788109},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.eot","hash":"670fb01e4930ae46fe8d6d2b75ead288f54e8e61","modified":1636029788141},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.ttf","hash":"c34acd6818df6db6be41a2e331886765d601f2eb","modified":1636029788141},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.woff","hash":"3ad4f4e4b1fb3edee3d4ba25e6cdfed2f0b88a54","modified":1636029788141},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.woff2","hash":"13517529affa39e2585c591acae6dc336b6aa917","modified":1636029788141},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/css/lightgallery.min.css","hash":"1b7227237f9785c66062a4811508916518e4132c","modified":1636029788203},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.svg","hash":"67d261ac428761389c895e1da73664e633e14a72","modified":1636029788203},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.eot","hash":"54caf05a81e33d7bf04f2e420736ce6f1de5f936","modified":1636029788203},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/loading.gif","hash":"15a76af2739482d8de7354abc6d8dc4fca8d145e","modified":1636029788203},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.woff","hash":"3048de344dd5cad4624e0127e58eaae4b576f574","modified":1636029788203},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/video-play.png","hash":"2962e03ddbe04d7e201a5acccac531a2bbccddfc","modified":1636029788203},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/vimeo-play.png","hash":"9b72fc0f86a01467ed0b68c9cc4d604ec316d517","modified":1636029788203},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.ttf","hash":"f6421c0c397311ae09f9257aa58bcd5e9720f493","modified":1636029788203},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/youtube-play.png","hash":"f8d11384d33b7a79ee2ba8d522844f14d5067a80","modified":1636029788219},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/js/lightgallery-all.min.js","hash":"f8cd48e1fff82ecd54a7ce3e69de8dba7c92d113","modified":1636029788219},{"_id":"themes/hexo-theme-matery/source/libs/share/css/share.min.css","hash":"7126de5cec8371e580b7b1f22512da0985cc39e5","modified":1636029788234},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.eot","hash":"00ff749c8e202401190cc98d56087cdda716abe4","modified":1636029788234},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.svg","hash":"1d56c9d5db0273f07c43cc1397e440f98ba7827a","modified":1636029788234},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.ttf","hash":"afd898f59d363887418669520b24d175f966a083","modified":1636029788234},{"_id":"themes/hexo-theme-matery/source/libs/share/js/jquery.share.min.js","hash":"de34668d902ec082d17ddb6dd7ad24255fb547c5","modified":1636029788234},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.woff","hash":"2e3fce1dcfbd6e2114e7bfbeaf72d3c62e15a1bd","modified":1636029788234},{"_id":"themes/hexo-theme-matery/source/libs/share/js/social-share.min.js","hash":"ba635a17a9d9d132369f9fe4b1fbcaf001ea6ac9","modified":1636029788234},{"_id":"themes/hexo-theme-matery/source/medias/banner/2.jpg","hash":"39fb2535460ce66cc0b34e07ffb9411db1405f09","modified":1636029788250},{"_id":"themes/hexo-theme-matery/source/medias/banner/3.jpg","hash":"4ac047e92d0363b1a61ab756aca6dac13fb77494","modified":1636029788266},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/0.jpg","hash":"1c3300f029fc85d6dda6fa4f1d699551034cdaf7","modified":1636029788281},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/1.jpg","hash":"684ae89de8cb7acefae19f5aee6c612037c46393","modified":1636029788281},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/11.jpg","hash":"f55972ce7175684f2b11c3c9fc2b5b14bccbfae8","modified":1636029788281},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/12.jpg","hash":"8a4b2e7d92ae95c3b0c921db23c35aa9a41a7d58","modified":1636029788297},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/14.jpg","hash":"38e11221406785bcd93aa9cd23e568e164630ef1","modified":1636029788297},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/17.jpg","hash":"42d47903551ee81885c1386022982cae165841c5","modified":1636029788297},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/18.jpg","hash":"64829272ec85bb819d55ff89e5b5fd6f64aa436b","modified":1636029788297},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/20.jpg","hash":"3b11f9b461168d907073f793190865fe621a8573","modified":1636029788312},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/19.jpg","hash":"eb250906fdbc0c408f42ae9933725bc1a05d79fb","modified":1636029788297},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/4.jpg","hash":"e06c47de27619984be9d5d02947f8370a432dfea","modified":1636029788312},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/9.jpg","hash":"b956a2291a04b2132366b53666cf34858b8bdb1f","modified":1636029788312},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/6.jpg","hash":"c8f2aa4bbb041158b4e73733a341e6a77c8583f7","modified":1636029788312},{"_id":"themes/hexo-theme-matery/source/libs/dplayer/DPlayer.min.js","hash":"82276be41d2001e820020a219b90ad5b026302d1","modified":1636029788172},{"_id":"themes/hexo-theme-matery/source/libs/gitment/gitment.js","hash":"5a13983930b019450e4fe01a407c64b3dd316be4","modified":1636029788203},{"_id":"themes/hexo-theme-matery/source/libs/jquery/jquery.min.js","hash":"a8927ac2830b2fdd4a729eb0eb7f80923539ceb9","modified":1636029788203},{"_id":"themes/hexo-theme-matery/source/libs/valine/Valine.min.js","hash":"d6c03e8c3e547b5f48878081d10559b80f626948","modified":1636029788250},{"_id":"themes/hexo-theme-matery/source/libs/awesome/css/all.css","hash":"af83425d4a008e11110634e9aed99e8f91424a99","modified":1636029788109},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.woff","hash":"1e1f02bfa89e179fe2dd1383273b8812aa873418","modified":1636029788141},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.woff2","hash":"0613c7ebba55ee47ef302c0f7766324692f899a7","modified":1636029788141},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.woff","hash":"a22acd7697f36e7d4cc31a853c70e776eac54bb1","modified":1636029788156},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.woff2","hash":"0ccb2c814a7e4ca12c4778821633809cb0361eaa","modified":1636029788172},{"_id":"source/_posts/pic/005/6.jpg","hash":"b355fd49537a2a761df14b57fba1756ed6ef27e4","modified":1637060646676},{"_id":"themes/hexo-theme-matery/source/medias/banner/0.jpg","hash":"69ec96cd9b4bc3aa631adc9da61353f50c39f031","modified":1636029788250},{"_id":"themes/hexo-theme-matery/source/medias/banner/5.jpg","hash":"852418f4f09e796e12bc3bab7a1488d3f37d6486","modified":1636029788266},{"_id":"themes/hexo-theme-matery/source/medias/banner/6.jpg","hash":"ed7282cc129c4ff9f322d2f2897fb4aac5c48589","modified":1636029788281},{"_id":"themes/hexo-theme-matery/source/libs/materialize/materialize.min.css","hash":"a69d456e3345e7f59cd0d47d1b3e70fd4a496a05","modified":1636029788219},{"_id":"themes/hexo-theme-matery/source/libs/materialize/materialize.min.js","hash":"c843f0dc497314574c608ca28cc742bb041786d5","modified":1636029788219},{"_id":"themes/hexo-theme-matery/source/libs/valine/av-min.js","hash":"9cb4babc20eb8fb5a86c4b0cc894fdb0f3cd9534","modified":1636029788250},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.eot","hash":"d1ffd6340cdbf72890ccb67f32015eafc5df51a7","modified":1636029788125},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.ttf","hash":"8ab907083fecaaa2a9ec93b27f884ad74573705c","modified":1636029788141},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.svg","hash":"229deca2465fa9efc8c03d0ebeb9a01c1559822e","modified":1636029788141},{"_id":"themes/hexo-theme-matery/source/medias/cover.jpg","hash":"d4957ff7cc5e88555cd840f2956ab0561e6f1ccf","modified":1636029788281},{"_id":"themes/hexo-theme-matery/source/medias/banner/1.jpg","hash":"ab122a36998a4f62a61e61a4fc5e00248113413b","modified":1636029788250},{"_id":"themes/hexo-theme-matery/source/medias/images/02.jpg","hash":"a5b656606811f4d7e10307f48c0e3c373e0b886d","modified":1636029788328},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.eot","hash":"ea845c59bee4a5c6db774b8d8060f5641b789ae9","modified":1636029788156},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.ttf","hash":"eb8914f6b1797b45ee0883e6089d92695d9f9441","modified":1636029788156},{"_id":"themes/hexo-theme-matery/source/js/crypto-js.js","hash":"ddacd177f23f65ff97b93b0417048f51928ee17e","modified":1636029788109},{"_id":"themes/hexo-theme-matery/source/medias/banner/4.jpg","hash":"e5ac5033678afa9d69edffe9a61004f836cb5734","modified":1636029788266},{"_id":"themes/hexo-theme-matery/source/medias/images/03.jpg","hash":"2bd3815508a9f5b0ae79aa780bc02ac80b2a354e","modified":1636029788328},{"_id":"themes/hexo-theme-matery/source/libs/twikoo/twikoo.all.min.js","hash":"d1ec95821873a81eddf4e5698698b39d54d2a8cc","modified":1636029788250},{"_id":"themes/hexo-theme-matery/source/medias/images/01.jpg","hash":"6a81f437fb876666bafaa98b2a09bd8bd7f21832","modified":1636029788328},{"_id":"themes/hexo-theme-matery/source/libs/gitalk/gitalk.min.js","hash":"1df59d7e5481ac2917c7043b28883393675dcaf9","modified":1636029788187},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.svg","hash":"b7fd3035e83c23c720c9f5957af31d7e288fb4eb","modified":1636029788125},{"_id":"themes/hexo-theme-matery/source/libs/echarts/echarts.min.js","hash":"8789b5e4daf0029a6c88f238f10e54d01c4fce82","modified":1636029788187},{"_id":"themes/hexo-theme-matery/source/medias/banner/7.jpg","hash":"69f23bfdcae63f7a14f5144b0c3b516e5d924586","modified":1637055522255},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.svg","hash":"023bb481b65dd8cdeb8c424ca900f3866292bfb0","modified":1636029788156},{"_id":"public/search.xml","hash":"02f67a3b777b8cdad35dcf0bcb8e6729350edb85","modified":1638757754900},{"_id":"public/404/index.html","hash":"8d87bb0e9274650f636ad94e3333d9a61de91826","modified":1637154951220},{"_id":"public/friends/index.html","hash":"1d5d8bd7b52b6cc4f1ffae0c8221faa7c6056340","modified":1637154951220},{"_id":"public/about/index.html","hash":"9a2d4e8b2441312d2757282e7170e63053e13ff1","modified":1638757754900},{"_id":"public/categories/index.html","hash":"c22dfc411bae8c05ca7d8304a81a058787d92826","modified":1638757754900},{"_id":"public/tags/index.html","hash":"221e8cb256bdb470d91a733f3e95c607f7a82fa3","modified":1638757754900},{"_id":"public/2021/11/17/sentry-jian-kong-bu-shu-007-qi-ta-da-jian-fang-shi-xuan-du/index.html","hash":"7b2b73bb52182952e4a99727006c9f9f7f6f2ec1","modified":1637245047709},{"_id":"public/2021/11/17/sentry-jian-kong-bu-shu-006-qian-duan-jie-ru-sentry/index.html","hash":"deb4088fd675820bf2b456afae3a35c3dad30dfd","modified":1637419774564},{"_id":"public/2021/11/17/sentry-jian-kong-bu-shu-004-kai-shi-bu-shu-sentry/index.html","hash":"3118e24c3af71ac15d66a1df7d1164c30a2d13e9","modified":1637419774564},{"_id":"public/2021/11/17/sentry-jian-kong-bu-shu-005-centos-an-zhuang-node/index.html","hash":"b917e99af1be8286bfb88a8ec35a13b6ec119ec8","modified":1637154951220},{"_id":"public/2021/11/17/sentry-jian-kong-bu-shu-003-centos-an-zhuang-docker-he-docker-compose/index.html","hash":"5525a4bb0d94effc7f475096fdabd9d88bd1330b","modified":1637154951220},{"_id":"public/2021/11/17/sentry-jian-kong-bu-shu-002-centos-an-zhuang-git/index.html","hash":"35438b74b8abbcd822dc2e1e926b5b55d4643a7a","modified":1637154951220},{"_id":"public/2021/11/17/sentry-jian-kong-bu-shu-001-vmware-huan-jing-da-jian/index.html","hash":"eed6cbf2700b17edae37ead954eb51835083145d","modified":1637419774564},{"_id":"public/2021/11/14/hexo-bu-shu-bo-ke-005-jie/index.html","hash":"6a6b2d7dcc622ac6be392cd714e95648bac30b6b","modified":1637154951220},{"_id":"public/2021/11/14/hexo-bu-shu-bo-ke-004/index.html","hash":"9e4e53e916dc588bd2ed189b15302aac1e8d0bc2","modified":1637154951220},{"_id":"public/2021/11/14/hexo-bu-shu-bo-ke-003/index.html","hash":"f859550fdd09f9f4461f4cc70fca080baff36f28","modified":1637154951220},{"_id":"public/2021/11/14/hexo-bu-shu-bo-ke-002/index.html","hash":"724f626c117cfd95416287cb5f48f467ace7089e","modified":1637154951220},{"_id":"public/2021/11/14/hexo-bu-shu-bo-ke-001/index.html","hash":"1810300a7451ae604b10b289f645ca8a625d399d","modified":1637154951220},{"_id":"public/categories/linux/index.html","hash":"47fdfde8906e430fd41ceb12ed26feefb5208c0d","modified":1638757754900},{"_id":"public/categories/linux/Sentry/index.html","hash":"dfb345b284aa6ceebae245879275530109be207c","modified":1638757754900},{"_id":"public/archives/index.html","hash":"4dce7c3bd7bf3080af8c94c94a9fd73cd9e55431","modified":1638757754900},{"_id":"public/categories/linux/hexo/index.html","hash":"291b7892efd8d859d628596366a7ee062511dfa8","modified":1638757754900},{"_id":"public/archives/2021/index.html","hash":"eb6067f8ffb58e9fd4e5d820d8d982d3d54a37a5","modified":1638757754900},{"_id":"public/archives/2021/11/index.html","hash":"a98609b29ae8780f8d2f4a83a243065b2dc98c76","modified":1638757754900},{"_id":"public/tags/linux/index.html","hash":"5823d9c4be6a876eb1d4b8727a266f6ff7f22915","modified":1638757754900},{"_id":"public/tags/Sentry/index.html","hash":"f6a57ccd3c3f0d2a73c6e8819582bea5dd51799e","modified":1638757754900},{"_id":"public/tags/vmware/index.html","hash":"5e92c1b626ea36ca06bbb279461c0b1cac478444","modified":1638757754900},{"_id":"public/tags/hexo/index.html","hash":"cc0b8dd90943ab004b379e4488325826b3fbe66a","modified":1638757754900},{"_id":"public/index.html","hash":"9c6a1b65a165aa5a6effc919ec971eade805ae19","modified":1638757754900},{"_id":"public/favicon.png","hash":"774fee8c6d0be9dbb010b20f36c06848d06e3da0","modified":1637154951220},{"_id":"public/medias/avatar.jpg","hash":"2a6287308628881ce27b9a7de53ba15c2be00d02","modified":1637154951220},{"_id":"public/medias/comment_bg.png","hash":"dfc93d24081884fbc58cab0f8fd19e77d31d6123","modified":1637154951220},{"_id":"public/medias/icp.png","hash":"27a96f31f7d0413c6ade6f40e06f021f501151c7","modified":1637154951220},{"_id":"public/medias/logo.png","hash":"d9095f5ea8719374d9d1ff020279426f5b2a1396","modified":1637154951220},{"_id":"public/medias/barrager/0.png","hash":"b30416fd3b3aec5af3fa90823a7e2e9c0af4cda8","modified":1637154951220},{"_id":"public/medias/barrager/2.png","hash":"52b2b13373fe611ad2327b9b40426d6dc05b69cd","modified":1637154951220},{"_id":"public/medias/barrager/1.png","hash":"b8c211690dba3addedfe7b928e3936cd487df0d6","modified":1637154951220},{"_id":"public/medias/barrager/close.png","hash":"045346df61ee01abe5018c5d9ba805d2831ce7b1","modified":1637154951220},{"_id":"public/medias/featureimages/15.jpg","hash":"da0fbee3b7bde1607eace377ddf834c0be99edfe","modified":1637154951220},{"_id":"public/medias/featureimages/16.jpg","hash":"97a829c4bc94f9d2929b20a1a9b798c57b9f7205","modified":1637154951220},{"_id":"public/medias/featureimages/2.jpg","hash":"4bba691cf71a517ecaeaf42afd3e8f8b31e346c1","modified":1637154951220},{"_id":"public/medias/featureimages/21.jpg","hash":"b26edb128bb0bf58b23fd2f014e9555e89a2ca3b","modified":1637154951220},{"_id":"public/medias/featureimages/22.jpg","hash":"754579747a3e99747d890fca3162f370b96a7941","modified":1637154951220},{"_id":"public/medias/featureimages/23.jpg","hash":"7d7f37da3fa7128343adac23866449eb2c6a549a","modified":1637154951220},{"_id":"public/medias/featureimages/5.jpg","hash":"41ca20129a37fedc573eec28dd7d7b9e5b09228a","modified":1637154951220},{"_id":"public/medias/featureimages/7.jpg","hash":"7975141cd64e875122c0ea33daaca1a06bf00b8e","modified":1637154951220},{"_id":"public/medias/reward/wechat.png","hash":"fe93385aa92fe328e01c8221a80b039be9e4e140","modified":1637154951220},{"_id":"public/medias/reward/alipay.jpg","hash":"1abc719b95d1b26f1f898e6b0a9b7609146e332f","modified":1637154951220},{"_id":"public/medias/featureimages/0.jpg","hash":"1c3300f029fc85d6dda6fa4f1d699551034cdaf7","modified":1637154951220},{"_id":"public/medias/featureimages/13.jpg","hash":"35a320174f8e316e3eadaec658024276b651c6e9","modified":1637154951220},{"_id":"public/medias/featureimages/17.jpg","hash":"42d47903551ee81885c1386022982cae165841c5","modified":1637154951220},{"_id":"public/medias/featureimages/18.jpg","hash":"64829272ec85bb819d55ff89e5b5fd6f64aa436b","modified":1637154951220},{"_id":"public/medias/featureimages/19.jpg","hash":"eb250906fdbc0c408f42ae9933725bc1a05d79fb","modified":1637154951220},{"_id":"public/medias/featureimages/3.jpg","hash":"6ec646c2a70f5f11edacf225c1477f2200a37a96","modified":1637154951220},{"_id":"public/medias/featureimages/4.jpg","hash":"e06c47de27619984be9d5d02947f8370a432dfea","modified":1637154951220},{"_id":"public/medias/featureimages/9.jpg","hash":"b956a2291a04b2132366b53666cf34858b8bdb1f","modified":1637154951220},{"_id":"public/libs/twikoo/twikoo.all.min.js.LICENSE.txt","hash":"6e1c8f7b23f06ca4c727c805fda053dc1d9193d0","modified":1637154951220},{"_id":"public/libs/awesome/webfonts/fa-regular-400.eot","hash":"670fb01e4930ae46fe8d6d2b75ead288f54e8e61","modified":1637154951220},{"_id":"public/libs/awesome/webfonts/fa-regular-400.ttf","hash":"c34acd6818df6db6be41a2e331886765d601f2eb","modified":1637154951220},{"_id":"public/libs/awesome/webfonts/fa-regular-400.woff","hash":"3ad4f4e4b1fb3edee3d4ba25e6cdfed2f0b88a54","modified":1637154951220},{"_id":"public/libs/awesome/webfonts/fa-regular-400.woff2","hash":"13517529affa39e2585c591acae6dc336b6aa917","modified":1637154951220},{"_id":"public/libs/lightGallery/fonts/lg.eot","hash":"54caf05a81e33d7bf04f2e420736ce6f1de5f936","modified":1637154951220},{"_id":"public/libs/lightGallery/fonts/lg.svg","hash":"67d261ac428761389c895e1da73664e633e14a72","modified":1637154951220},{"_id":"public/libs/lightGallery/fonts/lg.woff","hash":"3048de344dd5cad4624e0127e58eaae4b576f574","modified":1637154951220},{"_id":"public/libs/lightGallery/img/loading.gif","hash":"15a76af2739482d8de7354abc6d8dc4fca8d145e","modified":1637154951220},{"_id":"public/libs/lightGallery/img/video-play.png","hash":"2962e03ddbe04d7e201a5acccac531a2bbccddfc","modified":1637154951220},{"_id":"public/libs/lightGallery/fonts/lg.ttf","hash":"f6421c0c397311ae09f9257aa58bcd5e9720f493","modified":1637154951220},{"_id":"public/libs/lightGallery/img/vimeo-play.png","hash":"9b72fc0f86a01467ed0b68c9cc4d604ec316d517","modified":1637154951220},{"_id":"public/libs/lightGallery/img/youtube-play.png","hash":"f8d11384d33b7a79ee2ba8d522844f14d5067a80","modified":1637154951220},{"_id":"public/libs/share/fonts/iconfont.ttf","hash":"afd898f59d363887418669520b24d175f966a083","modified":1637154951220},{"_id":"public/libs/share/fonts/iconfont.eot","hash":"00ff749c8e202401190cc98d56087cdda716abe4","modified":1637154951220},{"_id":"public/libs/share/fonts/iconfont.svg","hash":"1d56c9d5db0273f07c43cc1397e440f98ba7827a","modified":1637154951220},{"_id":"public/libs/share/fonts/iconfont.woff","hash":"2e3fce1dcfbd6e2114e7bfbeaf72d3c62e15a1bd","modified":1637154951220},{"_id":"public/css/prism.css","hash":"f1f64f4a26b715edbd65391def53322611df75cf","modified":1637154951220},{"_id":"public/medias/banner/0.jpg","hash":"69ec96cd9b4bc3aa631adc9da61353f50c39f031","modified":1637154951220},{"_id":"public/medias/banner/2.jpg","hash":"39fb2535460ce66cc0b34e07ffb9411db1405f09","modified":1637154951220},{"_id":"public/medias/banner/5.jpg","hash":"852418f4f09e796e12bc3bab7a1488d3f37d6486","modified":1637154951220},{"_id":"public/medias/featureimages/1.jpg","hash":"684ae89de8cb7acefae19f5aee6c612037c46393","modified":1637154951220},{"_id":"public/medias/featureimages/11.jpg","hash":"f55972ce7175684f2b11c3c9fc2b5b14bccbfae8","modified":1637154951220},{"_id":"public/medias/featureimages/10.jpg","hash":"98e7f6fd9c97d4de9044b6871ca08ebf14db11b9","modified":1637154951220},{"_id":"public/medias/featureimages/12.jpg","hash":"8a4b2e7d92ae95c3b0c921db23c35aa9a41a7d58","modified":1637154951220},{"_id":"public/medias/featureimages/14.jpg","hash":"38e11221406785bcd93aa9cd23e568e164630ef1","modified":1637154951220},{"_id":"public/medias/featureimages/20.jpg","hash":"3b11f9b461168d907073f793190865fe621a8573","modified":1637154951220},{"_id":"public/medias/featureimages/8.jpg","hash":"8e4b7186352085483ca1174c7c0800114c48df8b","modified":1637154951220},{"_id":"public/libs/awesome/webfonts/fa-brands-400.woff2","hash":"0613c7ebba55ee47ef302c0f7766324692f899a7","modified":1637154951220},{"_id":"public/libs/awesome/webfonts/fa-solid-900.woff","hash":"a22acd7697f36e7d4cc31a853c70e776eac54bb1","modified":1637154951220},{"_id":"public/libs/awesome/webfonts/fa-solid-900.woff2","hash":"0ccb2c814a7e4ca12c4778821633809cb0361eaa","modified":1637154951220},{"_id":"public/css/gallery.css","hash":"79dfdf68d675c17782271647283c568d086e4b98","modified":1637154951220},{"_id":"public/css/barrager.css","hash":"862879d9313ed8d4c721fa32ef8f94ac2f0a28ae","modified":1637154951220},{"_id":"public/css/bb.css","hash":"aa15633888c7cf9baea8bb48d796c68b57cf14bf","modified":1637154951220},{"_id":"public/css/gitment.css","hash":"2bd15cc17dca35ac3ecc0acf167a23a1dd362acd","modified":1637154951220},{"_id":"public/css/my.css","hash":"497e50351f7838f8546cac76850a42e7e380a110","modified":1637154951220},{"_id":"public/css/my-gitalk.css","hash":"af18dd29e58642c18bab9b89541767b494c468dd","modified":1637154951220},{"_id":"public/js/jquery.barrager.js","hash":"19c8b2498ca1083e537f7f443172970912107f83","modified":1637154951220},{"_id":"public/js/gallery-encrypt.js","hash":"18dcfa4a8da8847b64be75f287f45c0e830bbcab","modified":1637154951220},{"_id":"public/js/search.js","hash":"5caa2d6e3d34c334ac68dfaafc81a583d6123382","modified":1637154951220},{"_id":"public/js/matery.js","hash":"b86de5fe3e9766b7ff80df12ea41c3a9e30825f7","modified":1637154951220},{"_id":"public/libs/aos/aos.js","hash":"02bfb40b0c4b6e9b0b4081218357145cbb327d74","modified":1637154951220},{"_id":"public/libs/background/canvas-nest.js","hash":"65333d0dbb9c1173a1b13031b230161fc42c8b2f","modified":1637154951220},{"_id":"public/libs/aplayer/APlayer.min.css","hash":"07372a2ba507388d0fed166d761b1c2c2a659dce","modified":1637154951220},{"_id":"public/libs/background/ribbon-dynamic.js","hash":"052b80c29e6bc585aa28d4504b743bdbac220a88","modified":1637154951220},{"_id":"public/libs/background/ribbon.min.js","hash":"6a99d494c030388f96f6086a7aaa0f03f3fe532e","modified":1637154951220},{"_id":"public/libs/background/ribbon-refresh.min.js","hash":"6d98692b2cad8c746a562db18b170b35c24402f4","modified":1637154951220},{"_id":"public/libs/codeBlock/codeBlockFuction.js","hash":"c7ab06d27a525b15b1eb69027135269e9b9132fb","modified":1637154951220},{"_id":"public/libs/codeBlock/codeCopy.js","hash":"6d39a766af62e625f177c4d5cf3adc35eed71e61","modified":1637154951220},{"_id":"public/libs/codeBlock/codeLang.js","hash":"bac88b4d4e3679732d29bd037c34f089cf27cf05","modified":1637154951220},{"_id":"public/libs/codeBlock/codeShrink.js","hash":"201e8cd761b4be557247bdaf1ebc7c11c83194f6","modified":1637154951220},{"_id":"public/medias/cover.jpg","hash":"d4957ff7cc5e88555cd840f2956ab0561e6f1ccf","modified":1637154951220},{"_id":"public/medias/banner/1.jpg","hash":"ab122a36998a4f62a61e61a4fc5e00248113413b","modified":1637154951220},{"_id":"public/medias/banner/3.jpg","hash":"4ac047e92d0363b1a61ab756aca6dac13fb77494","modified":1637154951220},{"_id":"public/medias/banner/6.jpg","hash":"ed7282cc129c4ff9f322d2f2897fb4aac5c48589","modified":1637154951220},{"_id":"public/libs/awesome/webfonts/fa-regular-400.svg","hash":"229deca2465fa9efc8c03d0ebeb9a01c1559822e","modified":1637154951220},{"_id":"public/libs/instantpage/instantpage.js","hash":"83ce8919b1a69b2f1809ffaf99b52a8627e650e9","modified":1637154951220},{"_id":"public/libs/jqcloud/jqcloud-1.0.4.min.js","hash":"257eaae3020599e4939f50d5008a743827f25b8c","modified":1637154951220},{"_id":"public/libs/jqcloud/jqcloud.css","hash":"20d9f11a19d95c70e27cb922e0d6dccbec4eae89","modified":1637154951220},{"_id":"public/libs/minivaline/MiniValine.js","hash":"f7f6cdc1b22297e02334e304444e9a8351acb455","modified":1637154951220},{"_id":"public/libs/others/busuanzi.pure.mini.js","hash":"6e41f31100ae7eb3a6f23f2c168f6dd56e7f7a9a","modified":1637154951220},{"_id":"public/libs/others/clicklove.js","hash":"6a39b8c683ba5dcd92f70c6ab45d1cfac3213e8e","modified":1637154951220},{"_id":"public/libs/prism/prism.css","hash":"1651df92737d754e7729019ed7f5dad1ae5b52ab","modified":1637154951220},{"_id":"public/libs/others/snow.js","hash":"02b1eeaca737c47be637b304feb3d36d792ee0c4","modified":1637154951220},{"_id":"public/libs/others/star.js","hash":"cf32f8ce2a1a51ba65d3b6063fe2ee1482550190","modified":1637154951220},{"_id":"public/libs/tocbot/tocbot.css","hash":"9ab8ef576c9a57115194152e79cca79b0a41dd70","modified":1637154951220},{"_id":"public/libs/scrollprogress/scrollProgress.min.js","hash":"777ffe5d07e85a14fbe97d846f45ffc0087251cc","modified":1637154951220},{"_id":"public/libs/tocbot/tocbot.min.js","hash":"5ec27317f0270b8cf6b884c6f12025700b9a565c","modified":1637154951220},{"_id":"public/libs/share/css/share.min.css","hash":"8a778a86f3ce9a042df6be63a9f1039631e351a5","modified":1637154951220},{"_id":"public/libs/aos/aos.css","hash":"191a3705a8f63e589a50a0ff2f2c5559f1a1b6b2","modified":1637154951220},{"_id":"public/libs/gitalk/gitalk.css","hash":"61d71cb30f5f34cbb1f2b5bc469784d6cb908c22","modified":1637154951220},{"_id":"public/libs/awesome/webfonts/fa-brands-400.woff","hash":"1e1f02bfa89e179fe2dd1383273b8812aa873418","modified":1637154951220},{"_id":"public/libs/awesome/webfonts/fa-solid-900.eot","hash":"ea845c59bee4a5c6db774b8d8060f5641b789ae9","modified":1637154951220},{"_id":"public/libs/gitment/gitment-default.css","hash":"2903c59ee06b965bef32e937bd69f5b0b2190717","modified":1637154951220},{"_id":"public/css/matery.css","hash":"d1f392eb620c46d82a1f0dfdd4ed3ae73a2c0a4f","modified":1637154951220},{"_id":"public/libs/cryptojs/crypto-js.min.js","hash":"5989527a378b55011a59522f41eeb3981518325c","modified":1637154951220},{"_id":"public/libs/dplayer/DPlayer.min.css","hash":"f7d19655f873b813ffba5d1a17145c91f82631b8","modified":1637154951220},{"_id":"public/libs/masonry/masonry.pkgd.min.js","hash":"d20252cf76c3be8af37a8415d13ad368c762b4d8","modified":1637154951220},{"_id":"public/libs/lightGallery/css/lightgallery.min.css","hash":"1b7227237f9785c66062a4811508916518e4132c","modified":1637154951220},{"_id":"public/libs/share/js/social-share.min.js","hash":"a3090a02786dcd4efc6355c1c1dc978add8d6827","modified":1637154951220},{"_id":"public/libs/share/js/jquery.share.min.js","hash":"41367dcb857e02e3c417ebe68a554ce1d4430806","modified":1637154951220},{"_id":"public/medias/images/02.jpg","hash":"a5b656606811f4d7e10307f48c0e3c373e0b886d","modified":1637154951220},{"_id":"public/libs/awesome/webfonts/fa-brands-400.eot","hash":"d1ffd6340cdbf72890ccb67f32015eafc5df51a7","modified":1637154951220},{"_id":"public/libs/awesome/webfonts/fa-brands-400.ttf","hash":"8ab907083fecaaa2a9ec93b27f884ad74573705c","modified":1637154951220},{"_id":"public/libs/awesome/webfonts/fa-solid-900.ttf","hash":"eb8914f6b1797b45ee0883e6089d92695d9f9441","modified":1637154951220},{"_id":"public/libs/animate/animate.min.css","hash":"97afa151569f046b2e01f27c1871646e9cd87caf","modified":1637154951220},{"_id":"public/libs/aplayer/APlayer.min.js","hash":"22caa28ff6b41a16ff40f15d38f1739e22359478","modified":1637154951220},{"_id":"public/medias/banner/4.jpg","hash":"e5ac5033678afa9d69edffe9a61004f836cb5734","modified":1637154951220},{"_id":"public/medias/featureimages/6.jpg","hash":"c8f2aa4bbb041158b4e73733a341e6a77c8583f7","modified":1637154951220},{"_id":"public/libs/others/sakura-half.js","hash":"a41b64af88fdd0e2d3502752d059661c1bc743dc","modified":1637154951220},{"_id":"public/libs/others/sakura-small.js","hash":"3284a9ab71454e574d80663f3a05735cd12a6a05","modified":1637154951220},{"_id":"public/libs/others/sakura.js","hash":"9e196ab241799126e6a2dd23ee1708b1505ccbf0","modified":1637154951220},{"_id":"public/libs/others/sakura-reduce.js","hash":"f7527e9fb4e6fe2cc7c8880692d77bcda95900c7","modified":1637154951220},{"_id":"public/libs/awesome/css/all.min.css","hash":"a57ee68d11601b0fd8e5037fc241ff65a754473c","modified":1637154951220},{"_id":"public/libs/lightGallery/js/lightgallery-all.min.js","hash":"9f5ef4bc8a0a3c746ca4f3c3e6d64493b1a977d8","modified":1637154951220},{"_id":"public/medias/images/03.jpg","hash":"2bd3815508a9f5b0ae79aa780bc02ac80b2a354e","modified":1637154951220},{"_id":"public/libs/gitment/gitment.js","hash":"28c02c45ce568e084cd1041dc493f83f9c6c88c6","modified":1637154951220},{"_id":"public/libs/valine/Valine.min.js","hash":"6cbdbf91e1f046dd41267a5ff0691a1fccba99df","modified":1637154951220},{"_id":"public/libs/awesome/css/all.css","hash":"8a4a55db46c5dbfef9c6703fa2d04e89cbfcf633","modified":1637154951220},{"_id":"public/libs/jquery/jquery.min.js","hash":"2115753ca5fb7032aec498db7bb5dca624dbe6be","modified":1637154951220},{"_id":"public/libs/dplayer/DPlayer.min.js","hash":"c3bad7b265574fab0ae4d45867422ea1cb9d6599","modified":1637154951220},{"_id":"public/libs/materialize/materialize.min.css","hash":"a69d456e3345e7f59cd0d47d1b3e70fd4a496a05","modified":1637154951220},{"_id":"public/libs/valine/av-min.js","hash":"541efb9edc1ce425cbe3897cfc25803211fe6a05","modified":1637154951220},{"_id":"public/medias/images/01.jpg","hash":"6a81f437fb876666bafaa98b2a09bd8bd7f21832","modified":1637154951220},{"_id":"public/js/crypto-js.js","hash":"3dd73b6f13dc818a3a9c5c7424c1c4a9649b00a2","modified":1637154951220},{"_id":"public/libs/materialize/materialize.min.js","hash":"c8b4c65651921d888cf5f27430dfe2ad190d35bf","modified":1637154951220},{"_id":"public/libs/awesome/webfonts/fa-brands-400.svg","hash":"b7fd3035e83c23c720c9f5957af31d7e288fb4eb","modified":1637154951220},{"_id":"public/medias/banner/7.jpg","hash":"69f23bfdcae63f7a14f5144b0c3b516e5d924586","modified":1637154951220},{"_id":"public/libs/awesome/webfonts/fa-solid-900.svg","hash":"023bb481b65dd8cdeb8c424ca900f3866292bfb0","modified":1637154951220},{"_id":"public/libs/twikoo/twikoo.all.min.js","hash":"c3f5f0a69b7864e7ef5bbf99fc774bec37947d7c","modified":1637154951220},{"_id":"public/libs/echarts/echarts.min.js","hash":"9496f386a0da4601cad22c479cc5543913a4d67f","modified":1637154951220},{"_id":"public/libs/gitalk/gitalk.min.js","hash":"564fc7c731d05fa70d71ef853a2c8cc7725739e2","modified":1637154951220},{"_id":"source/_posts/Sentry监控部署008-上传source-map.md","hash":"03809a222e17f7f2accbd97bf6eb33944f8cd986","modified":1637419734518},{"_id":"source/_posts/pic/008/auth-tokens.jpg","hash":"5db385218f537b6d8a1b6f7fdf83453a326a13ae","modified":1637151514058},{"_id":"source/_posts/pic/008/sourcemap.jpg","hash":"b7582705499ad72b013ad06e97a9668b8a15842e","modified":1637151514150},{"_id":"source/_posts/pic/008/sourcemap-error.jpg","hash":"7b3d3072165708738627235ee6f34be9d22bb8d4","modified":1637151514144},{"_id":"public/2021/11/18/sentry-jian-kong-bu-shu-008-shang-chuan-source-map/index.html","hash":"984f5e3051df22e39492e196c70fce2b8755ae56","modified":1637419774564},{"_id":"public/archives/page/2/index.html","hash":"e0319118a076f207fca1c867b8a6d3d79684c825","modified":1638757754900},{"_id":"public/archives/2021/page/2/index.html","hash":"99d3d872daef311d6c4de12cfb3848ad3cca0148","modified":1638757754900},{"_id":"public/archives/2021/11/page/2/index.html","hash":"a2a0d018cf4c540801ac14e66a55e5632ec6f437","modified":1638757754900},{"_id":"public/categories/linux/page/2/index.html","hash":"592f51f5abc2d0b274f1f091bf17386c3fe4fd6a","modified":1638757754900},{"_id":"public/tags/linux/page/2/index.html","hash":"9eee6a23024b5916d88a1984a89a13144d199072","modified":1638757754900},{"_id":"public/page/2/index.html","hash":"971d8e8aa1ae4db0e67bb798ae6cd748c984b893","modified":1638757754900},{"_id":"source/_posts/Sentry监控部署009-面包屑追踪时间和Performance追踪性能.md","hash":"10149686bcef447a8bd84c610adfe3d6c0e04495","modified":1637382396819},{"_id":"public/2021/11/20/sentry-jian-kong-bu-shu-009-mian-bao-xie-zhui-zong-shi-jian-he-performance-zhui-zong-xing-neng/index.html","hash":"0bfa13f905036efc58ef6f04dd07b3f4c557e9ac","modified":1637419774564},{"_id":"source/_posts/Sentry监控部署009-面包屑追踪事件和Performance追踪性能.md","hash":"d20372eb92253e8127318cdbfa55f41aa367baf3","modified":1637419734604},{"_id":"source/_posts/pic/009/p75.jpg","hash":"78f9a2b121cff2e13abd3de2429e81ed73a42c9e","modified":1637379917570},{"_id":"source/_posts/pic/009/performance-card4.jpg","hash":"5f31c1a13871605ce1ed7dd1e21ff7c7baa6d6d7","modified":1637379917594},{"_id":"source/_posts/pic/009/redux-state.jpg","hash":"0465f7811f88954f970601a58bde80d74ea90bdb","modified":1637379917622},{"_id":"source/_posts/pic/009/tpm.jpg","hash":"e9b49fbdbe36ef034456757db57b3648561e5aea","modified":1637379917675},{"_id":"source/_posts/pic/009/LCP-distribution.jpg","hash":"fa33d0600bc352f32cb84964f0bee853376ff67e","modified":1637379917472},{"_id":"source/_posts/pic/009/breadcrumbs-no-performance.jpg","hash":"6390ecb1b3581094de2f6eb927cb6d0384e4cae9","modified":1637379917496},{"_id":"source/_posts/pic/009/react-router-2.jpg","hash":"c906645b7076e3f2e05e7fc7898830f3a68d643f","modified":1637379917620},{"_id":"source/_posts/pic/009/router-detail.jpg","hash":"620a27dfceb743e26b114e3e3f5882370131a3bb","modified":1637379917628},{"_id":"source/_posts/pic/009/add-rule-1.jpg","hash":"a197ddfb8390b8d8f7c850a099fcde5302d603f8","modified":1637379917476},{"_id":"source/_posts/pic/009/diagram-transaction-spans.jpg","hash":"6efd469ec2c21d5c976ee8f98326cc1d9e4d9a3c","modified":1637379917537},{"_id":"source/_posts/pic/009/mail.jpg","hash":"fb8949f545d65211f91add859960f7ed69d32be3","modified":1637379917568},{"_id":"source/_posts/pic/009/react-router-1.jpg","hash":"7a412109e3a9ae2b16eabf07d48a163284333e32","modified":1637379917617},{"_id":"source/_posts/pic/009/redux.jpg","hash":"33a772f5a497ef2bc3da22015db9053d68f744f7","modified":1637379917625},{"_id":"source/_posts/pic/009/sentry-trends.jpg","hash":"af61aff5aaf4a6d3e8f11ab19e0b1c28d9ff9178","modified":1637379917644},{"_id":"source/_posts/pic/009/add-rule-2.jpg","hash":"1064e0427921156d35ecbe1e1739a47fdc5e47f1","modified":1637379917480},{"_id":"source/_posts/pic/009/create-project-1.jpg","hash":"c3ce8297f207c716c73b751904f4fbc26e09a141","modified":1637379917516},{"_id":"source/_posts/pic/009/mail-settings.jpg","hash":"f40f6f5d0ded78d2fad86b45229ac7d987d86c70","modified":1637379917564},{"_id":"source/_posts/pic/009/performance-card2.jpg","hash":"56942023989c68cbbae4ccaa5a31cbe4d85ed9d7","modified":1637379917587},{"_id":"source/_posts/pic/009/diagram-transaction-example.jpg","hash":"d8993e539948fa3694aa098dde1f19080b37ac75","modified":1637379917533},{"_id":"source/_posts/pic/009/diagram-transaction-trace.jpg","hash":"87fd6145596789f00d11a83fd5a2493752fa033e","modified":1637379917541},{"_id":"source/_posts/pic/009/logged.jpg","hash":"5d0ad3f6d20c25fc053ce5bfc493d073cf5846cd","modified":1637379917554},{"_id":"source/_posts/pic/009/login.jpg","hash":"09ef043aa3dfebc6620b856389bf01d5fa30a624","modified":1637379917559},{"_id":"source/_posts/pic/009/performance-card1.jpg","hash":"2fe26d3f7731a883be8df0ad21c16b87fe8eac5f","modified":1637379917583},{"_id":"source/_posts/pic/009/performance-card3.jpg","hash":"ec3aba86147af132a7ca46e2e041aaadcb20aa91","modified":1637379917592},{"_id":"source/_posts/pic/009/sentry-rrweb.gif","hash":"bad58bc4b960b9221fdbf4e4ad371cb1f1962c10","modified":1637379917640},{"_id":"source/_posts/pic/009/create-project-2.jpg","hash":"f572b8b9f9ee60ac50cc662bf3dabd41a474c906","modified":1637379917522},{"_id":"source/_posts/pic/009/create-rule.jpg","hash":"729068e7cd86456f396f1bed11c499e498342dbd","modified":1637379917529},{"_id":"source/_posts/pic/009/auth-tokens.jpg","hash":"5db385218f537b6d8a1b6f7fdf83453a326a13ae","modified":1637379917493},{"_id":"source/_posts/pic/009/create-error.jpg","hash":"55576e6cc2608a44738f1ed0e21337aa8cd42b17","modified":1637379917511},{"_id":"source/_posts/pic/009/first-error.jpg","hash":"c129cf390a24d50affa6be8e8639572df4761e1a","modified":1637379917548},{"_id":"source/_posts/pic/009/project-created.jpg","hash":"ddf5d21981bc5caadc4a05235cf88d1b5f1c53ba","modified":1637379917607},{"_id":"source/_posts/pic/009/react-errorBoundary-error.jpg","hash":"5af6d0a564f717b3f4b8bf289e8ce3fdd79b5c0e","modified":1637379917613},{"_id":"source/_posts/pic/009/sourcemap.jpg","hash":"b7582705499ad72b013ad06e97a9668b8a15842e","modified":1637379917672},{"_id":"source/_posts/pic/009/apdex.jpg","hash":"0633d6761bdd763d9166cd5140e341341b0561db","modified":1637379917487},{"_id":"source/_posts/pic/009/breadcrumbs.jpg","hash":"33ad0c63106463978959b441d3ca5387f25df2ac","modified":1637379917504},{"_id":"source/_posts/pic/009/sourcemap-error.jpg","hash":"7b3d3072165708738627235ee6f34be9d22bb8d4","modified":1637379917651},{"_id":"source/_posts/pic/009/performance1.jpg","hash":"b5f776e6d4e970e462f637b90aba5ca0afb7b63a","modified":1637379917600},{"_id":"source/_posts/pic/009/router.jpg","hash":"7528994de7710e62391f3a18e55e7ac66f6ed6d2","modified":1637379917635},{"_id":"source/_posts/pic/009/pageload.jpg","hash":"2137d9c086e337a3b9bd8a7aa76524b91293c866","modified":1637379917577},{"_id":"source/_posts/pic/010/react-router-2.jpg","hash":"c906645b7076e3f2e05e7fc7898830f3a68d643f","modified":1637379917620},{"_id":"source/_posts/pic/010/router-detail.jpg","hash":"620a27dfceb743e26b114e3e3f5882370131a3bb","modified":1637379917628},{"_id":"source/_posts/pic/010/react-router-1.jpg","hash":"7a412109e3a9ae2b16eabf07d48a163284333e32","modified":1637379917617},{"_id":"source/_posts/pic/010/router.jpg","hash":"7528994de7710e62391f3a18e55e7ac66f6ed6d2","modified":1637379917635},{"_id":"source/_posts/Sentry监控部署010-路由监控和配置.md","hash":"0da890dde48c4bda904f36e053eb8164cb7261de","modified":1637419734614},{"_id":"public/2021/11/20/sentry-jian-kong-bu-shu-010-lu-you-jian-kong-he-pei-zhi/index.html","hash":"08e3ccac9eb5e2085fdbc5e92a31de5471cfa36b","modified":1637583523630},{"_id":"source/_posts/WebAssembly实战000-总结之前笔记.md","hash":"3543d13a4e3dae73a8bb0e277a26d11b28e1ed9b","modified":1637583517702},{"_id":"source/_posts/WebAssembly实战001-初体验.md","hash":"65bf801a6fe30f484e6463ba0d948ce9340bb245","modified":1637583517663},{"_id":"public/2021/11/21/webassembly-shi-zhan-001-chu-ti-yan/index.html","hash":"ba0da3b11b53762dc23c22432c35ed756ac5d457","modified":1637466338927},{"_id":"public/2021/11/21/webassembly-shi-zhan-000-zong-jie-zhi-qian-bi-ji/index.html","hash":"39f61151880e415d2cec02edc17c585335ad8400","modified":1637466338927},{"_id":"public/categories/window/index.html","hash":"ddb3f62e375f7e4e0ddddd723f3f0babc559f713","modified":1638757754900},{"_id":"public/categories/window/Rust/index.html","hash":"d630476a1171a3a965864805fd5efd5aebd5e105","modified":1638757754900},{"_id":"public/categories/window/Rust/WebAssembly/index.html","hash":"519cf4f9d93d733ab7bca55333f5a5902abfc542","modified":1638757754900},{"_id":"public/tags/window/index.html","hash":"b441714c41778363ed2c54b19c3762462dd91106","modified":1638757754900},{"_id":"public/tags/Rust/index.html","hash":"21aaf14e0a1c282a29c9c814288621e23aa7b1c8","modified":1638757754900},{"_id":"public/tags/WebAssembly/index.html","hash":"2097ba03337d5ea05655d2f41c309d7f13feb2e7","modified":1638757754900},{"_id":"source/_posts/Sentry监控部署011-Alert警报.md","hash":"7df071aa49a7bd76669e5ae3a79516928e87c187","modified":1637583481063},{"_id":"source/_posts/Sentry监控部署012-手动报错、组件报错、接入redux.md","hash":"9cdfa72b064e579dce9f493d64e1188643767cb1","modified":1637583466306},{"_id":"public/2021/11/22/webassembly-shi-zhan-001-chu-ti-yan/index.html","hash":"313ec5320f02937faff8f71d4039ca574f1f1ac8","modified":1638757754900},{"_id":"public/2021/11/22/webassembly-shi-zhan-000-zong-jie-zhi-qian-bi-ji/index.html","hash":"fc904687311cde6a84df7c5e69827da5c518d9f0","modified":1637583523630},{"_id":"public/2021/11/22/sentry-jian-kong-bu-shu-012-shou-dong-bao-cuo-zu-jian-bao-cuo-jie-ru-redux/index.html","hash":"cb7f58bb2edda666cdabd57f1bc2bdc7e4aedc11","modified":1637583523630},{"_id":"public/2021/11/22/sentry-jian-kong-bu-shu-011-alert-jing-bao/index.html","hash":"8001e05d458d4797254136e13437d07626d2cf5a","modified":1637583523630},{"_id":"source/_posts/微前端001-webpack5模块联邦实战.md","hash":"73938047af091447dc40dc288ec6b1831a318e72","modified":1638755638287},{"_id":"source/_posts/微前端002-single-spa和qiankun实战.md","hash":"e8bd5b6dd7fa1b011236964e128509012ab92ba8","modified":1638757730221},{"_id":"source/_posts/pic/weiqianduan/10.png","hash":"cb49ea89c8441df8199e0b07cf6b48f637da0aca","modified":1612368570639},{"_id":"source/_posts/pic/weiqianduan/15.png","hash":"3c156e59f75bbd6d20139c7260b4ceb015e02ead","modified":1612367286490},{"_id":"source/_posts/pic/weiqianduan/3.png","hash":"f2f19bd49408b4090a8f7af93fe2b712d63bc29a","modified":1612359707164},{"_id":"source/_posts/pic/weiqianduan/1.png","hash":"a0f5a606b3d62831ac22644c43762c6d5fd3f096","modified":1612354614828},{"_id":"source/_posts/pic/weiqianduan/13.png","hash":"1b3186d12bf454a2be48463661b687d61196da73","modified":1612367151847},{"_id":"source/_posts/pic/weiqianduan/2.png","hash":"27d36ebb68d96e98fa29eace1c90a81a293010ae","modified":1612359688019},{"_id":"source/_posts/pic/weiqianduan/4.png","hash":"c980391b1c7c3369bf0118ca5aa5e51dc2e6d716","modified":1612359724081},{"_id":"source/_posts/pic/weiqianduan/6.png","hash":"1104823e16d9d2f2c49dfa741c8c42a13695716f","modified":1612361110331},{"_id":"source/_posts/pic/weiqianduan/7.png","hash":"32ae3d1184220ce9178b09ae9b9cf2d09fd7cd38","modified":1612365424451},{"_id":"source/_posts/pic/weiqianduan/8.png","hash":"e44ffa47c0550d8ad4f222fa10c32971e40227a9","modified":1612365446465},{"_id":"source/_posts/pic/weiqianduan/9.png","hash":"e4934a190287cb12692e570042a6ee9b848b68db","modified":1612368554480},{"_id":"source/_posts/pic/weiqianduan/5.png","hash":"a69a893f3892b1c3bbe84406de4c8cc934e0c7d1","modified":1612359875910},{"_id":"source/_posts/pic/weiqianduan/12.png","hash":"92b67c3aca6edbafa38cafa5b82a0f2785dde33b","modified":1612367067281},{"_id":"source/_posts/pic/weiqianduan/14.png","hash":"fd04c16a4019665aa91c05eee662404a6a44d216","modified":1612367206819},{"_id":"source/_posts/pic/weiqianduan/11.png","hash":"e33044b8b33008494a2f45e0fbb470acd440832c","modified":1612366999564},{"_id":"public/2021/12/06/wei-qian-duan-002-single-spa-he-qiankun-shi-zhan/index.html","hash":"65adb07fc775e04e5558aa7ca2c139eae9d6d7eb","modified":1638757754900},{"_id":"public/2021/12/06/wei-qian-duan-001-webpack5-mo-kuai-lian-bang-shi-zhan/index.html","hash":"36f60cd3854d83c082164625431c793dddb20b76","modified":1638757754900},{"_id":"public/categories/window/前端/index.html","hash":"5705920a2d253c7955e967bdec8addad8a0f5aa6","modified":1638757754900},{"_id":"public/categories/window/前端/微前端/index.html","hash":"b26da993239108cfdc1e1ede73a6939b4aad9367","modified":1638757754900},{"_id":"public/categories/window/前端/微前端/webpack/index.html","hash":"cb34d8a73c8bdce03dba871e2065e4153a9f6f65","modified":1638757754900},{"_id":"public/categories/window/前端/微前端/sing-spa/index.html","hash":"b87f8918768fcf191649c316087dcfdf18cdd978","modified":1638757754900},{"_id":"public/categories/window/前端/微前端/sing-spa/qiankun/index.html","hash":"b2a08017da4bcfd1350b9df190ce73dce0b702af","modified":1638757754900},{"_id":"public/archives/2021/12/index.html","hash":"575f1487383668c524f83c44140d3e502db150e1","modified":1638757754900},{"_id":"public/tags/前端/index.html","hash":"60c99ad8f37dea8e8999a46212cf81bf4866a3e4","modified":1638757754900},{"_id":"public/tags/微前端/index.html","hash":"ad0c6392d5e9ed0c6c8ff31b8b344354f418ef5f","modified":1638757754900},{"_id":"public/tags/webpack/index.html","hash":"2c4b9aa183714ed7728b1b6e9bcc332744931b52","modified":1638757754900},{"_id":"public/tags/sing-spa/index.html","hash":"7064efd80a2869d7204d619ee73b1a354f4de408","modified":1638757754900},{"_id":"public/tags/qiankun/index.html","hash":"b45ae58ddb4a19d47bcb9a053758c3be8b290239","modified":1638757754900}],"Category":[{"name":"linux","_id":"ckw3jsf630007h8v997sc7501"},{"name":"Sentry","parent":"ckw3jsf630007h8v997sc7501","_id":"ckw3jsf6l000mh8v909hkc7ne"},{"name":"hexo","parent":"ckw3jsf630007h8v997sc7501","_id":"ckw3jsf73001kh8v9biqgeqkv"},{"name":"window","_id":"ckw8p6k7p0003okv9a5a0ff1e"},{"name":"Rust","parent":"ckw8p6k7p0003okv9a5a0ff1e","_id":"ckw8p6k8b0006okv9bab5106k"},{"name":"WebAssembly","parent":"ckw8p6k8b0006okv9bab5106k","_id":"ckw8p6k8r000cokv98l784nzy"},{"name":"前端","parent":"ckw8p6k7p0003okv9a5a0ff1e","_id":"ckwu222oi0003o0v9atdid4m8"},{"name":"微前端","parent":"ckwu222oi0003o0v9atdid4m8","_id":"ckwu222oo0007o0v9bhx09snc"},{"name":"webpack","parent":"ckwu222oo0007o0v9bhx09snc","_id":"ckwu222oq000do0v900qtc7my"},{"name":"sing-spa","parent":"ckwu222oo0007o0v9bhx09snc","_id":"ckwu222os000ho0v91bcga2ds"},{"name":"qiankun","parent":"ckwu222os000ho0v91bcga2ds","_id":"ckwu222ot000ko0v9h1em0250"}],"Data":[{"_id":"friends","data":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}],"Page":[{"title":"404","date":"2018-09-30T09:25:30.000Z","type":"404","layout":"404","description":"Oops～，我崩溃了！找不到你想要的页面 :(","_content":"","source":"404/index.md","raw":"---\ntitle: 404\ndate: 2018-09-30 17:25:30\ntype: \"404\"\nlayout: \"404\"\ndescription: \"Oops～，我崩溃了！找不到你想要的页面 :(\"\n---","updated":"2021-11-04T13:20:51.850Z","path":"404/index.html","comments":1,"_id":"ckw3jsf5j0000h8v90tjq5kz0","content":"","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":""},{"title":"friends","date":"2021-11-04T13:20:20.000Z","type":"friends","layout":"friends","_content":"","source":"friends/index.md","raw":"---\ntitle: friends\ndate: 2021-11-04 21:20:20\ntype: \"friends\"\nlayout: \"friends\"\n---\n","updated":"2021-11-04T13:19:47.632Z","path":"friends/index.html","comments":1,"_id":"ckw3jsf5u0002h8v9hmjd55dp","content":"","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":""},{"title":"about","date":"2021-11-04T13:19:31.000Z","type":"about","layout":"about","_content":"","source":"about/index.md","raw":"---\ntitle: about\ndate: 2021-11-04 21:19:31\ntype: \"about\"\nlayout: \"about\"\n---\n","updated":"2021-11-04T13:19:06.815Z","path":"about/index.html","comments":1,"_id":"ckw3jsf620005h8v9926hga5v","content":"","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":""},{"title":"categories","date":"2021-11-04T13:18:00.000Z","type":"categories","layout":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2021-11-04 21:18:00\ntype: \"categories\"\nlayout: \"categories\"\n---\n","updated":"2021-11-04T13:18:17.863Z","path":"categories/index.html","comments":1,"_id":"ckw3jsf650008h8v9dzu9ccuz","content":"","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":""},{"title":"tags","date":"2021-11-04T13:18:00.000Z","type":"tags","layout":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2021-11-04 21:18:00\ntype: \"tags\"\nlayout: \"tags\"\n---\n","updated":"2021-11-04T13:18:39.449Z","path":"tags/index.html","comments":1,"_id":"ckw3jsf67000ah8v9ebf94lcv","content":"","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":""}],"Post":[{"title":"Sentry监控部署001-vmware环境搭建","date":"2021-11-16T17:47:51.000Z","_content":"\n### 一、搭建准备\n\n本地window10操作系统\n\nvmware版本: VMware Workstation Pro (14版本)\n\n[centos版本](https://mirrors.aliyun.com/centos/): CentOS-7-x86_64-DVD-2009.iso\n\n注意: 文章标注的版本尽量保持一致, 重要!!!\n\n虚拟机硬件条件: 2核8G\n\n### 二、VMwear安装Centos7超详细过程\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/1.jpg)\n\n#### 1.新建虚拟机\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/2.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/3.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/4.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/5.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/6.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/7.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/8.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/9.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/10.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/11.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/12.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/13.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/14.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/15.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/16.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/17.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/18.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/19.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/20.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/21.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/22.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/24.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/25.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/26.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/27.jpg)\n\n> / 的空间换成100G!!!\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/28.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/29.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/30.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/31.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/32.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/33.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/34.jpg)\n\n&nbsp;\n\n```\n转载: https://www.jianshu.com/p/ce08cdbc4ddb?utm_source=tuicool&utm_medium=referral\n参考: https://www.jianshu.com/p/ce08cdbc4ddb?utm_source=tuicool&utm_medium=referral\n      https://blog.csdn.net/babyxue/article/details/80970526\n注意: kali下载包会有缺特定版本问题\n      vmware配置Centos的时候尽量多克隆系统(方便重来)\n```","source":"_posts/Sentry监控部署001-vmware环境搭建.md","raw":"---\ntitle: Sentry监控部署001-vmware环境搭建\ndate: 2021-11-17 01:47:51\ncategories:  \n- [linux, Sentry]  \ntags:  \n- linux\n- Sentry\n- vmware\n---\n\n### 一、搭建准备\n\n本地window10操作系统\n\nvmware版本: VMware Workstation Pro (14版本)\n\n[centos版本](https://mirrors.aliyun.com/centos/): CentOS-7-x86_64-DVD-2009.iso\n\n注意: 文章标注的版本尽量保持一致, 重要!!!\n\n虚拟机硬件条件: 2核8G\n\n### 二、VMwear安装Centos7超详细过程\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/1.jpg)\n\n#### 1.新建虚拟机\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/2.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/3.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/4.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/5.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/6.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/7.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/8.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/9.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/10.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/11.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/12.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/13.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/14.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/15.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/16.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/17.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/18.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/19.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/20.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/21.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/22.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/24.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/25.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/26.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/27.jpg)\n\n> / 的空间换成100G!!!\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/28.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/29.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/30.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/31.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/32.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/33.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/001/34.jpg)\n\n&nbsp;\n\n```\n转载: https://www.jianshu.com/p/ce08cdbc4ddb?utm_source=tuicool&utm_medium=referral\n参考: https://www.jianshu.com/p/ce08cdbc4ddb?utm_source=tuicool&utm_medium=referral\n      https://blog.csdn.net/babyxue/article/details/80970526\n注意: kali下载包会有缺特定版本问题\n      vmware配置Centos的时候尽量多克隆系统(方便重来)\n```","slug":"Sentry监控部署001-vmware环境搭建","published":1,"updated":"2021-11-20T14:48:54.542Z","_id":"ckw3jsf5o0001h8v9hih97my9","comments":1,"layout":"post","photos":[],"link":"","content":"<h3 id=\"一、搭建准备\"><a href=\"#一、搭建准备\" class=\"headerlink\" title=\"一、搭建准备\"></a>一、搭建准备</h3><p>本地window10操作系统</p>\n<p>vmware版本: VMware Workstation Pro (14版本)</p>\n<p><a href=\"https://mirrors.aliyun.com/centos/\">centos版本</a>: CentOS-7-x86_64-DVD-2009.iso</p>\n<p>注意: 文章标注的版本尽量保持一致, 重要!!!</p>\n<p>虚拟机硬件条件: 2核8G</p>\n<h3 id=\"二、VMwear安装Centos7超详细过程\"><a href=\"#二、VMwear安装Centos7超详细过程\" class=\"headerlink\" title=\"二、VMwear安装Centos7超详细过程\"></a>二、VMwear安装Centos7超详细过程</h3><p><img src=\"https://lixuelang.com/test/Sentry/pic/001/1.jpg\" alt=\"图片\"></p>\n<h4 id=\"1-新建虚拟机\"><a href=\"#1-新建虚拟机\" class=\"headerlink\" title=\"1.新建虚拟机\"></a>1.新建虚拟机</h4><p><img src=\"https://lixuelang.com/test/Sentry/pic/001/2.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/3.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/4.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/5.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/6.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/7.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/8.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/9.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/10.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/11.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/12.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/13.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/14.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/15.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/16.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/17.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/18.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/19.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/20.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/21.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/22.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/24.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/25.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/26.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/27.jpg\" alt=\"图片\"></p>\n<blockquote>\n<p>/ 的空间换成100G!!!</p>\n</blockquote>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/28.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/29.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/30.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/31.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/32.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/33.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/34.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">转载: https:&#x2F;&#x2F;www.jianshu.com&#x2F;p&#x2F;ce08cdbc4ddb?utm_source&#x3D;tuicool&amp;utm_medium&#x3D;referral\n参考: https:&#x2F;&#x2F;www.jianshu.com&#x2F;p&#x2F;ce08cdbc4ddb?utm_source&#x3D;tuicool&amp;utm_medium&#x3D;referral\n      https:&#x2F;&#x2F;blog.csdn.net&#x2F;babyxue&#x2F;article&#x2F;details&#x2F;80970526\n注意: kali下载包会有缺特定版本问题\n      vmware配置Centos的时候尽量多克隆系统(方便重来)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<h3 id=\"一、搭建准备\"><a href=\"#一、搭建准备\" class=\"headerlink\" title=\"一、搭建准备\"></a>一、搭建准备</h3><p>本地window10操作系统</p>\n<p>vmware版本: VMware Workstation Pro (14版本)</p>\n<p><a href=\"https://mirrors.aliyun.com/centos/\">centos版本</a>: CentOS-7-x86_64-DVD-2009.iso</p>\n<p>注意: 文章标注的版本尽量保持一致, 重要!!!</p>\n<p>虚拟机硬件条件: 2核8G</p>\n<h3 id=\"二、VMwear安装Centos7超详细过程\"><a href=\"#二、VMwear安装Centos7超详细过程\" class=\"headerlink\" title=\"二、VMwear安装Centos7超详细过程\"></a>二、VMwear安装Centos7超详细过程</h3><p><img src=\"https://lixuelang.com/test/Sentry/pic/001/1.jpg\" alt=\"图片\"></p>\n<h4 id=\"1-新建虚拟机\"><a href=\"#1-新建虚拟机\" class=\"headerlink\" title=\"1.新建虚拟机\"></a>1.新建虚拟机</h4><p><img src=\"https://lixuelang.com/test/Sentry/pic/001/2.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/3.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/4.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/5.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/6.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/7.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/8.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/9.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/10.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/11.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/12.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/13.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/14.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/15.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/16.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/17.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/18.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/19.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/20.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/21.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/22.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/24.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/25.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/26.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/27.jpg\" alt=\"图片\"></p>\n<blockquote>\n<p>/ 的空间换成100G!!!</p>\n</blockquote>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/28.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/29.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/30.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/31.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/32.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/33.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/001/34.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">转载: https:&#x2F;&#x2F;www.jianshu.com&#x2F;p&#x2F;ce08cdbc4ddb?utm_source&#x3D;tuicool&amp;utm_medium&#x3D;referral\n参考: https:&#x2F;&#x2F;www.jianshu.com&#x2F;p&#x2F;ce08cdbc4ddb?utm_source&#x3D;tuicool&amp;utm_medium&#x3D;referral\n      https:&#x2F;&#x2F;blog.csdn.net&#x2F;babyxue&#x2F;article&#x2F;details&#x2F;80970526\n注意: kali下载包会有缺特定版本问题\n      vmware配置Centos的时候尽量多克隆系统(方便重来)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>"},{"title":"Sentry监控部署003-centOS安装docker和docker-compose","date":"2021-11-16T17:51:58.000Z","_content":"\n### 一、环境\n\ndocker版本: 20.10.10\n\ndocker-compose版本: 1.25.1\n\n注意: 文章标注的版本尽量保持一致, 重要!!!\n\n### 二、centOS安装docker和docker-compose\n\n#### 1.安装docker\n\n```shell\nyum -y install docker # 使用yum安装docker\nsystemctl start docker.service # 启动\nsystemctl enable docker.service # 设置为开机自启动\n```\n\n#### 2.安装docker-compose\n\n##### 2.1 下载docker-compose, 两种方式。\n\n第一种方式:github或者道客云网站拉取后放入/usr/local/bin/目录下并赋予权限 (推荐)\n```shell\n道客云的网址：curl -L https://get.daocloud.io/docker/compose/releases/download/1.25.1/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose（强烈推荐使用这个 ，速度快些）\nGitHub的网址：curl -L https://github.com/docker/compose/releases/download/1.14.0/docker-compose-`uname -s`-`uname -m` > /usr/local/bin/docker-compose（强烈不推荐这个，慢的可以让人发疯）\n```\n第二种方式: `pip install docker-compose` (强烈不推荐)\n```\npip install docker-compose\n\n或者去这个网址下载: https://pypi.org/search/?q=docker-compose，\n由于是Python所编写的，下载下来的东东也就使用Python的方式安装就可以了。\n版本可能比较高，可以找低版本的1.25安装。\n```\n\n##### 2.2 添加权限: `sudo chmod +x /usr/local/bin/docker-compose`\n\n##### 2.3 查看docker-compose版本: `docker-compose --version`\n\n### 二、问题\n\n#### 1.yum被占用, 使用 `kill -9 xxxx` 杀死进程\n\n&nbsp;\n\n```\n参考: https://www.cnblogs.com/nieqibest/p/9846655.html\n      https://www.cnblogs.com/thescholar/p/12168295.html\n      https://blog.csdn.net/alwaysbefine/article/details/106717823\n      https://www.jianshu.com/p/8b569bd79541\n\n注意: 在centOS7, pip装docker-compose会一直报python的错，网上的解答无法解决, 可以尝试升级python3\n      删除docker-compose-直接删文件即可\n```\n\n```\n附送docker命令:\n\ndocker ps 查看当前正在运行的容器\ndocker ps -a 查看所有容器的状态\ndocker start/stop id/name 启动/停止某个容器\ndocker attach id 进入某个容器(使用exit退出后容器也跟着停止运行)\ndocker exec -ti id 启动一个伪终端以交互式的方式进入某个容器（使用exit退出后容器不停止运行）\ndocker images 查看本地镜像\ndocker rm id/name 删除某个容器\ndocker rmi id/name 删除某个镜像\n#  复制ubuntu容器并且重命名为test且运行，然后以伪终端交互式方式进入容器，运行bash\ndocker run --name test -ti ubuntu /bin/bash \ndocker build -t soar/centos:7.1 .  通过当前目录下的Dockerfile创建一个名为soar/centos:7.1的镜像\n# 以镜像soar/centos:7.1创建名为test的容器，并以后台模式运行，并做端口映射到宿主机2222端口，P参数重启容器宿主机端口会发生改变\ndocker run -d -p 2222:22 --name test soar/centos:7.1\n```\n","source":"_posts/Sentry监控部署003-centOS安装docker和docker-compose.md","raw":"---\ntitle: Sentry监控部署003-centOS安装docker和docker-compose\ndate: 2021-11-17 01:51:58\ncategories:  \n- [linux, Sentry]  \ntags:  \n- linux\n- Sentry\n---\n\n### 一、环境\n\ndocker版本: 20.10.10\n\ndocker-compose版本: 1.25.1\n\n注意: 文章标注的版本尽量保持一致, 重要!!!\n\n### 二、centOS安装docker和docker-compose\n\n#### 1.安装docker\n\n```shell\nyum -y install docker # 使用yum安装docker\nsystemctl start docker.service # 启动\nsystemctl enable docker.service # 设置为开机自启动\n```\n\n#### 2.安装docker-compose\n\n##### 2.1 下载docker-compose, 两种方式。\n\n第一种方式:github或者道客云网站拉取后放入/usr/local/bin/目录下并赋予权限 (推荐)\n```shell\n道客云的网址：curl -L https://get.daocloud.io/docker/compose/releases/download/1.25.1/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose（强烈推荐使用这个 ，速度快些）\nGitHub的网址：curl -L https://github.com/docker/compose/releases/download/1.14.0/docker-compose-`uname -s`-`uname -m` > /usr/local/bin/docker-compose（强烈不推荐这个，慢的可以让人发疯）\n```\n第二种方式: `pip install docker-compose` (强烈不推荐)\n```\npip install docker-compose\n\n或者去这个网址下载: https://pypi.org/search/?q=docker-compose，\n由于是Python所编写的，下载下来的东东也就使用Python的方式安装就可以了。\n版本可能比较高，可以找低版本的1.25安装。\n```\n\n##### 2.2 添加权限: `sudo chmod +x /usr/local/bin/docker-compose`\n\n##### 2.3 查看docker-compose版本: `docker-compose --version`\n\n### 二、问题\n\n#### 1.yum被占用, 使用 `kill -9 xxxx` 杀死进程\n\n&nbsp;\n\n```\n参考: https://www.cnblogs.com/nieqibest/p/9846655.html\n      https://www.cnblogs.com/thescholar/p/12168295.html\n      https://blog.csdn.net/alwaysbefine/article/details/106717823\n      https://www.jianshu.com/p/8b569bd79541\n\n注意: 在centOS7, pip装docker-compose会一直报python的错，网上的解答无法解决, 可以尝试升级python3\n      删除docker-compose-直接删文件即可\n```\n\n```\n附送docker命令:\n\ndocker ps 查看当前正在运行的容器\ndocker ps -a 查看所有容器的状态\ndocker start/stop id/name 启动/停止某个容器\ndocker attach id 进入某个容器(使用exit退出后容器也跟着停止运行)\ndocker exec -ti id 启动一个伪终端以交互式的方式进入某个容器（使用exit退出后容器不停止运行）\ndocker images 查看本地镜像\ndocker rm id/name 删除某个容器\ndocker rmi id/name 删除某个镜像\n#  复制ubuntu容器并且重命名为test且运行，然后以伪终端交互式方式进入容器，运行bash\ndocker run --name test -ti ubuntu /bin/bash \ndocker build -t soar/centos:7.1 .  通过当前目录下的Dockerfile创建一个名为soar/centos:7.1的镜像\n# 以镜像soar/centos:7.1创建名为test的容器，并以后台模式运行，并做端口映射到宿主机2222端口，P参数重启容器宿主机端口会发生改变\ndocker run -d -p 2222:22 --name test soar/centos:7.1\n```\n","slug":"Sentry监控部署003-centOS安装docker和docker-compose","published":1,"updated":"2021-11-17T04:10:06.836Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckw3jsf5w0003h8v9cmp6grb6","content":"<h3 id=\"一、环境\"><a href=\"#一、环境\" class=\"headerlink\" title=\"一、环境\"></a>一、环境</h3><p>docker版本: 20.10.10</p>\n<p>docker-compose版本: 1.25.1</p>\n<p>注意: 文章标注的版本尽量保持一致, 重要!!!</p>\n<h3 id=\"二、centOS安装docker和docker-compose\"><a href=\"#二、centOS安装docker和docker-compose\" class=\"headerlink\" title=\"二、centOS安装docker和docker-compose\"></a>二、centOS安装docker和docker-compose</h3><h4 id=\"1-安装docker\"><a href=\"#1-安装docker\" class=\"headerlink\" title=\"1.安装docker\"></a>1.安装docker</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">yum -y install docker # 使用yum安装docker\nsystemctl start docker.service # 启动\nsystemctl enable docker.service # 设置为开机自启动<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-安装docker-compose\"><a href=\"#2-安装docker-compose\" class=\"headerlink\" title=\"2.安装docker-compose\"></a>2.安装docker-compose</h4><h5 id=\"2-1-下载docker-compose-两种方式。\"><a href=\"#2-1-下载docker-compose-两种方式。\" class=\"headerlink\" title=\"2.1 下载docker-compose, 两种方式。\"></a>2.1 下载docker-compose, 两种方式。</h5><p>第一种方式:github或者道客云网站拉取后放入/usr/local/bin/目录下并赋予权限 (推荐)</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">道客云的网址：curl -L https:&#x2F;&#x2F;get.daocloud.io&#x2F;docker&#x2F;compose&#x2F;releases&#x2F;download&#x2F;1.25.1&#x2F;docker-compose-&#96;uname -s&#96;-&#96;uname -m&#96; -o &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose（强烈推荐使用这个 ，速度快些）\nGitHub的网址：curl -L https:&#x2F;&#x2F;github.com&#x2F;docker&#x2F;compose&#x2F;releases&#x2F;download&#x2F;1.14.0&#x2F;docker-compose-&#96;uname -s&#96;-&#96;uname -m&#96; &gt; &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose（强烈不推荐这个，慢的可以让人发疯）<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>第二种方式: <code>pip install docker-compose</code> (强烈不推荐)</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">pip install docker-compose\n\n或者去这个网址下载: https:&#x2F;&#x2F;pypi.org&#x2F;search&#x2F;?q&#x3D;docker-compose，\n由于是Python所编写的，下载下来的东东也就使用Python的方式安装就可以了。\n版本可能比较高，可以找低版本的1.25安装。<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h5 id=\"2-2-添加权限-sudo-chmod-x-usr-local-bin-docker-compose\"><a href=\"#2-2-添加权限-sudo-chmod-x-usr-local-bin-docker-compose\" class=\"headerlink\" title=\"2.2 添加权限: sudo chmod +x /usr/local/bin/docker-compose\"></a>2.2 添加权限: <code>sudo chmod +x /usr/local/bin/docker-compose</code></h5><h5 id=\"2-3-查看docker-compose版本-docker-compose-version\"><a href=\"#2-3-查看docker-compose版本-docker-compose-version\" class=\"headerlink\" title=\"2.3 查看docker-compose版本: docker-compose --version\"></a>2.3 查看docker-compose版本: <code>docker-compose --version</code></h5><h3 id=\"二、问题\"><a href=\"#二、问题\" class=\"headerlink\" title=\"二、问题\"></a>二、问题</h3><h4 id=\"1-yum被占用-使用-kill-9-xxxx-杀死进程\"><a href=\"#1-yum被占用-使用-kill-9-xxxx-杀死进程\" class=\"headerlink\" title=\"1.yum被占用, 使用 kill -9 xxxx 杀死进程\"></a>1.yum被占用, 使用 <code>kill -9 xxxx</code> 杀死进程</h4><p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">参考: https:&#x2F;&#x2F;www.cnblogs.com&#x2F;nieqibest&#x2F;p&#x2F;9846655.html\n      https:&#x2F;&#x2F;www.cnblogs.com&#x2F;thescholar&#x2F;p&#x2F;12168295.html\n      https:&#x2F;&#x2F;blog.csdn.net&#x2F;alwaysbefine&#x2F;article&#x2F;details&#x2F;106717823\n      https:&#x2F;&#x2F;www.jianshu.com&#x2F;p&#x2F;8b569bd79541\n\n注意: 在centOS7, pip装docker-compose会一直报python的错，网上的解答无法解决, 可以尝试升级python3\n      删除docker-compose-直接删文件即可<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">附送docker命令:\n\ndocker ps 查看当前正在运行的容器\ndocker ps -a 查看所有容器的状态\ndocker start&#x2F;stop id&#x2F;name 启动&#x2F;停止某个容器\ndocker attach id 进入某个容器(使用exit退出后容器也跟着停止运行)\ndocker exec -ti id 启动一个伪终端以交互式的方式进入某个容器（使用exit退出后容器不停止运行）\ndocker images 查看本地镜像\ndocker rm id&#x2F;name 删除某个容器\ndocker rmi id&#x2F;name 删除某个镜像\n#  复制ubuntu容器并且重命名为test且运行，然后以伪终端交互式方式进入容器，运行bash\ndocker run --name test -ti ubuntu &#x2F;bin&#x2F;bash \ndocker build -t soar&#x2F;centos:7.1 .  通过当前目录下的Dockerfile创建一个名为soar&#x2F;centos:7.1的镜像\n# 以镜像soar&#x2F;centos:7.1创建名为test的容器，并以后台模式运行，并做端口映射到宿主机2222端口，P参数重启容器宿主机端口会发生改变\ndocker run -d -p 2222:22 --name test soar&#x2F;centos:7.1<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<h3 id=\"一、环境\"><a href=\"#一、环境\" class=\"headerlink\" title=\"一、环境\"></a>一、环境</h3><p>docker版本: 20.10.10</p>\n<p>docker-compose版本: 1.25.1</p>\n<p>注意: 文章标注的版本尽量保持一致, 重要!!!</p>\n<h3 id=\"二、centOS安装docker和docker-compose\"><a href=\"#二、centOS安装docker和docker-compose\" class=\"headerlink\" title=\"二、centOS安装docker和docker-compose\"></a>二、centOS安装docker和docker-compose</h3><h4 id=\"1-安装docker\"><a href=\"#1-安装docker\" class=\"headerlink\" title=\"1.安装docker\"></a>1.安装docker</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">yum -y install docker # 使用yum安装docker\nsystemctl start docker.service # 启动\nsystemctl enable docker.service # 设置为开机自启动<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-安装docker-compose\"><a href=\"#2-安装docker-compose\" class=\"headerlink\" title=\"2.安装docker-compose\"></a>2.安装docker-compose</h4><h5 id=\"2-1-下载docker-compose-两种方式。\"><a href=\"#2-1-下载docker-compose-两种方式。\" class=\"headerlink\" title=\"2.1 下载docker-compose, 两种方式。\"></a>2.1 下载docker-compose, 两种方式。</h5><p>第一种方式:github或者道客云网站拉取后放入/usr/local/bin/目录下并赋予权限 (推荐)</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">道客云的网址：curl -L https:&#x2F;&#x2F;get.daocloud.io&#x2F;docker&#x2F;compose&#x2F;releases&#x2F;download&#x2F;1.25.1&#x2F;docker-compose-&#96;uname -s&#96;-&#96;uname -m&#96; -o &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose（强烈推荐使用这个 ，速度快些）\nGitHub的网址：curl -L https:&#x2F;&#x2F;github.com&#x2F;docker&#x2F;compose&#x2F;releases&#x2F;download&#x2F;1.14.0&#x2F;docker-compose-&#96;uname -s&#96;-&#96;uname -m&#96; &gt; &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose（强烈不推荐这个，慢的可以让人发疯）<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>第二种方式: <code>pip install docker-compose</code> (强烈不推荐)</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">pip install docker-compose\n\n或者去这个网址下载: https:&#x2F;&#x2F;pypi.org&#x2F;search&#x2F;?q&#x3D;docker-compose，\n由于是Python所编写的，下载下来的东东也就使用Python的方式安装就可以了。\n版本可能比较高，可以找低版本的1.25安装。<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h5 id=\"2-2-添加权限-sudo-chmod-x-usr-local-bin-docker-compose\"><a href=\"#2-2-添加权限-sudo-chmod-x-usr-local-bin-docker-compose\" class=\"headerlink\" title=\"2.2 添加权限: sudo chmod +x /usr/local/bin/docker-compose\"></a>2.2 添加权限: <code>sudo chmod +x /usr/local/bin/docker-compose</code></h5><h5 id=\"2-3-查看docker-compose版本-docker-compose-version\"><a href=\"#2-3-查看docker-compose版本-docker-compose-version\" class=\"headerlink\" title=\"2.3 查看docker-compose版本: docker-compose --version\"></a>2.3 查看docker-compose版本: <code>docker-compose --version</code></h5><h3 id=\"二、问题\"><a href=\"#二、问题\" class=\"headerlink\" title=\"二、问题\"></a>二、问题</h3><h4 id=\"1-yum被占用-使用-kill-9-xxxx-杀死进程\"><a href=\"#1-yum被占用-使用-kill-9-xxxx-杀死进程\" class=\"headerlink\" title=\"1.yum被占用, 使用 kill -9 xxxx 杀死进程\"></a>1.yum被占用, 使用 <code>kill -9 xxxx</code> 杀死进程</h4><p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">参考: https:&#x2F;&#x2F;www.cnblogs.com&#x2F;nieqibest&#x2F;p&#x2F;9846655.html\n      https:&#x2F;&#x2F;www.cnblogs.com&#x2F;thescholar&#x2F;p&#x2F;12168295.html\n      https:&#x2F;&#x2F;blog.csdn.net&#x2F;alwaysbefine&#x2F;article&#x2F;details&#x2F;106717823\n      https:&#x2F;&#x2F;www.jianshu.com&#x2F;p&#x2F;8b569bd79541\n\n注意: 在centOS7, pip装docker-compose会一直报python的错，网上的解答无法解决, 可以尝试升级python3\n      删除docker-compose-直接删文件即可<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">附送docker命令:\n\ndocker ps 查看当前正在运行的容器\ndocker ps -a 查看所有容器的状态\ndocker start&#x2F;stop id&#x2F;name 启动&#x2F;停止某个容器\ndocker attach id 进入某个容器(使用exit退出后容器也跟着停止运行)\ndocker exec -ti id 启动一个伪终端以交互式的方式进入某个容器（使用exit退出后容器不停止运行）\ndocker images 查看本地镜像\ndocker rm id&#x2F;name 删除某个容器\ndocker rmi id&#x2F;name 删除某个镜像\n#  复制ubuntu容器并且重命名为test且运行，然后以伪终端交互式方式进入容器，运行bash\ndocker run --name test -ti ubuntu &#x2F;bin&#x2F;bash \ndocker build -t soar&#x2F;centos:7.1 .  通过当前目录下的Dockerfile创建一个名为soar&#x2F;centos:7.1的镜像\n# 以镜像soar&#x2F;centos:7.1创建名为test的容器，并以后台模式运行，并做端口映射到宿主机2222端口，P参数重启容器宿主机端口会发生改变\ndocker run -d -p 2222:22 --name test soar&#x2F;centos:7.1<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Sentry监控部署002-centOS安装git","date":"2021-11-16T17:50:11.000Z","_content":"\n### centOS安装git\n\n#### 1.安装依赖\n\n```shell\nyum -y install curl-devel expat-devel gettext-devel openssl-devel zlib-devel gcc perl-ExtUtils-MakeMaker\n```\n\n#### 2.下载git\n\n```shell\ncd /usr/local/src #下载的目录 \nwget https://www.kernel.org/pub/software/scm/git/git-2.28.0.tar.gz #下载最新版 \ntar -zxvf git-2.28.0.tar.gz #解压到当前文件夹\n```\n\n#### 3.编辑并安装\n\n```shell\ncd git-2.28.0    #进入文件夹\nmake prefix=/usr/local/git all    #编译源码\nmake prefix=/usr/local/git install    #安装路径\n```\n\n#### 4.配置git的环境变量\n\n```shell\necho 'export PATH=$PATH:/usr/local/git/bin' >> /etc/bashrc\n```\n\n#### 5.刷新环境变量\n\n```shell\nsource /etc/bashrc\n```\n\n#### 6.查看版本号\n\n```shell\ngit --version\n```\n\n&nbsp;\n\n```\n参考: https://blog.csdn.net/xiaoye319/article/details/89642875\n```","source":"_posts/Sentry监控部署002-centOS安装git.md","raw":"---\ntitle: Sentry监控部署002-centOS安装git\ndate: 2021-11-17 01:50:11\ncategories:  \n- [linux, Sentry]  \ntags:  \n- linux\n- Sentry\n---\n\n### centOS安装git\n\n#### 1.安装依赖\n\n```shell\nyum -y install curl-devel expat-devel gettext-devel openssl-devel zlib-devel gcc perl-ExtUtils-MakeMaker\n```\n\n#### 2.下载git\n\n```shell\ncd /usr/local/src #下载的目录 \nwget https://www.kernel.org/pub/software/scm/git/git-2.28.0.tar.gz #下载最新版 \ntar -zxvf git-2.28.0.tar.gz #解压到当前文件夹\n```\n\n#### 3.编辑并安装\n\n```shell\ncd git-2.28.0    #进入文件夹\nmake prefix=/usr/local/git all    #编译源码\nmake prefix=/usr/local/git install    #安装路径\n```\n\n#### 4.配置git的环境变量\n\n```shell\necho 'export PATH=$PATH:/usr/local/git/bin' >> /etc/bashrc\n```\n\n#### 5.刷新环境变量\n\n```shell\nsource /etc/bashrc\n```\n\n#### 6.查看版本号\n\n```shell\ngit --version\n```\n\n&nbsp;\n\n```\n参考: https://blog.csdn.net/xiaoye319/article/details/89642875\n```","slug":"Sentry监控部署002-centOS安装git","published":1,"updated":"2021-11-16T17:51:31.241Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckw3jsf620006h8v9ayfbdun9","content":"<h3 id=\"centOS安装git\"><a href=\"#centOS安装git\" class=\"headerlink\" title=\"centOS安装git\"></a>centOS安装git</h3><h4 id=\"1-安装依赖\"><a href=\"#1-安装依赖\" class=\"headerlink\" title=\"1.安装依赖\"></a>1.安装依赖</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">yum -y install curl-devel expat-devel gettext-devel openssl-devel zlib-devel gcc perl-ExtUtils-MakeMaker<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"2-下载git\"><a href=\"#2-下载git\" class=\"headerlink\" title=\"2.下载git\"></a>2.下载git</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">cd &#x2F;usr&#x2F;local&#x2F;src #下载的目录 \nwget https:&#x2F;&#x2F;www.kernel.org&#x2F;pub&#x2F;software&#x2F;scm&#x2F;git&#x2F;git-2.28.0.tar.gz #下载最新版 \ntar -zxvf git-2.28.0.tar.gz #解压到当前文件夹<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-编辑并安装\"><a href=\"#3-编辑并安装\" class=\"headerlink\" title=\"3.编辑并安装\"></a>3.编辑并安装</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">cd git-2.28.0    #进入文件夹\nmake prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;git all    #编译源码\nmake prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;git install    #安装路径<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"4-配置git的环境变量\"><a href=\"#4-配置git的环境变量\" class=\"headerlink\" title=\"4.配置git的环境变量\"></a>4.配置git的环境变量</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">echo &#39;export PATH&#x3D;$PATH:&#x2F;usr&#x2F;local&#x2F;git&#x2F;bin&#39; &gt;&gt; &#x2F;etc&#x2F;bashrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"5-刷新环境变量\"><a href=\"#5-刷新环境变量\" class=\"headerlink\" title=\"5.刷新环境变量\"></a>5.刷新环境变量</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">source &#x2F;etc&#x2F;bashrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"6-查看版本号\"><a href=\"#6-查看版本号\" class=\"headerlink\" title=\"6.查看版本号\"></a>6.查看版本号</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">git --version<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">参考: https:&#x2F;&#x2F;blog.csdn.net&#x2F;xiaoye319&#x2F;article&#x2F;details&#x2F;89642875<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<h3 id=\"centOS安装git\"><a href=\"#centOS安装git\" class=\"headerlink\" title=\"centOS安装git\"></a>centOS安装git</h3><h4 id=\"1-安装依赖\"><a href=\"#1-安装依赖\" class=\"headerlink\" title=\"1.安装依赖\"></a>1.安装依赖</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">yum -y install curl-devel expat-devel gettext-devel openssl-devel zlib-devel gcc perl-ExtUtils-MakeMaker<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"2-下载git\"><a href=\"#2-下载git\" class=\"headerlink\" title=\"2.下载git\"></a>2.下载git</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">cd &#x2F;usr&#x2F;local&#x2F;src #下载的目录 \nwget https:&#x2F;&#x2F;www.kernel.org&#x2F;pub&#x2F;software&#x2F;scm&#x2F;git&#x2F;git-2.28.0.tar.gz #下载最新版 \ntar -zxvf git-2.28.0.tar.gz #解压到当前文件夹<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-编辑并安装\"><a href=\"#3-编辑并安装\" class=\"headerlink\" title=\"3.编辑并安装\"></a>3.编辑并安装</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">cd git-2.28.0    #进入文件夹\nmake prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;git all    #编译源码\nmake prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;git install    #安装路径<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"4-配置git的环境变量\"><a href=\"#4-配置git的环境变量\" class=\"headerlink\" title=\"4.配置git的环境变量\"></a>4.配置git的环境变量</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">echo &#39;export PATH&#x3D;$PATH:&#x2F;usr&#x2F;local&#x2F;git&#x2F;bin&#39; &gt;&gt; &#x2F;etc&#x2F;bashrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"5-刷新环境变量\"><a href=\"#5-刷新环境变量\" class=\"headerlink\" title=\"5.刷新环境变量\"></a>5.刷新环境变量</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">source &#x2F;etc&#x2F;bashrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"6-查看版本号\"><a href=\"#6-查看版本号\" class=\"headerlink\" title=\"6.查看版本号\"></a>6.查看版本号</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">git --version<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">参考: https:&#x2F;&#x2F;blog.csdn.net&#x2F;xiaoye319&#x2F;article&#x2F;details&#x2F;89642875<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>"},{"title":"Sentry监控部署004-开始部署Sentry","date":"2021-11-16T17:52:10.000Z","_content":"### 一、环境\n\nonpremise版本: 21.7.0\n\n注意: 文章标注的版本尽量保持一致, 重要!!!\n\n### 二、Sentry部署\n\n#### 1.下载\n\n```shell\ngit clone https://github.com/getsentry/onpremise -b 21.7.0\n```\n\n#### 2.安装\n\n```shell\ncd onpremise\n./install.sh --no-user-prompt\n\n成功信息:\n-----------------------------------------------------------------\n\nYou're all done! Run the following command to get Sentry running:\n\n  docker-compose up -d\n\n-----------------------------------------------------------------\n```\n\n#### 3.启动\n\n```shell\ndocker-compose up -d\n```\n\n安装过程中会让我们创建 sentry 后台管理员账号，可以先跳过，后面再创建\n\n#### 4.注册\n\n```shell\ndocker-compose run --rm web createuser --superuser # 创建超级管理员账号\n```\n\n#### 5.登录\n\n浏览器访问 http://localhost:9000/ ，输入刚才创建的超级管理员账号密码，登录\n\n![图片](https://lixuelang.com/test/Sentry/pic/004/1.jpg)\n\n&nbsp;\n\n```\n参考: 仓库: https://gitee.com/speedly_admin/zhufeng_sentry_20211112/blob/master/day01/%E7%AC%AC%E4%B8%80%E5%A4%A9%E7%9A%84%E8%AF%BE%E9%A2%98.md#1-%E4%B8%8B%E8%BD%BD\n      视频: https://static.zhufengpeixun.com/sentry2020-09-20_20211112104628.mp4\n\n设置中文: https://www.pianshen.com/article/67341101843/\n```\n","source":"_posts/Sentry监控部署004-开始部署Sentry.md","raw":"---\ntitle: Sentry监控部署004-开始部署Sentry\ndate: 2021-11-17 01:52:10\ncategories:  \n- [linux, Sentry]  \ntags:  \n- linux\n- Sentry\n---\n### 一、环境\n\nonpremise版本: 21.7.0\n\n注意: 文章标注的版本尽量保持一致, 重要!!!\n\n### 二、Sentry部署\n\n#### 1.下载\n\n```shell\ngit clone https://github.com/getsentry/onpremise -b 21.7.0\n```\n\n#### 2.安装\n\n```shell\ncd onpremise\n./install.sh --no-user-prompt\n\n成功信息:\n-----------------------------------------------------------------\n\nYou're all done! Run the following command to get Sentry running:\n\n  docker-compose up -d\n\n-----------------------------------------------------------------\n```\n\n#### 3.启动\n\n```shell\ndocker-compose up -d\n```\n\n安装过程中会让我们创建 sentry 后台管理员账号，可以先跳过，后面再创建\n\n#### 4.注册\n\n```shell\ndocker-compose run --rm web createuser --superuser # 创建超级管理员账号\n```\n\n#### 5.登录\n\n浏览器访问 http://localhost:9000/ ，输入刚才创建的超级管理员账号密码，登录\n\n![图片](https://lixuelang.com/test/Sentry/pic/004/1.jpg)\n\n&nbsp;\n\n```\n参考: 仓库: https://gitee.com/speedly_admin/zhufeng_sentry_20211112/blob/master/day01/%E7%AC%AC%E4%B8%80%E5%A4%A9%E7%9A%84%E8%AF%BE%E9%A2%98.md#1-%E4%B8%8B%E8%BD%BD\n      视频: https://static.zhufengpeixun.com/sentry2020-09-20_20211112104628.mp4\n\n设置中文: https://www.pianshen.com/article/67341101843/\n```\n","slug":"Sentry监控部署004-开始部署Sentry","published":1,"updated":"2021-11-20T14:48:54.469Z","_id":"ckw3jsf650009h8v999w33vj4","comments":1,"layout":"post","photos":[],"link":"","content":"<h3 id=\"一、环境\"><a href=\"#一、环境\" class=\"headerlink\" title=\"一、环境\"></a>一、环境</h3><p>onpremise版本: 21.7.0</p>\n<p>注意: 文章标注的版本尽量保持一致, 重要!!!</p>\n<h3 id=\"二、Sentry部署\"><a href=\"#二、Sentry部署\" class=\"headerlink\" title=\"二、Sentry部署\"></a>二、Sentry部署</h3><h4 id=\"1-下载\"><a href=\"#1-下载\" class=\"headerlink\" title=\"1.下载\"></a>1.下载</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">git clone https:&#x2F;&#x2F;github.com&#x2F;getsentry&#x2F;onpremise -b 21.7.0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"2-安装\"><a href=\"#2-安装\" class=\"headerlink\" title=\"2.安装\"></a>2.安装</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">cd onpremise\n.&#x2F;install.sh --no-user-prompt\n\n成功信息:\n-----------------------------------------------------------------\n\nYou&#39;re all done! Run the following command to get Sentry running:\n\n  docker-compose up -d\n\n-----------------------------------------------------------------<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-启动\"><a href=\"#3-启动\" class=\"headerlink\" title=\"3.启动\"></a>3.启动</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">docker-compose up -d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>安装过程中会让我们创建 sentry 后台管理员账号，可以先跳过，后面再创建</p>\n<h4 id=\"4-注册\"><a href=\"#4-注册\" class=\"headerlink\" title=\"4.注册\"></a>4.注册</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">docker-compose run --rm web createuser --superuser # 创建超级管理员账号<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"5-登录\"><a href=\"#5-登录\" class=\"headerlink\" title=\"5.登录\"></a>5.登录</h4><p>浏览器访问 <a href=\"http://localhost:9000/\">http://localhost:9000/</a> ，输入刚才创建的超级管理员账号密码，登录</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/004/1.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">参考: 仓库: https:&#x2F;&#x2F;gitee.com&#x2F;speedly_admin&#x2F;zhufeng_sentry_20211112&#x2F;blob&#x2F;master&#x2F;day01&#x2F;%E7%AC%AC%E4%B8%80%E5%A4%A9%E7%9A%84%E8%AF%BE%E9%A2%98.md#1-%E4%B8%8B%E8%BD%BD\n      视频: https:&#x2F;&#x2F;static.zhufengpeixun.com&#x2F;sentry2020-09-20_20211112104628.mp4\n\n设置中文: https:&#x2F;&#x2F;www.pianshen.com&#x2F;article&#x2F;67341101843&#x2F;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<h3 id=\"一、环境\"><a href=\"#一、环境\" class=\"headerlink\" title=\"一、环境\"></a>一、环境</h3><p>onpremise版本: 21.7.0</p>\n<p>注意: 文章标注的版本尽量保持一致, 重要!!!</p>\n<h3 id=\"二、Sentry部署\"><a href=\"#二、Sentry部署\" class=\"headerlink\" title=\"二、Sentry部署\"></a>二、Sentry部署</h3><h4 id=\"1-下载\"><a href=\"#1-下载\" class=\"headerlink\" title=\"1.下载\"></a>1.下载</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">git clone https:&#x2F;&#x2F;github.com&#x2F;getsentry&#x2F;onpremise -b 21.7.0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"2-安装\"><a href=\"#2-安装\" class=\"headerlink\" title=\"2.安装\"></a>2.安装</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">cd onpremise\n.&#x2F;install.sh --no-user-prompt\n\n成功信息:\n-----------------------------------------------------------------\n\nYou&#39;re all done! Run the following command to get Sentry running:\n\n  docker-compose up -d\n\n-----------------------------------------------------------------<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-启动\"><a href=\"#3-启动\" class=\"headerlink\" title=\"3.启动\"></a>3.启动</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">docker-compose up -d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>安装过程中会让我们创建 sentry 后台管理员账号，可以先跳过，后面再创建</p>\n<h4 id=\"4-注册\"><a href=\"#4-注册\" class=\"headerlink\" title=\"4.注册\"></a>4.注册</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">docker-compose run --rm web createuser --superuser # 创建超级管理员账号<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"5-登录\"><a href=\"#5-登录\" class=\"headerlink\" title=\"5.登录\"></a>5.登录</h4><p>浏览器访问 <a href=\"http://localhost:9000/\">http://localhost:9000/</a> ，输入刚才创建的超级管理员账号密码，登录</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/004/1.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">参考: 仓库: https:&#x2F;&#x2F;gitee.com&#x2F;speedly_admin&#x2F;zhufeng_sentry_20211112&#x2F;blob&#x2F;master&#x2F;day01&#x2F;%E7%AC%AC%E4%B8%80%E5%A4%A9%E7%9A%84%E8%AF%BE%E9%A2%98.md#1-%E4%B8%8B%E8%BD%BD\n      视频: https:&#x2F;&#x2F;static.zhufengpeixun.com&#x2F;sentry2020-09-20_20211112104628.mp4\n\n设置中文: https:&#x2F;&#x2F;www.pianshen.com&#x2F;article&#x2F;67341101843&#x2F;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Sentry监控部署005-Centos安装node","date":"2021-11-16T17:52:18.000Z","_content":"### 一、Centos安装node\n\n\"Sentry监控部署006\"会把项目放到服务器并开本地服务器访问,需要使用node和http-server\n\n#### 1.下载解压\n\n方式一:\n\n从官网下下载最新的nodejs，https://nodejs.org/en/download/\n\nftp工具上传到服务器\n\n解压\n```\ntar -xvf node-v12.22.0-linux-x64.tar.gz\n```\n\n方式二:(推荐)\n\n```\nwget https://mirrors.huaweicloud.com/nodejs/v12.22.0/node-v12.22.0-linux-x64.tar.gz\ntar -xvf node-v12.22.0-linux-x64.tar.gz\n```\n\n#### 2.移动并改名文件夹\n\n```\nmv ./node-v10.16.0-linux-64 /usr/local/nodejs\n```\n\n#### 3.让npm和node命令全局生效\n\n方式一: 环境变量方式（这种方式似乎只对登录用户有效?）\n\n```\nvi /etc/profile\n\nexport PATH=$PATH:/usr/local/nodejs/bin\n```\n```\nsource /etc/profile\n```\n\n方式二: 软链接方式（推荐）\n\n```\nln -s /usr/local/nodejs/bin/npm /usr/local/bin/\nln -s /usr/local/nodejs/bin/node /usr/local/bin/\n```\n\n#### 4.查看版本\n\n```\nnode -v\nnpm -v\n```\n\n\n### 二、安装http-server\n\n```\nnpm install -g http-server\nln -s /usr/local/nodejs/bin/http-server /usr/local/bin/ # 创建软链\n```\n\n&nbsp;\n\n```\n参考: 仓库: https://gitee.com/speedly_admin/zhufeng_sentry_20211112/blob/master/day01/%E7%AC%AC%E4%B8%80%E5%A4%A9%E7%9A%84%E8%AF%BE%E9%A2%98.md#1-%E4%B8%8B%E8%BD%BD\n      视频: https://static.zhufengpeixun.com/sentry2020-09-20_20211112104628.mp4\n```\n","source":"_posts/Sentry监控部署005-Centos安装node.md","raw":"---\ntitle: Sentry监控部署005-Centos安装node\ndate: 2021-11-17 01:52:18\ncategories:  \n- [linux, Sentry]  \ntags:  \n- linux\n- Sentry\n---\n### 一、Centos安装node\n\n\"Sentry监控部署006\"会把项目放到服务器并开本地服务器访问,需要使用node和http-server\n\n#### 1.下载解压\n\n方式一:\n\n从官网下下载最新的nodejs，https://nodejs.org/en/download/\n\nftp工具上传到服务器\n\n解压\n```\ntar -xvf node-v12.22.0-linux-x64.tar.gz\n```\n\n方式二:(推荐)\n\n```\nwget https://mirrors.huaweicloud.com/nodejs/v12.22.0/node-v12.22.0-linux-x64.tar.gz\ntar -xvf node-v12.22.0-linux-x64.tar.gz\n```\n\n#### 2.移动并改名文件夹\n\n```\nmv ./node-v10.16.0-linux-64 /usr/local/nodejs\n```\n\n#### 3.让npm和node命令全局生效\n\n方式一: 环境变量方式（这种方式似乎只对登录用户有效?）\n\n```\nvi /etc/profile\n\nexport PATH=$PATH:/usr/local/nodejs/bin\n```\n```\nsource /etc/profile\n```\n\n方式二: 软链接方式（推荐）\n\n```\nln -s /usr/local/nodejs/bin/npm /usr/local/bin/\nln -s /usr/local/nodejs/bin/node /usr/local/bin/\n```\n\n#### 4.查看版本\n\n```\nnode -v\nnpm -v\n```\n\n\n### 二、安装http-server\n\n```\nnpm install -g http-server\nln -s /usr/local/nodejs/bin/http-server /usr/local/bin/ # 创建软链\n```\n\n&nbsp;\n\n```\n参考: 仓库: https://gitee.com/speedly_admin/zhufeng_sentry_20211112/blob/master/day01/%E7%AC%AC%E4%B8%80%E5%A4%A9%E7%9A%84%E8%AF%BE%E9%A2%98.md#1-%E4%B8%8B%E8%BD%BD\n      视频: https://static.zhufengpeixun.com/sentry2020-09-20_20211112104628.mp4\n```\n","slug":"Sentry监控部署005-Centos安装node","published":1,"updated":"2021-11-16T17:53:49.350Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckw3jsf67000bh8v94g1z5ji0","content":"<h3 id=\"一、Centos安装node\"><a href=\"#一、Centos安装node\" class=\"headerlink\" title=\"一、Centos安装node\"></a>一、Centos安装node</h3><p>“Sentry监控部署006”会把项目放到服务器并开本地服务器访问,需要使用node和http-server</p>\n<h4 id=\"1-下载解压\"><a href=\"#1-下载解压\" class=\"headerlink\" title=\"1.下载解压\"></a>1.下载解压</h4><p>方式一:</p>\n<p>从官网下下载最新的nodejs，<a href=\"https://nodejs.org/en/download/\">https://nodejs.org/en/download/</a></p>\n<p>ftp工具上传到服务器</p>\n<p>解压</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">tar -xvf node-v12.22.0-linux-x64.tar.gz<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>方式二:(推荐)</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">wget https:&#x2F;&#x2F;mirrors.huaweicloud.com&#x2F;nodejs&#x2F;v12.22.0&#x2F;node-v12.22.0-linux-x64.tar.gz\ntar -xvf node-v12.22.0-linux-x64.tar.gz<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-移动并改名文件夹\"><a href=\"#2-移动并改名文件夹\" class=\"headerlink\" title=\"2.移动并改名文件夹\"></a>2.移动并改名文件夹</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">mv .&#x2F;node-v10.16.0-linux-64 &#x2F;usr&#x2F;local&#x2F;nodejs<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-让npm和node命令全局生效\"><a href=\"#3-让npm和node命令全局生效\" class=\"headerlink\" title=\"3.让npm和node命令全局生效\"></a>3.让npm和node命令全局生效</h4><p>方式一: 环境变量方式（这种方式似乎只对登录用户有效?）</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">vi &#x2F;etc&#x2F;profile\n\nexport PATH&#x3D;$PATH:&#x2F;usr&#x2F;local&#x2F;nodejs&#x2F;bin<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">source &#x2F;etc&#x2F;profile<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>方式二: 软链接方式（推荐）</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">ln -s &#x2F;usr&#x2F;local&#x2F;nodejs&#x2F;bin&#x2F;npm &#x2F;usr&#x2F;local&#x2F;bin&#x2F;\nln -s &#x2F;usr&#x2F;local&#x2F;nodejs&#x2F;bin&#x2F;node &#x2F;usr&#x2F;local&#x2F;bin&#x2F;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"4-查看版本\"><a href=\"#4-查看版本\" class=\"headerlink\" title=\"4.查看版本\"></a>4.查看版本</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">node -v\nnpm -v<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n\n<h3 id=\"二、安装http-server\"><a href=\"#二、安装http-server\" class=\"headerlink\" title=\"二、安装http-server\"></a>二、安装http-server</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">npm install -g http-server\nln -s &#x2F;usr&#x2F;local&#x2F;nodejs&#x2F;bin&#x2F;http-server &#x2F;usr&#x2F;local&#x2F;bin&#x2F; # 创建软链<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">参考: 仓库: https:&#x2F;&#x2F;gitee.com&#x2F;speedly_admin&#x2F;zhufeng_sentry_20211112&#x2F;blob&#x2F;master&#x2F;day01&#x2F;%E7%AC%AC%E4%B8%80%E5%A4%A9%E7%9A%84%E8%AF%BE%E9%A2%98.md#1-%E4%B8%8B%E8%BD%BD\n      视频: https:&#x2F;&#x2F;static.zhufengpeixun.com&#x2F;sentry2020-09-20_20211112104628.mp4<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<h3 id=\"一、Centos安装node\"><a href=\"#一、Centos安装node\" class=\"headerlink\" title=\"一、Centos安装node\"></a>一、Centos安装node</h3><p>“Sentry监控部署006”会把项目放到服务器并开本地服务器访问,需要使用node和http-server</p>\n<h4 id=\"1-下载解压\"><a href=\"#1-下载解压\" class=\"headerlink\" title=\"1.下载解压\"></a>1.下载解压</h4><p>方式一:</p>\n<p>从官网下下载最新的nodejs，<a href=\"https://nodejs.org/en/download/\">https://nodejs.org/en/download/</a></p>\n<p>ftp工具上传到服务器</p>\n<p>解压</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">tar -xvf node-v12.22.0-linux-x64.tar.gz<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>方式二:(推荐)</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">wget https:&#x2F;&#x2F;mirrors.huaweicloud.com&#x2F;nodejs&#x2F;v12.22.0&#x2F;node-v12.22.0-linux-x64.tar.gz\ntar -xvf node-v12.22.0-linux-x64.tar.gz<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-移动并改名文件夹\"><a href=\"#2-移动并改名文件夹\" class=\"headerlink\" title=\"2.移动并改名文件夹\"></a>2.移动并改名文件夹</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">mv .&#x2F;node-v10.16.0-linux-64 &#x2F;usr&#x2F;local&#x2F;nodejs<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-让npm和node命令全局生效\"><a href=\"#3-让npm和node命令全局生效\" class=\"headerlink\" title=\"3.让npm和node命令全局生效\"></a>3.让npm和node命令全局生效</h4><p>方式一: 环境变量方式（这种方式似乎只对登录用户有效?）</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">vi &#x2F;etc&#x2F;profile\n\nexport PATH&#x3D;$PATH:&#x2F;usr&#x2F;local&#x2F;nodejs&#x2F;bin<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">source &#x2F;etc&#x2F;profile<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>方式二: 软链接方式（推荐）</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">ln -s &#x2F;usr&#x2F;local&#x2F;nodejs&#x2F;bin&#x2F;npm &#x2F;usr&#x2F;local&#x2F;bin&#x2F;\nln -s &#x2F;usr&#x2F;local&#x2F;nodejs&#x2F;bin&#x2F;node &#x2F;usr&#x2F;local&#x2F;bin&#x2F;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"4-查看版本\"><a href=\"#4-查看版本\" class=\"headerlink\" title=\"4.查看版本\"></a>4.查看版本</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">node -v\nnpm -v<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n\n<h3 id=\"二、安装http-server\"><a href=\"#二、安装http-server\" class=\"headerlink\" title=\"二、安装http-server\"></a>二、安装http-server</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">npm install -g http-server\nln -s &#x2F;usr&#x2F;local&#x2F;nodejs&#x2F;bin&#x2F;http-server &#x2F;usr&#x2F;local&#x2F;bin&#x2F; # 创建软链<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">参考: 仓库: https:&#x2F;&#x2F;gitee.com&#x2F;speedly_admin&#x2F;zhufeng_sentry_20211112&#x2F;blob&#x2F;master&#x2F;day01&#x2F;%E7%AC%AC%E4%B8%80%E5%A4%A9%E7%9A%84%E8%AF%BE%E9%A2%98.md#1-%E4%B8%8B%E8%BD%BD\n      视频: https:&#x2F;&#x2F;static.zhufengpeixun.com&#x2F;sentry2020-09-20_20211112104628.mp4<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n"},{"title":"Sentry监控部署006-前端接入sentry","date":"2021-11-16T17:52:25.000Z","_content":"### 前端接入sentry\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/1.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/2.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/3.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/4.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/5.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/6.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/7.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/8.jpg)\n> 用于进行Sentry身份认证\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/9.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/10.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/11.jpg)\n\n&nbsp;\n\n```\n参考: 仓库: https://gitee.com/speedly_admin/zhufeng_sentry_20211112/blob/master/day01/%E7%AC%AC%E4%B8%80%E5%A4%A9%E7%9A%84%E8%AF%BE%E9%A2%98.md#1-%E4%B8%8B%E8%BD%BD\n      视频: https://static.zhufengpeixun.com/sentry2020-09-20_20211112104628.mp4\n```\n","source":"_posts/Sentry监控部署006-前端接入sentry.md","raw":"---\ntitle: Sentry监控部署006-前端接入sentry\ndate: 2021-11-17 01:52:25\ncategories:  \n- [linux, Sentry]  \ntags:  \n- linux\n- Sentry\n---\n### 前端接入sentry\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/1.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/2.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/3.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/4.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/5.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/6.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/7.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/8.jpg)\n> 用于进行Sentry身份认证\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/9.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/10.jpg)\n\n&nbsp;\n\n![图片](https://lixuelang.com/test/Sentry/pic/005/11.jpg)\n\n&nbsp;\n\n```\n参考: 仓库: https://gitee.com/speedly_admin/zhufeng_sentry_20211112/blob/master/day01/%E7%AC%AC%E4%B8%80%E5%A4%A9%E7%9A%84%E8%AF%BE%E9%A2%98.md#1-%E4%B8%8B%E8%BD%BD\n      视频: https://static.zhufengpeixun.com/sentry2020-09-20_20211112104628.mp4\n```\n","slug":"Sentry监控部署006-前端接入sentry","published":1,"updated":"2021-11-20T14:48:54.560Z","_id":"ckw3jsf6d000eh8v962bcg701","comments":1,"layout":"post","photos":[],"link":"","content":"<h3 id=\"前端接入sentry\"><a href=\"#前端接入sentry\" class=\"headerlink\" title=\"前端接入sentry\"></a>前端接入sentry</h3><p><img src=\"https://lixuelang.com/test/Sentry/pic/005/1.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/005/2.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/005/3.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/005/4.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/005/5.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/005/6.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/005/7.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/005/8.jpg\" alt=\"图片\"></p>\n<blockquote>\n<p>用于进行Sentry身份认证</p>\n</blockquote>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/005/9.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/005/10.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/005/11.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">参考: 仓库: https:&#x2F;&#x2F;gitee.com&#x2F;speedly_admin&#x2F;zhufeng_sentry_20211112&#x2F;blob&#x2F;master&#x2F;day01&#x2F;%E7%AC%AC%E4%B8%80%E5%A4%A9%E7%9A%84%E8%AF%BE%E9%A2%98.md#1-%E4%B8%8B%E8%BD%BD\n      视频: https:&#x2F;&#x2F;static.zhufengpeixun.com&#x2F;sentry2020-09-20_20211112104628.mp4<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<h3 id=\"前端接入sentry\"><a href=\"#前端接入sentry\" class=\"headerlink\" title=\"前端接入sentry\"></a>前端接入sentry</h3><p><img src=\"https://lixuelang.com/test/Sentry/pic/005/1.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/005/2.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/005/3.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/005/4.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/005/5.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/005/6.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/005/7.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/005/8.jpg\" alt=\"图片\"></p>\n<blockquote>\n<p>用于进行Sentry身份认证</p>\n</blockquote>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/005/9.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/005/10.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/005/11.jpg\" alt=\"图片\"></p>\n<p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">参考: 仓库: https:&#x2F;&#x2F;gitee.com&#x2F;speedly_admin&#x2F;zhufeng_sentry_20211112&#x2F;blob&#x2F;master&#x2F;day01&#x2F;%E7%AC%AC%E4%B8%80%E5%A4%A9%E7%9A%84%E8%AF%BE%E9%A2%98.md#1-%E4%B8%8B%E8%BD%BD\n      视频: https:&#x2F;&#x2F;static.zhufengpeixun.com&#x2F;sentry2020-09-20_20211112104628.mp4<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n"},{"title":"Sentry监控部署007-其他搭建方式[选读]","date":"2021-11-17T13:00:05.000Z","_content":"### 其他环境搭建方式[选读]\n\n#### 1.[centos7 docker方式部署sentry](https://www.cnblogs.com/watchslowly/p/11309052.html)\n\n> 备用链接: https://www.cnblogs.com/xiaochina/p/12585453.html\n\n> 备用链接: https://gitee.com/lxl738367/zhufeng_sentry_20211112/blob/master/document/day01/centos7_docker%E6%96%B9%E5%BC%8F%E9%83%A8%E7%BD%B2sentry.pdf\n\n#### 2.[centoOS 8.4 部署sentry](https://gitee.com/lxl738367/zhufeng_sentry_20211112/blob/master/day01/ECS%E5%AE%89%E8%A3%85.md)\n","source":"_posts/Sentry监控部署007-其他搭建方式-选读.md","raw":"---\ntitle: 'Sentry监控部署007-其他搭建方式[选读]'\ndate: 2021-11-17 21:00:05\ncategories:  \n- [linux, Sentry]  \ntags:  \n- linux\n- Sentry\n---\n### 其他环境搭建方式[选读]\n\n#### 1.[centos7 docker方式部署sentry](https://www.cnblogs.com/watchslowly/p/11309052.html)\n\n> 备用链接: https://www.cnblogs.com/xiaochina/p/12585453.html\n\n> 备用链接: https://gitee.com/lxl738367/zhufeng_sentry_20211112/blob/master/document/day01/centos7_docker%E6%96%B9%E5%BC%8F%E9%83%A8%E7%BD%B2sentry.pdf\n\n#### 2.[centoOS 8.4 部署sentry](https://gitee.com/lxl738367/zhufeng_sentry_20211112/blob/master/day01/ECS%E5%AE%89%E8%A3%85.md)\n","slug":"Sentry监控部署007-其他搭建方式-选读","published":1,"updated":"2021-11-17T13:45:40.655Z","_id":"ckw3jsf6f000fh8v98pr01dq0","comments":1,"layout":"post","photos":[],"link":"","content":"<h3 id=\"其他环境搭建方式-选读\"><a href=\"#其他环境搭建方式-选读\" class=\"headerlink\" title=\"其他环境搭建方式[选读]\"></a>其他环境搭建方式[选读]</h3><h4 id=\"1-centos7-docker方式部署sentry\"><a href=\"#1-centos7-docker方式部署sentry\" class=\"headerlink\" title=\"1.centos7 docker方式部署sentry\"></a>1.<a href=\"https://www.cnblogs.com/watchslowly/p/11309052.html\">centos7 docker方式部署sentry</a></h4><blockquote>\n<p>备用链接: <a href=\"https://www.cnblogs.com/xiaochina/p/12585453.html\">https://www.cnblogs.com/xiaochina/p/12585453.html</a></p>\n</blockquote>\n<blockquote>\n<p>备用链接: <a href=\"https://gitee.com/lxl738367/zhufeng_sentry_20211112/blob/master/document/day01/centos7_docker%E6%96%B9%E5%BC%8F%E9%83%A8%E7%BD%B2sentry.pdf\">https://gitee.com/lxl738367/zhufeng_sentry_20211112/blob/master/document/day01/centos7_docker%E6%96%B9%E5%BC%8F%E9%83%A8%E7%BD%B2sentry.pdf</a></p>\n</blockquote>\n<h4 id=\"2-centoOS-8-4-部署sentry\"><a href=\"#2-centoOS-8-4-部署sentry\" class=\"headerlink\" title=\"2.centoOS 8.4 部署sentry\"></a>2.<a href=\"https://gitee.com/lxl738367/zhufeng_sentry_20211112/blob/master/day01/ECS%E5%AE%89%E8%A3%85.md\">centoOS 8.4 部署sentry</a></h4>","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<h3 id=\"其他环境搭建方式-选读\"><a href=\"#其他环境搭建方式-选读\" class=\"headerlink\" title=\"其他环境搭建方式[选读]\"></a>其他环境搭建方式[选读]</h3><h4 id=\"1-centos7-docker方式部署sentry\"><a href=\"#1-centos7-docker方式部署sentry\" class=\"headerlink\" title=\"1.centos7 docker方式部署sentry\"></a>1.<a href=\"https://www.cnblogs.com/watchslowly/p/11309052.html\">centos7 docker方式部署sentry</a></h4><blockquote>\n<p>备用链接: <a href=\"https://www.cnblogs.com/xiaochina/p/12585453.html\">https://www.cnblogs.com/xiaochina/p/12585453.html</a></p>\n</blockquote>\n<blockquote>\n<p>备用链接: <a href=\"https://gitee.com/lxl738367/zhufeng_sentry_20211112/blob/master/document/day01/centos7_docker%E6%96%B9%E5%BC%8F%E9%83%A8%E7%BD%B2sentry.pdf\">https://gitee.com/lxl738367/zhufeng_sentry_20211112/blob/master/document/day01/centos7_docker%E6%96%B9%E5%BC%8F%E9%83%A8%E7%BD%B2sentry.pdf</a></p>\n</blockquote>\n<h4 id=\"2-centoOS-8-4-部署sentry\"><a href=\"#2-centoOS-8-4-部署sentry\" class=\"headerlink\" title=\"2.centoOS 8.4 部署sentry\"></a>2.<a href=\"https://gitee.com/lxl738367/zhufeng_sentry_20211112/blob/master/day01/ECS%E5%AE%89%E8%A3%85.md\">centoOS 8.4 部署sentry</a></h4>"},{"title":"hexo部署博客001","date":"2021-11-14T05:56:37.000Z","_content":"\n### 安装与准备hexo\n\n#### 1.安装node-js和git\n\n下载安装Node和git:  \n[Git下载](https://git-scm.com/downloads)  \n[node下载](https://nodejs.org/zh-cn/)  \n\n配置环境变量\n\n注意: node版本在12.0以上,\n\n#### 2.安装Hexo\n\n`npm install -g hexo-cli`\t// 安装hexo\n\n`hexo init name `\t\t    // 初始化hexo脚手架\n\n#### 3.通过node启动本地服务器\n\n`hexo s`\n\n#### 4.添加文章\n\n`hexo n \"xxx\"`\t// source/_posts目录内生成对应md\n\n#### 5.删除文章\n在source_posts内删除md, 跑命令hexo g & hexo s\n\n&nbsp;\n\n```\n 文章大部分内容转载于下列作者:\n 文章作者: Fuchenchenle\n 文章链接: http://fuchenchenle.cn/2020/08/17/%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/\n 视频地址: https://www.bilibili.com/video/BV1cp4y1i7C7?p=2&spm_id_from=pageDriver\n```","source":"_posts/hexo部署博客001.md","raw":"---\ntitle: hexo部署博客001  \ndate: 2021-11-14 13:56:37  \ncategories:  \n- [linux, hexo]  \ntags:  \n- linux\n- hexo\n---\n\n### 安装与准备hexo\n\n#### 1.安装node-js和git\n\n下载安装Node和git:  \n[Git下载](https://git-scm.com/downloads)  \n[node下载](https://nodejs.org/zh-cn/)  \n\n配置环境变量\n\n注意: node版本在12.0以上,\n\n#### 2.安装Hexo\n\n`npm install -g hexo-cli`\t// 安装hexo\n\n`hexo init name `\t\t    // 初始化hexo脚手架\n\n#### 3.通过node启动本地服务器\n\n`hexo s`\n\n#### 4.添加文章\n\n`hexo n \"xxx\"`\t// source/_posts目录内生成对应md\n\n#### 5.删除文章\n在source_posts内删除md, 跑命令hexo g & hexo s\n\n&nbsp;\n\n```\n 文章大部分内容转载于下列作者:\n 文章作者: Fuchenchenle\n 文章链接: http://fuchenchenle.cn/2020/08/17/%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/\n 视频地址: https://www.bilibili.com/video/BV1cp4y1i7C7?p=2&spm_id_from=pageDriver\n```","slug":"hexo部署博客001","published":1,"updated":"2021-11-16T09:18:41.226Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckw3jsf6i000jh8v98g7cbbsq","content":"<h3 id=\"安装与准备hexo\"><a href=\"#安装与准备hexo\" class=\"headerlink\" title=\"安装与准备hexo\"></a>安装与准备hexo</h3><h4 id=\"1-安装node-js和git\"><a href=\"#1-安装node-js和git\" class=\"headerlink\" title=\"1.安装node-js和git\"></a>1.安装node-js和git</h4><p>下载安装Node和git:<br><a href=\"https://git-scm.com/downloads\">Git下载</a><br><a href=\"https://nodejs.org/zh-cn/\">node下载</a>  </p>\n<p>配置环境变量</p>\n<p>注意: node版本在12.0以上,</p>\n<h4 id=\"2-安装Hexo\"><a href=\"#2-安装Hexo\" class=\"headerlink\" title=\"2.安装Hexo\"></a>2.安装Hexo</h4><p><code>npm install -g hexo-cli</code>    // 安装hexo</p>\n<p><code>hexo init name </code>            // 初始化hexo脚手架</p>\n<h4 id=\"3-通过node启动本地服务器\"><a href=\"#3-通过node启动本地服务器\" class=\"headerlink\" title=\"3.通过node启动本地服务器\"></a>3.通过node启动本地服务器</h4><p><code>hexo s</code></p>\n<h4 id=\"4-添加文章\"><a href=\"#4-添加文章\" class=\"headerlink\" title=\"4.添加文章\"></a>4.添加文章</h4><p><code>hexo n &quot;xxx&quot;</code>    // source/_posts目录内生成对应md</p>\n<h4 id=\"5-删除文章\"><a href=\"#5-删除文章\" class=\"headerlink\" title=\"5.删除文章\"></a>5.删除文章</h4><p>在source_posts内删除md, 跑命令hexo g &amp; hexo s</p>\n<p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">文章大部分内容转载于下列作者:\n文章作者: Fuchenchenle\n文章链接: http:&#x2F;&#x2F;fuchenchenle.cn&#x2F;2020&#x2F;08&#x2F;17&#x2F;%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2&#x2F;\n视频地址: https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1cp4y1i7C7?p&#x3D;2&amp;spm_id_from&#x3D;pageDriver<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<h3 id=\"安装与准备hexo\"><a href=\"#安装与准备hexo\" class=\"headerlink\" title=\"安装与准备hexo\"></a>安装与准备hexo</h3><h4 id=\"1-安装node-js和git\"><a href=\"#1-安装node-js和git\" class=\"headerlink\" title=\"1.安装node-js和git\"></a>1.安装node-js和git</h4><p>下载安装Node和git:<br><a href=\"https://git-scm.com/downloads\">Git下载</a><br><a href=\"https://nodejs.org/zh-cn/\">node下载</a>  </p>\n<p>配置环境变量</p>\n<p>注意: node版本在12.0以上,</p>\n<h4 id=\"2-安装Hexo\"><a href=\"#2-安装Hexo\" class=\"headerlink\" title=\"2.安装Hexo\"></a>2.安装Hexo</h4><p><code>npm install -g hexo-cli</code>    // 安装hexo</p>\n<p><code>hexo init name </code>            // 初始化hexo脚手架</p>\n<h4 id=\"3-通过node启动本地服务器\"><a href=\"#3-通过node启动本地服务器\" class=\"headerlink\" title=\"3.通过node启动本地服务器\"></a>3.通过node启动本地服务器</h4><p><code>hexo s</code></p>\n<h4 id=\"4-添加文章\"><a href=\"#4-添加文章\" class=\"headerlink\" title=\"4.添加文章\"></a>4.添加文章</h4><p><code>hexo n &quot;xxx&quot;</code>    // source/_posts目录内生成对应md</p>\n<h4 id=\"5-删除文章\"><a href=\"#5-删除文章\" class=\"headerlink\" title=\"5.删除文章\"></a>5.删除文章</h4><p>在source_posts内删除md, 跑命令hexo g &amp; hexo s</p>\n<p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">文章大部分内容转载于下列作者:\n文章作者: Fuchenchenle\n文章链接: http:&#x2F;&#x2F;fuchenchenle.cn&#x2F;2020&#x2F;08&#x2F;17&#x2F;%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2&#x2F;\n视频地址: https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1cp4y1i7C7?p&#x3D;2&amp;spm_id_from&#x3D;pageDriver<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>"},{"title":"hexo部署博客003","date":"2021-11-14T07:01:14.000Z","_content":"\n### 部署服务器前准备工作\n\n#### 1.阿里云购买服务器 (其它云服务器都可以)\n\n[阿里云服务器官网](https://www.aliyun.com/)\n\n选择配置: 1核2G  \n选择硬盘: 40G  \n选择网络: 1M  \n选择系统: Centos7.6  \n不考虑使用CDN  \n\n#### 2.阿里云购买域名\n\n[阿里云服务器官网](https://www.aliyun.com/)\n\n购买域名需要实名制的,阿里云审核大概十分钟\n\n#### 3.解析域名到服务器ip\n\n官网有指引/百度即可\n\n#### 4.网站备案\n\n在第2步实名认证2-3天后,才可申请备案, 备案审核时间在20天内(各个地区时间可能不同)\n\n&nbsp;\n\n```\n 文章大部分内容转载于下列作者:\n 文章作者: Fuchenchenle\n 文章链接: http://fuchenchenle.cn/2020/08/17/%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/\n 视频地址: https://www.bilibili.com/video/BV1cp4y1i7C7?p=2&spm_id_from=pageDriver\n```\n","source":"_posts/hexo部署博客003.md","raw":"---\ntitle: hexo部署博客003  \ndate: 2021-11-14 15:01:14  \ncategories:  \n- [linux, hexo]  \ntags:  \n- linux\n- hexo\n---\n\n### 部署服务器前准备工作\n\n#### 1.阿里云购买服务器 (其它云服务器都可以)\n\n[阿里云服务器官网](https://www.aliyun.com/)\n\n选择配置: 1核2G  \n选择硬盘: 40G  \n选择网络: 1M  \n选择系统: Centos7.6  \n不考虑使用CDN  \n\n#### 2.阿里云购买域名\n\n[阿里云服务器官网](https://www.aliyun.com/)\n\n购买域名需要实名制的,阿里云审核大概十分钟\n\n#### 3.解析域名到服务器ip\n\n官网有指引/百度即可\n\n#### 4.网站备案\n\n在第2步实名认证2-3天后,才可申请备案, 备案审核时间在20天内(各个地区时间可能不同)\n\n&nbsp;\n\n```\n 文章大部分内容转载于下列作者:\n 文章作者: Fuchenchenle\n 文章链接: http://fuchenchenle.cn/2020/08/17/%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/\n 视频地址: https://www.bilibili.com/video/BV1cp4y1i7C7?p=2&spm_id_from=pageDriver\n```\n","slug":"hexo部署博客003","published":1,"updated":"2021-11-16T09:18:41.243Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckw3jsf6k000lh8v9671b5o7p","content":"<h3 id=\"部署服务器前准备工作\"><a href=\"#部署服务器前准备工作\" class=\"headerlink\" title=\"部署服务器前准备工作\"></a>部署服务器前准备工作</h3><h4 id=\"1-阿里云购买服务器-其它云服务器都可以\"><a href=\"#1-阿里云购买服务器-其它云服务器都可以\" class=\"headerlink\" title=\"1.阿里云购买服务器 (其它云服务器都可以)\"></a>1.阿里云购买服务器 (其它云服务器都可以)</h4><p><a href=\"https://www.aliyun.com/\">阿里云服务器官网</a></p>\n<p>选择配置: 1核2G<br>选择硬盘: 40G<br>选择网络: 1M<br>选择系统: Centos7.6<br>不考虑使用CDN  </p>\n<h4 id=\"2-阿里云购买域名\"><a href=\"#2-阿里云购买域名\" class=\"headerlink\" title=\"2.阿里云购买域名\"></a>2.阿里云购买域名</h4><p><a href=\"https://www.aliyun.com/\">阿里云服务器官网</a></p>\n<p>购买域名需要实名制的,阿里云审核大概十分钟</p>\n<h4 id=\"3-解析域名到服务器ip\"><a href=\"#3-解析域名到服务器ip\" class=\"headerlink\" title=\"3.解析域名到服务器ip\"></a>3.解析域名到服务器ip</h4><p>官网有指引/百度即可</p>\n<h4 id=\"4-网站备案\"><a href=\"#4-网站备案\" class=\"headerlink\" title=\"4.网站备案\"></a>4.网站备案</h4><p>在第2步实名认证2-3天后,才可申请备案, 备案审核时间在20天内(各个地区时间可能不同)</p>\n<p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">文章大部分内容转载于下列作者:\n文章作者: Fuchenchenle\n文章链接: http:&#x2F;&#x2F;fuchenchenle.cn&#x2F;2020&#x2F;08&#x2F;17&#x2F;%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2&#x2F;\n视频地址: https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1cp4y1i7C7?p&#x3D;2&amp;spm_id_from&#x3D;pageDriver<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<h3 id=\"部署服务器前准备工作\"><a href=\"#部署服务器前准备工作\" class=\"headerlink\" title=\"部署服务器前准备工作\"></a>部署服务器前准备工作</h3><h4 id=\"1-阿里云购买服务器-其它云服务器都可以\"><a href=\"#1-阿里云购买服务器-其它云服务器都可以\" class=\"headerlink\" title=\"1.阿里云购买服务器 (其它云服务器都可以)\"></a>1.阿里云购买服务器 (其它云服务器都可以)</h4><p><a href=\"https://www.aliyun.com/\">阿里云服务器官网</a></p>\n<p>选择配置: 1核2G<br>选择硬盘: 40G<br>选择网络: 1M<br>选择系统: Centos7.6<br>不考虑使用CDN  </p>\n<h4 id=\"2-阿里云购买域名\"><a href=\"#2-阿里云购买域名\" class=\"headerlink\" title=\"2.阿里云购买域名\"></a>2.阿里云购买域名</h4><p><a href=\"https://www.aliyun.com/\">阿里云服务器官网</a></p>\n<p>购买域名需要实名制的,阿里云审核大概十分钟</p>\n<h4 id=\"3-解析域名到服务器ip\"><a href=\"#3-解析域名到服务器ip\" class=\"headerlink\" title=\"3.解析域名到服务器ip\"></a>3.解析域名到服务器ip</h4><p>官网有指引/百度即可</p>\n<h4 id=\"4-网站备案\"><a href=\"#4-网站备案\" class=\"headerlink\" title=\"4.网站备案\"></a>4.网站备案</h4><p>在第2步实名认证2-3天后,才可申请备案, 备案审核时间在20天内(各个地区时间可能不同)</p>\n<p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">文章大部分内容转载于下列作者:\n文章作者: Fuchenchenle\n文章链接: http:&#x2F;&#x2F;fuchenchenle.cn&#x2F;2020&#x2F;08&#x2F;17&#x2F;%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2&#x2F;\n视频地址: https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1cp4y1i7C7?p&#x3D;2&amp;spm_id_from&#x3D;pageDriver<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"hexo部署博客004","date":"2021-11-14T07:09:34.000Z","_content":"\n### 一、部署环境与准备\n\n#### 1.环境\n\n本地windows10操作系统\n\n阿里云Centos7.6服务器\n\n#### 1.准备\n\nHexo本地博客\n\nXshell连接到你的服务器（也可使用阿里云自带web连接）\n\n\n### 二、云服务器配置Git\n\n#### 1.安装依赖库\n\n```shell\nyum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel\n```\n\n#### 2.安装编译工具\n\n```shell\nyum install  gcc perl-ExtUtils-MakeMaker package\n```\n\n#### 3.查看git的版本\n\n```shell\ngit version\n```\n\n#### 4.删除git\n\ngit有问题时可删除, 下载最新版\n\n```shell\nyum remove git\n```\n\n#### 5.下载解压最新版\n\n```shell\ncd /usr/local/src #下载的目录 \nwget https://www.kernel.org/pub/software/scm/git/git-2.28.0.tar.gz #下载最新版 \ntar -zxvf git-2.28.0.tar.gz #解压到当前文件夹\n```\n\n#### 6.编辑并安装\n\n```shell\ncd git-2.28.0    #进入文件夹\nmake prefix=/usr/local/git all    #编译源码\nmake prefix=/usr/local/git install    #安装路径\n```\n\n#### 7.配置git的环境变量\n\n```shell\necho 'export PATH=$PATH:/usr/local/git/bin' >> /etc/bashrc\n```\n\n#### 8.刷新环境变量\n\n```shell\nsource /etc/bashrc\n```\n\n#### 9.查看版本号\n\n```shell\ngit --version\n```\n\n#### 10.创建git用户并且修改权限\n\n```shell\nadduser alexlinux #添加用户\npasswd alexlinux #添加密码\nchmod 740 /etc/sudoers #文件夹配置权限\nvim /etc/sudoers #添加下面配置\n\nroot ALL=(ALL) ALL \nalexlinux ALL=(ALL) ALL\n```\n\n#### 11.本地windows10使用Gitbash创建密钥\n\n```shell\nssh-keygen -t rsa    // 生成在C:\\Users\\lang\\.ssh\n```\n\n#### 12.将本地创建id_rsa.pub中文件复制\n\n```shell\nsu alexlinux\nmkdir ~/.ssh\nvim ~/.ssh/authorized_keys  #拷贝id_rsa.pub内容进去\n```\n\n#### 13.本地测试\n\n```shell\nssh -v alexlinux@服务器ip\n```\n\n\n### 三、云服务器网站配置\n\n#### 1.创建网站目录并且设置权限\n\n```shell\nsu root\nmkdir /home/hexo\nchown alexlinux:alexlinux -R /home/hexo\n```\n\n#### 2.安装Nginx\n\n```shell\nyum install -y nginx\nsystemctl start nginx.service    #启动服务\n```\n\n#### 3.修改Nginx配置文件\n\n```nginx\nvim /etc/nginx/nginx.conf \n\n\n    server {\n        listen       9000;\n        # listen       [::]:80;\n        server_name  localhost;\n        root         /home/test;\n\n        autoindex on; # 开启文件目录\n        autoindex_exact_size off;\n        autoindex_localtime on;\n\n        add_header 'Access-Control-Allow-Origin' '*';\n        add_header 'Access-Control-Allow-Methods' 'GET, POST, OPTIONS';\n        add_header 'Access-Control-Allow-Credentials' 'true';\n        add_header 'Access-Control-Allow-Headers' 'DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range';\n        add_header 'Access-Control-Expose-Headers' 'Content-Length,Content-Range';\n\n        # location / {\n        #     root   /home/hexo;\n        # }     \n\n        # Load configuration files for the default server block.\n        # include /etc/nginx/default.d/*.conf;\n\n        # error_page 404 /404.html;\n        # location = /404.html {\n        # }\n\n        # error_page 500 502 503 504 /50x.html;\n        # location = /50x.html {\n        # }\n    }\n    \n        server {\n        listen       80;\n        listen       [::]:80;\n        server_name  localhost;\n        root         /home/hexo;\n\n        # autoindex on; # 开启文件目录\n        # autoindex_exact_size off;\n        # autoindex_localtime on;  \n\n        # add_header 'Access-Control-Allow-Origin' '*';\n        # add_header 'Access-Control-Allow-Methods' 'GET, POST, OPTIONS';\n        # add_header 'Access-Control-Allow-Credentials' 'true';  \n        # add_header 'Access-Control-Allow-Headers' 'DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range';\n        # add_header 'Access-Control-Expose-Headers' 'Content-Length,Content-Range';\n\n        # location / {\n        #     root   /home/hexo;\n        # }     \n\n        # Load configuration files for the default server block.\n        # include /etc/nginx/default.d/*.conf;\n\n        # error_page 404 /404.html;\n        # location = /404.html {\n        # }\n\n        # error_page 500 502 503 504 /50x.html;\n        # location = /50x.html {\n        # }\n    }\n```\n\n注意: 阿里云服务器需到控制台配置安全组, 即可开通想使用的端口\n\n#### 4.重启服务器\n\n```shell\nsystemctl restart nginx.service\n```\n\n#### 5.建立git仓库\n\n```shell\nsu root\ncd /home/alexlinux\ngit init --bare blog.git\nchown alexlinux:alexlinux -R blog.git\n```\n\n#### 6.同步网站根目录\n\n```shell\nvim blog.git/hooks/post-receive\n\n#!/bin/sh\ngit --work-tree=/home/hexo --git-dir=/home/alexlinux/blog.git checkout -f\n```\n\n#### 7.修改权限\n\n```shell\nchmod +x /home/alexlinux/blog.git/hooks/post-receive\n```\n\n#### 8.在windows10本地hexo目录修改_config.yml文件\n\n```shell\n// 安装插件: npm install --save hexo-deployer-git\n\ndeploy:\n  type: git\n  repository: fuchen@49.232.59.235:/home/fuchen/blog.git    #用户名@服务器Ip:git仓库位置\n  branch: master\n```\n\n#### 9.在本机gitbash部署\n\n```shell\nhexo clean\nhexo g -d\n```\n\n部署完毕, 即可通过服务器ip访问网站\n\n\n### 四、常见报错\n\n#### 1.git-upload-pack: 未找到命令\n\n```\nbash: git-upload-pack: command not found\nfatal: Could not read from remote repository.\n```\n\n解决方法\n\n```\nsudo ln -s  /usr/local/git/bin/git-upload-pack  /usr/bin/git-upload-pack\n```\n\n#### 2.git-receive-pack: 未找到命令\n\n```\nbash: git-receive-pack: command not found\nfatal: Could not read from remote repository.\n```\n\n解决方法\n\n```\nsudo ln -s /usr/local/git/bin/git-receive-pack  /usr/bin/git-receive-pack\n```\n\n#### 3.无法远程连接获取\n\n```\nfatal: Could not read from remote repository.\n```\n\n解决方法\n\n```\n重试或者 删掉本地ssh公钥重新上传至服务器\n```\n\n#### 4.key出错\n\n```\nHost key verification failed.\n```\n\n解决方法\n\n```\nssh-keygen -R 你要访问的IP地址\n```\n\n&nbsp;\n\n```\n 文章大部分内容转载于下列作者:\n 文章作者: Fuchenchenle\n 文章链接: http://fuchenchenle.cn/2020/08/17/%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/\n 视频地址: https://www.bilibili.com/video/BV1cp4y1i7C7?p=2&spm_id_from=pageDriver\n```","source":"_posts/hexo部署博客004.md","raw":"---\ntitle: hexo部署博客004  \ndate: 2021-11-14 15:09:34  \ncategories:  \n- [linux, hexo]  \ntags:  \n- linux\n- hexo\n---\n\n### 一、部署环境与准备\n\n#### 1.环境\n\n本地windows10操作系统\n\n阿里云Centos7.6服务器\n\n#### 1.准备\n\nHexo本地博客\n\nXshell连接到你的服务器（也可使用阿里云自带web连接）\n\n\n### 二、云服务器配置Git\n\n#### 1.安装依赖库\n\n```shell\nyum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel\n```\n\n#### 2.安装编译工具\n\n```shell\nyum install  gcc perl-ExtUtils-MakeMaker package\n```\n\n#### 3.查看git的版本\n\n```shell\ngit version\n```\n\n#### 4.删除git\n\ngit有问题时可删除, 下载最新版\n\n```shell\nyum remove git\n```\n\n#### 5.下载解压最新版\n\n```shell\ncd /usr/local/src #下载的目录 \nwget https://www.kernel.org/pub/software/scm/git/git-2.28.0.tar.gz #下载最新版 \ntar -zxvf git-2.28.0.tar.gz #解压到当前文件夹\n```\n\n#### 6.编辑并安装\n\n```shell\ncd git-2.28.0    #进入文件夹\nmake prefix=/usr/local/git all    #编译源码\nmake prefix=/usr/local/git install    #安装路径\n```\n\n#### 7.配置git的环境变量\n\n```shell\necho 'export PATH=$PATH:/usr/local/git/bin' >> /etc/bashrc\n```\n\n#### 8.刷新环境变量\n\n```shell\nsource /etc/bashrc\n```\n\n#### 9.查看版本号\n\n```shell\ngit --version\n```\n\n#### 10.创建git用户并且修改权限\n\n```shell\nadduser alexlinux #添加用户\npasswd alexlinux #添加密码\nchmod 740 /etc/sudoers #文件夹配置权限\nvim /etc/sudoers #添加下面配置\n\nroot ALL=(ALL) ALL \nalexlinux ALL=(ALL) ALL\n```\n\n#### 11.本地windows10使用Gitbash创建密钥\n\n```shell\nssh-keygen -t rsa    // 生成在C:\\Users\\lang\\.ssh\n```\n\n#### 12.将本地创建id_rsa.pub中文件复制\n\n```shell\nsu alexlinux\nmkdir ~/.ssh\nvim ~/.ssh/authorized_keys  #拷贝id_rsa.pub内容进去\n```\n\n#### 13.本地测试\n\n```shell\nssh -v alexlinux@服务器ip\n```\n\n\n### 三、云服务器网站配置\n\n#### 1.创建网站目录并且设置权限\n\n```shell\nsu root\nmkdir /home/hexo\nchown alexlinux:alexlinux -R /home/hexo\n```\n\n#### 2.安装Nginx\n\n```shell\nyum install -y nginx\nsystemctl start nginx.service    #启动服务\n```\n\n#### 3.修改Nginx配置文件\n\n```nginx\nvim /etc/nginx/nginx.conf \n\n\n    server {\n        listen       9000;\n        # listen       [::]:80;\n        server_name  localhost;\n        root         /home/test;\n\n        autoindex on; # 开启文件目录\n        autoindex_exact_size off;\n        autoindex_localtime on;\n\n        add_header 'Access-Control-Allow-Origin' '*';\n        add_header 'Access-Control-Allow-Methods' 'GET, POST, OPTIONS';\n        add_header 'Access-Control-Allow-Credentials' 'true';\n        add_header 'Access-Control-Allow-Headers' 'DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range';\n        add_header 'Access-Control-Expose-Headers' 'Content-Length,Content-Range';\n\n        # location / {\n        #     root   /home/hexo;\n        # }     \n\n        # Load configuration files for the default server block.\n        # include /etc/nginx/default.d/*.conf;\n\n        # error_page 404 /404.html;\n        # location = /404.html {\n        # }\n\n        # error_page 500 502 503 504 /50x.html;\n        # location = /50x.html {\n        # }\n    }\n    \n        server {\n        listen       80;\n        listen       [::]:80;\n        server_name  localhost;\n        root         /home/hexo;\n\n        # autoindex on; # 开启文件目录\n        # autoindex_exact_size off;\n        # autoindex_localtime on;  \n\n        # add_header 'Access-Control-Allow-Origin' '*';\n        # add_header 'Access-Control-Allow-Methods' 'GET, POST, OPTIONS';\n        # add_header 'Access-Control-Allow-Credentials' 'true';  \n        # add_header 'Access-Control-Allow-Headers' 'DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range';\n        # add_header 'Access-Control-Expose-Headers' 'Content-Length,Content-Range';\n\n        # location / {\n        #     root   /home/hexo;\n        # }     \n\n        # Load configuration files for the default server block.\n        # include /etc/nginx/default.d/*.conf;\n\n        # error_page 404 /404.html;\n        # location = /404.html {\n        # }\n\n        # error_page 500 502 503 504 /50x.html;\n        # location = /50x.html {\n        # }\n    }\n```\n\n注意: 阿里云服务器需到控制台配置安全组, 即可开通想使用的端口\n\n#### 4.重启服务器\n\n```shell\nsystemctl restart nginx.service\n```\n\n#### 5.建立git仓库\n\n```shell\nsu root\ncd /home/alexlinux\ngit init --bare blog.git\nchown alexlinux:alexlinux -R blog.git\n```\n\n#### 6.同步网站根目录\n\n```shell\nvim blog.git/hooks/post-receive\n\n#!/bin/sh\ngit --work-tree=/home/hexo --git-dir=/home/alexlinux/blog.git checkout -f\n```\n\n#### 7.修改权限\n\n```shell\nchmod +x /home/alexlinux/blog.git/hooks/post-receive\n```\n\n#### 8.在windows10本地hexo目录修改_config.yml文件\n\n```shell\n// 安装插件: npm install --save hexo-deployer-git\n\ndeploy:\n  type: git\n  repository: fuchen@49.232.59.235:/home/fuchen/blog.git    #用户名@服务器Ip:git仓库位置\n  branch: master\n```\n\n#### 9.在本机gitbash部署\n\n```shell\nhexo clean\nhexo g -d\n```\n\n部署完毕, 即可通过服务器ip访问网站\n\n\n### 四、常见报错\n\n#### 1.git-upload-pack: 未找到命令\n\n```\nbash: git-upload-pack: command not found\nfatal: Could not read from remote repository.\n```\n\n解决方法\n\n```\nsudo ln -s  /usr/local/git/bin/git-upload-pack  /usr/bin/git-upload-pack\n```\n\n#### 2.git-receive-pack: 未找到命令\n\n```\nbash: git-receive-pack: command not found\nfatal: Could not read from remote repository.\n```\n\n解决方法\n\n```\nsudo ln -s /usr/local/git/bin/git-receive-pack  /usr/bin/git-receive-pack\n```\n\n#### 3.无法远程连接获取\n\n```\nfatal: Could not read from remote repository.\n```\n\n解决方法\n\n```\n重试或者 删掉本地ssh公钥重新上传至服务器\n```\n\n#### 4.key出错\n\n```\nHost key verification failed.\n```\n\n解决方法\n\n```\nssh-keygen -R 你要访问的IP地址\n```\n\n&nbsp;\n\n```\n 文章大部分内容转载于下列作者:\n 文章作者: Fuchenchenle\n 文章链接: http://fuchenchenle.cn/2020/08/17/%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/\n 视频地址: https://www.bilibili.com/video/BV1cp4y1i7C7?p=2&spm_id_from=pageDriver\n```","slug":"hexo部署博客004","published":1,"updated":"2021-11-16T09:18:41.352Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckw3jsf6n000ph8v9b8mphq3x","content":"<h3 id=\"一、部署环境与准备\"><a href=\"#一、部署环境与准备\" class=\"headerlink\" title=\"一、部署环境与准备\"></a>一、部署环境与准备</h3><h4 id=\"1-环境\"><a href=\"#1-环境\" class=\"headerlink\" title=\"1.环境\"></a>1.环境</h4><p>本地windows10操作系统</p>\n<p>阿里云Centos7.6服务器</p>\n<h4 id=\"1-准备\"><a href=\"#1-准备\" class=\"headerlink\" title=\"1.准备\"></a>1.准备</h4><p>Hexo本地博客</p>\n<p>Xshell连接到你的服务器（也可使用阿里云自带web连接）</p>\n<h3 id=\"二、云服务器配置Git\"><a href=\"#二、云服务器配置Git\" class=\"headerlink\" title=\"二、云服务器配置Git\"></a>二、云服务器配置Git</h3><h4 id=\"1-安装依赖库\"><a href=\"#1-安装依赖库\" class=\"headerlink\" title=\"1.安装依赖库\"></a>1.安装依赖库</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"2-安装编译工具\"><a href=\"#2-安装编译工具\" class=\"headerlink\" title=\"2.安装编译工具\"></a>2.安装编译工具</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">yum install  gcc perl-ExtUtils-MakeMaker package<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-查看git的版本\"><a href=\"#3-查看git的版本\" class=\"headerlink\" title=\"3.查看git的版本\"></a>3.查看git的版本</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">git version<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"4-删除git\"><a href=\"#4-删除git\" class=\"headerlink\" title=\"4.删除git\"></a>4.删除git</h4><p>git有问题时可删除, 下载最新版</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">yum remove git<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"5-下载解压最新版\"><a href=\"#5-下载解压最新版\" class=\"headerlink\" title=\"5.下载解压最新版\"></a>5.下载解压最新版</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">cd &#x2F;usr&#x2F;local&#x2F;src #下载的目录 \nwget https:&#x2F;&#x2F;www.kernel.org&#x2F;pub&#x2F;software&#x2F;scm&#x2F;git&#x2F;git-2.28.0.tar.gz #下载最新版 \ntar -zxvf git-2.28.0.tar.gz #解压到当前文件夹<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"6-编辑并安装\"><a href=\"#6-编辑并安装\" class=\"headerlink\" title=\"6.编辑并安装\"></a>6.编辑并安装</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">cd git-2.28.0    #进入文件夹\nmake prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;git all    #编译源码\nmake prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;git install    #安装路径<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"7-配置git的环境变量\"><a href=\"#7-配置git的环境变量\" class=\"headerlink\" title=\"7.配置git的环境变量\"></a>7.配置git的环境变量</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">echo &#39;export PATH&#x3D;$PATH:&#x2F;usr&#x2F;local&#x2F;git&#x2F;bin&#39; &gt;&gt; &#x2F;etc&#x2F;bashrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"8-刷新环境变量\"><a href=\"#8-刷新环境变量\" class=\"headerlink\" title=\"8.刷新环境变量\"></a>8.刷新环境变量</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">source &#x2F;etc&#x2F;bashrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"9-查看版本号\"><a href=\"#9-查看版本号\" class=\"headerlink\" title=\"9.查看版本号\"></a>9.查看版本号</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">git --version<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"10-创建git用户并且修改权限\"><a href=\"#10-创建git用户并且修改权限\" class=\"headerlink\" title=\"10.创建git用户并且修改权限\"></a>10.创建git用户并且修改权限</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">adduser alexlinux #添加用户\npasswd alexlinux #添加密码\nchmod 740 &#x2F;etc&#x2F;sudoers #文件夹配置权限\nvim &#x2F;etc&#x2F;sudoers #添加下面配置\n\nroot ALL&#x3D;(ALL) ALL \nalexlinux ALL&#x3D;(ALL) ALL<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"11-本地windows10使用Gitbash创建密钥\"><a href=\"#11-本地windows10使用Gitbash创建密钥\" class=\"headerlink\" title=\"11.本地windows10使用Gitbash创建密钥\"></a>11.本地windows10使用Gitbash创建密钥</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">ssh-keygen -t rsa    &#x2F;&#x2F; 生成在C:\\Users\\lang\\.ssh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"12-将本地创建id-rsa-pub中文件复制\"><a href=\"#12-将本地创建id-rsa-pub中文件复制\" class=\"headerlink\" title=\"12.将本地创建id_rsa.pub中文件复制\"></a>12.将本地创建id_rsa.pub中文件复制</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">su alexlinux\nmkdir ~&#x2F;.ssh\nvim ~&#x2F;.ssh&#x2F;authorized_keys  #拷贝id_rsa.pub内容进去<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"13-本地测试\"><a href=\"#13-本地测试\" class=\"headerlink\" title=\"13.本地测试\"></a>13.本地测试</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">ssh -v alexlinux@服务器ip<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n<h3 id=\"三、云服务器网站配置\"><a href=\"#三、云服务器网站配置\" class=\"headerlink\" title=\"三、云服务器网站配置\"></a>三、云服务器网站配置</h3><h4 id=\"1-创建网站目录并且设置权限\"><a href=\"#1-创建网站目录并且设置权限\" class=\"headerlink\" title=\"1.创建网站目录并且设置权限\"></a>1.创建网站目录并且设置权限</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">su root\nmkdir &#x2F;home&#x2F;hexo\nchown alexlinux:alexlinux -R &#x2F;home&#x2F;hexo<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-安装Nginx\"><a href=\"#2-安装Nginx\" class=\"headerlink\" title=\"2.安装Nginx\"></a>2.安装Nginx</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">yum install -y nginx\nsystemctl start nginx.service    #启动服务<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-修改Nginx配置文件\"><a href=\"#3-修改Nginx配置文件\" class=\"headerlink\" title=\"3.修改Nginx配置文件\"></a>3.修改Nginx配置文件</h4><pre class=\"line-numbers language-nginx\" data-language=\"nginx\"><code class=\"language-nginx\">vim &#x2F;etc&#x2F;nginx&#x2F;nginx.conf \n\n\n    server &#123;\n        listen       9000;\n        # listen       [::]:80;\n        server_name  localhost;\n        root         &#x2F;home&#x2F;test;\n\n        autoindex on; # 开启文件目录\n        autoindex_exact_size off;\n        autoindex_localtime on;\n\n        add_header &#39;Access-Control-Allow-Origin&#39; &#39;*&#39;;\n        add_header &#39;Access-Control-Allow-Methods&#39; &#39;GET, POST, OPTIONS&#39;;\n        add_header &#39;Access-Control-Allow-Credentials&#39; &#39;true&#39;;\n        add_header &#39;Access-Control-Allow-Headers&#39; &#39;DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range&#39;;\n        add_header &#39;Access-Control-Expose-Headers&#39; &#39;Content-Length,Content-Range&#39;;\n\n        # location &#x2F; &#123;\n        #     root   &#x2F;home&#x2F;hexo;\n        # &#125;     \n\n        # Load configuration files for the default server block.\n        # include &#x2F;etc&#x2F;nginx&#x2F;default.d&#x2F;*.conf;\n\n        # error_page 404 &#x2F;404.html;\n        # location &#x3D; &#x2F;404.html &#123;\n        # &#125;\n\n        # error_page 500 502 503 504 &#x2F;50x.html;\n        # location &#x3D; &#x2F;50x.html &#123;\n        # &#125;\n    &#125;\n    \n        server &#123;\n        listen       80;\n        listen       [::]:80;\n        server_name  localhost;\n        root         &#x2F;home&#x2F;hexo;\n\n        # autoindex on; # 开启文件目录\n        # autoindex_exact_size off;\n        # autoindex_localtime on;  \n\n        # add_header &#39;Access-Control-Allow-Origin&#39; &#39;*&#39;;\n        # add_header &#39;Access-Control-Allow-Methods&#39; &#39;GET, POST, OPTIONS&#39;;\n        # add_header &#39;Access-Control-Allow-Credentials&#39; &#39;true&#39;;  \n        # add_header &#39;Access-Control-Allow-Headers&#39; &#39;DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range&#39;;\n        # add_header &#39;Access-Control-Expose-Headers&#39; &#39;Content-Length,Content-Range&#39;;\n\n        # location &#x2F; &#123;\n        #     root   &#x2F;home&#x2F;hexo;\n        # &#125;     \n\n        # Load configuration files for the default server block.\n        # include &#x2F;etc&#x2F;nginx&#x2F;default.d&#x2F;*.conf;\n\n        # error_page 404 &#x2F;404.html;\n        # location &#x3D; &#x2F;404.html &#123;\n        # &#125;\n\n        # error_page 500 502 503 504 &#x2F;50x.html;\n        # location &#x3D; &#x2F;50x.html &#123;\n        # &#125;\n    &#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>注意: 阿里云服务器需到控制台配置安全组, 即可开通想使用的端口</p>\n<h4 id=\"4-重启服务器\"><a href=\"#4-重启服务器\" class=\"headerlink\" title=\"4.重启服务器\"></a>4.重启服务器</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">systemctl restart nginx.service<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"5-建立git仓库\"><a href=\"#5-建立git仓库\" class=\"headerlink\" title=\"5.建立git仓库\"></a>5.建立git仓库</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">su root\ncd &#x2F;home&#x2F;alexlinux\ngit init --bare blog.git\nchown alexlinux:alexlinux -R blog.git<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"6-同步网站根目录\"><a href=\"#6-同步网站根目录\" class=\"headerlink\" title=\"6.同步网站根目录\"></a>6.同步网站根目录</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">vim blog.git&#x2F;hooks&#x2F;post-receive\n\n#!&#x2F;bin&#x2F;sh\ngit --work-tree&#x3D;&#x2F;home&#x2F;hexo --git-dir&#x3D;&#x2F;home&#x2F;alexlinux&#x2F;blog.git checkout -f<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"7-修改权限\"><a href=\"#7-修改权限\" class=\"headerlink\" title=\"7.修改权限\"></a>7.修改权限</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">chmod +x &#x2F;home&#x2F;alexlinux&#x2F;blog.git&#x2F;hooks&#x2F;post-receive<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"8-在windows10本地hexo目录修改-config-yml文件\"><a href=\"#8-在windows10本地hexo目录修改-config-yml文件\" class=\"headerlink\" title=\"8.在windows10本地hexo目录修改_config.yml文件\"></a>8.在windows10本地hexo目录修改_config.yml文件</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">&#x2F;&#x2F; 安装插件: npm install --save hexo-deployer-git\n\ndeploy:\n  type: git\n  repository: fuchen@49.232.59.235:&#x2F;home&#x2F;fuchen&#x2F;blog.git    #用户名@服务器Ip:git仓库位置\n  branch: master<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"9-在本机gitbash部署\"><a href=\"#9-在本机gitbash部署\" class=\"headerlink\" title=\"9.在本机gitbash部署\"></a>9.在本机gitbash部署</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">hexo clean\nhexo g -d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>部署完毕, 即可通过服务器ip访问网站</p>\n<h3 id=\"四、常见报错\"><a href=\"#四、常见报错\" class=\"headerlink\" title=\"四、常见报错\"></a>四、常见报错</h3><h4 id=\"1-git-upload-pack-未找到命令\"><a href=\"#1-git-upload-pack-未找到命令\" class=\"headerlink\" title=\"1.git-upload-pack: 未找到命令\"></a>1.git-upload-pack: 未找到命令</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">bash: git-upload-pack: command not found\nfatal: Could not read from remote repository.<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>解决方法</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo ln -s  &#x2F;usr&#x2F;local&#x2F;git&#x2F;bin&#x2F;git-upload-pack  &#x2F;usr&#x2F;bin&#x2F;git-upload-pack<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"2-git-receive-pack-未找到命令\"><a href=\"#2-git-receive-pack-未找到命令\" class=\"headerlink\" title=\"2.git-receive-pack: 未找到命令\"></a>2.git-receive-pack: 未找到命令</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">bash: git-receive-pack: command not found\nfatal: Could not read from remote repository.<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>解决方法</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo ln -s &#x2F;usr&#x2F;local&#x2F;git&#x2F;bin&#x2F;git-receive-pack  &#x2F;usr&#x2F;bin&#x2F;git-receive-pack<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-无法远程连接获取\"><a href=\"#3-无法远程连接获取\" class=\"headerlink\" title=\"3.无法远程连接获取\"></a>3.无法远程连接获取</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">fatal: Could not read from remote repository.<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>解决方法</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">重试或者 删掉本地ssh公钥重新上传至服务器<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"4-key出错\"><a href=\"#4-key出错\" class=\"headerlink\" title=\"4.key出错\"></a>4.key出错</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">Host key verification failed.<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>解决方法</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">ssh-keygen -R 你要访问的IP地址<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">文章大部分内容转载于下列作者:\n文章作者: Fuchenchenle\n文章链接: http:&#x2F;&#x2F;fuchenchenle.cn&#x2F;2020&#x2F;08&#x2F;17&#x2F;%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2&#x2F;\n视频地址: https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1cp4y1i7C7?p&#x3D;2&amp;spm_id_from&#x3D;pageDriver<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<h3 id=\"一、部署环境与准备\"><a href=\"#一、部署环境与准备\" class=\"headerlink\" title=\"一、部署环境与准备\"></a>一、部署环境与准备</h3><h4 id=\"1-环境\"><a href=\"#1-环境\" class=\"headerlink\" title=\"1.环境\"></a>1.环境</h4><p>本地windows10操作系统</p>\n<p>阿里云Centos7.6服务器</p>\n<h4 id=\"1-准备\"><a href=\"#1-准备\" class=\"headerlink\" title=\"1.准备\"></a>1.准备</h4><p>Hexo本地博客</p>\n<p>Xshell连接到你的服务器（也可使用阿里云自带web连接）</p>\n<h3 id=\"二、云服务器配置Git\"><a href=\"#二、云服务器配置Git\" class=\"headerlink\" title=\"二、云服务器配置Git\"></a>二、云服务器配置Git</h3><h4 id=\"1-安装依赖库\"><a href=\"#1-安装依赖库\" class=\"headerlink\" title=\"1.安装依赖库\"></a>1.安装依赖库</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"2-安装编译工具\"><a href=\"#2-安装编译工具\" class=\"headerlink\" title=\"2.安装编译工具\"></a>2.安装编译工具</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">yum install  gcc perl-ExtUtils-MakeMaker package<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-查看git的版本\"><a href=\"#3-查看git的版本\" class=\"headerlink\" title=\"3.查看git的版本\"></a>3.查看git的版本</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">git version<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"4-删除git\"><a href=\"#4-删除git\" class=\"headerlink\" title=\"4.删除git\"></a>4.删除git</h4><p>git有问题时可删除, 下载最新版</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">yum remove git<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"5-下载解压最新版\"><a href=\"#5-下载解压最新版\" class=\"headerlink\" title=\"5.下载解压最新版\"></a>5.下载解压最新版</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">cd &#x2F;usr&#x2F;local&#x2F;src #下载的目录 \nwget https:&#x2F;&#x2F;www.kernel.org&#x2F;pub&#x2F;software&#x2F;scm&#x2F;git&#x2F;git-2.28.0.tar.gz #下载最新版 \ntar -zxvf git-2.28.0.tar.gz #解压到当前文件夹<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"6-编辑并安装\"><a href=\"#6-编辑并安装\" class=\"headerlink\" title=\"6.编辑并安装\"></a>6.编辑并安装</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">cd git-2.28.0    #进入文件夹\nmake prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;git all    #编译源码\nmake prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;git install    #安装路径<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"7-配置git的环境变量\"><a href=\"#7-配置git的环境变量\" class=\"headerlink\" title=\"7.配置git的环境变量\"></a>7.配置git的环境变量</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">echo &#39;export PATH&#x3D;$PATH:&#x2F;usr&#x2F;local&#x2F;git&#x2F;bin&#39; &gt;&gt; &#x2F;etc&#x2F;bashrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"8-刷新环境变量\"><a href=\"#8-刷新环境变量\" class=\"headerlink\" title=\"8.刷新环境变量\"></a>8.刷新环境变量</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">source &#x2F;etc&#x2F;bashrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"9-查看版本号\"><a href=\"#9-查看版本号\" class=\"headerlink\" title=\"9.查看版本号\"></a>9.查看版本号</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">git --version<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"10-创建git用户并且修改权限\"><a href=\"#10-创建git用户并且修改权限\" class=\"headerlink\" title=\"10.创建git用户并且修改权限\"></a>10.创建git用户并且修改权限</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">adduser alexlinux #添加用户\npasswd alexlinux #添加密码\nchmod 740 &#x2F;etc&#x2F;sudoers #文件夹配置权限\nvim &#x2F;etc&#x2F;sudoers #添加下面配置\n\nroot ALL&#x3D;(ALL) ALL \nalexlinux ALL&#x3D;(ALL) ALL<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"11-本地windows10使用Gitbash创建密钥\"><a href=\"#11-本地windows10使用Gitbash创建密钥\" class=\"headerlink\" title=\"11.本地windows10使用Gitbash创建密钥\"></a>11.本地windows10使用Gitbash创建密钥</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">ssh-keygen -t rsa    &#x2F;&#x2F; 生成在C:\\Users\\lang\\.ssh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"12-将本地创建id-rsa-pub中文件复制\"><a href=\"#12-将本地创建id-rsa-pub中文件复制\" class=\"headerlink\" title=\"12.将本地创建id_rsa.pub中文件复制\"></a>12.将本地创建id_rsa.pub中文件复制</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">su alexlinux\nmkdir ~&#x2F;.ssh\nvim ~&#x2F;.ssh&#x2F;authorized_keys  #拷贝id_rsa.pub内容进去<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"13-本地测试\"><a href=\"#13-本地测试\" class=\"headerlink\" title=\"13.本地测试\"></a>13.本地测试</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">ssh -v alexlinux@服务器ip<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n<h3 id=\"三、云服务器网站配置\"><a href=\"#三、云服务器网站配置\" class=\"headerlink\" title=\"三、云服务器网站配置\"></a>三、云服务器网站配置</h3><h4 id=\"1-创建网站目录并且设置权限\"><a href=\"#1-创建网站目录并且设置权限\" class=\"headerlink\" title=\"1.创建网站目录并且设置权限\"></a>1.创建网站目录并且设置权限</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">su root\nmkdir &#x2F;home&#x2F;hexo\nchown alexlinux:alexlinux -R &#x2F;home&#x2F;hexo<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-安装Nginx\"><a href=\"#2-安装Nginx\" class=\"headerlink\" title=\"2.安装Nginx\"></a>2.安装Nginx</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">yum install -y nginx\nsystemctl start nginx.service    #启动服务<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-修改Nginx配置文件\"><a href=\"#3-修改Nginx配置文件\" class=\"headerlink\" title=\"3.修改Nginx配置文件\"></a>3.修改Nginx配置文件</h4><pre class=\"line-numbers language-nginx\" data-language=\"nginx\"><code class=\"language-nginx\">vim &#x2F;etc&#x2F;nginx&#x2F;nginx.conf \n\n\n    server &#123;\n        listen       9000;\n        # listen       [::]:80;\n        server_name  localhost;\n        root         &#x2F;home&#x2F;test;\n\n        autoindex on; # 开启文件目录\n        autoindex_exact_size off;\n        autoindex_localtime on;\n\n        add_header &#39;Access-Control-Allow-Origin&#39; &#39;*&#39;;\n        add_header &#39;Access-Control-Allow-Methods&#39; &#39;GET, POST, OPTIONS&#39;;\n        add_header &#39;Access-Control-Allow-Credentials&#39; &#39;true&#39;;\n        add_header &#39;Access-Control-Allow-Headers&#39; &#39;DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range&#39;;\n        add_header &#39;Access-Control-Expose-Headers&#39; &#39;Content-Length,Content-Range&#39;;\n\n        # location &#x2F; &#123;\n        #     root   &#x2F;home&#x2F;hexo;\n        # &#125;     \n\n        # Load configuration files for the default server block.\n        # include &#x2F;etc&#x2F;nginx&#x2F;default.d&#x2F;*.conf;\n\n        # error_page 404 &#x2F;404.html;\n        # location &#x3D; &#x2F;404.html &#123;\n        # &#125;\n\n        # error_page 500 502 503 504 &#x2F;50x.html;\n        # location &#x3D; &#x2F;50x.html &#123;\n        # &#125;\n    &#125;\n    \n        server &#123;\n        listen       80;\n        listen       [::]:80;\n        server_name  localhost;\n        root         &#x2F;home&#x2F;hexo;\n\n        # autoindex on; # 开启文件目录\n        # autoindex_exact_size off;\n        # autoindex_localtime on;  \n\n        # add_header &#39;Access-Control-Allow-Origin&#39; &#39;*&#39;;\n        # add_header &#39;Access-Control-Allow-Methods&#39; &#39;GET, POST, OPTIONS&#39;;\n        # add_header &#39;Access-Control-Allow-Credentials&#39; &#39;true&#39;;  \n        # add_header &#39;Access-Control-Allow-Headers&#39; &#39;DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range&#39;;\n        # add_header &#39;Access-Control-Expose-Headers&#39; &#39;Content-Length,Content-Range&#39;;\n\n        # location &#x2F; &#123;\n        #     root   &#x2F;home&#x2F;hexo;\n        # &#125;     \n\n        # Load configuration files for the default server block.\n        # include &#x2F;etc&#x2F;nginx&#x2F;default.d&#x2F;*.conf;\n\n        # error_page 404 &#x2F;404.html;\n        # location &#x3D; &#x2F;404.html &#123;\n        # &#125;\n\n        # error_page 500 502 503 504 &#x2F;50x.html;\n        # location &#x3D; &#x2F;50x.html &#123;\n        # &#125;\n    &#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>注意: 阿里云服务器需到控制台配置安全组, 即可开通想使用的端口</p>\n<h4 id=\"4-重启服务器\"><a href=\"#4-重启服务器\" class=\"headerlink\" title=\"4.重启服务器\"></a>4.重启服务器</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">systemctl restart nginx.service<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"5-建立git仓库\"><a href=\"#5-建立git仓库\" class=\"headerlink\" title=\"5.建立git仓库\"></a>5.建立git仓库</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">su root\ncd &#x2F;home&#x2F;alexlinux\ngit init --bare blog.git\nchown alexlinux:alexlinux -R blog.git<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"6-同步网站根目录\"><a href=\"#6-同步网站根目录\" class=\"headerlink\" title=\"6.同步网站根目录\"></a>6.同步网站根目录</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">vim blog.git&#x2F;hooks&#x2F;post-receive\n\n#!&#x2F;bin&#x2F;sh\ngit --work-tree&#x3D;&#x2F;home&#x2F;hexo --git-dir&#x3D;&#x2F;home&#x2F;alexlinux&#x2F;blog.git checkout -f<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"7-修改权限\"><a href=\"#7-修改权限\" class=\"headerlink\" title=\"7.修改权限\"></a>7.修改权限</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">chmod +x &#x2F;home&#x2F;alexlinux&#x2F;blog.git&#x2F;hooks&#x2F;post-receive<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"8-在windows10本地hexo目录修改-config-yml文件\"><a href=\"#8-在windows10本地hexo目录修改-config-yml文件\" class=\"headerlink\" title=\"8.在windows10本地hexo目录修改_config.yml文件\"></a>8.在windows10本地hexo目录修改_config.yml文件</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">&#x2F;&#x2F; 安装插件: npm install --save hexo-deployer-git\n\ndeploy:\n  type: git\n  repository: fuchen@49.232.59.235:&#x2F;home&#x2F;fuchen&#x2F;blog.git    #用户名@服务器Ip:git仓库位置\n  branch: master<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"9-在本机gitbash部署\"><a href=\"#9-在本机gitbash部署\" class=\"headerlink\" title=\"9.在本机gitbash部署\"></a>9.在本机gitbash部署</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">hexo clean\nhexo g -d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>部署完毕, 即可通过服务器ip访问网站</p>\n<h3 id=\"四、常见报错\"><a href=\"#四、常见报错\" class=\"headerlink\" title=\"四、常见报错\"></a>四、常见报错</h3><h4 id=\"1-git-upload-pack-未找到命令\"><a href=\"#1-git-upload-pack-未找到命令\" class=\"headerlink\" title=\"1.git-upload-pack: 未找到命令\"></a>1.git-upload-pack: 未找到命令</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">bash: git-upload-pack: command not found\nfatal: Could not read from remote repository.<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>解决方法</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo ln -s  &#x2F;usr&#x2F;local&#x2F;git&#x2F;bin&#x2F;git-upload-pack  &#x2F;usr&#x2F;bin&#x2F;git-upload-pack<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"2-git-receive-pack-未找到命令\"><a href=\"#2-git-receive-pack-未找到命令\" class=\"headerlink\" title=\"2.git-receive-pack: 未找到命令\"></a>2.git-receive-pack: 未找到命令</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">bash: git-receive-pack: command not found\nfatal: Could not read from remote repository.<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>解决方法</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo ln -s &#x2F;usr&#x2F;local&#x2F;git&#x2F;bin&#x2F;git-receive-pack  &#x2F;usr&#x2F;bin&#x2F;git-receive-pack<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-无法远程连接获取\"><a href=\"#3-无法远程连接获取\" class=\"headerlink\" title=\"3.无法远程连接获取\"></a>3.无法远程连接获取</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">fatal: Could not read from remote repository.<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>解决方法</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">重试或者 删掉本地ssh公钥重新上传至服务器<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"4-key出错\"><a href=\"#4-key出错\" class=\"headerlink\" title=\"4.key出错\"></a>4.key出错</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">Host key verification failed.<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>解决方法</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">ssh-keygen -R 你要访问的IP地址<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">文章大部分内容转载于下列作者:\n文章作者: Fuchenchenle\n文章链接: http:&#x2F;&#x2F;fuchenchenle.cn&#x2F;2020&#x2F;08&#x2F;17&#x2F;%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2&#x2F;\n视频地址: https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1cp4y1i7C7?p&#x3D;2&amp;spm_id_from&#x3D;pageDriver<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>"},{"title":"hexo部署博客002","date":"2021-11-14T05:58:22.000Z","_content":"\n### 美化hexo\n\n#### 1.下载美化主题\n\n`git clone https://github.com/blinkfox/hexo-theme-matery.git`\n\n#### 2.根据配置修改样式\n\n具体配置可看最后的视频链接\n\n##### [hexo-theme-matery配置](https://gitee.com/yafine66/hexo-theme-matery)\n\n#### 3.附录\n\n3.1 魔改链接:  \nhttps://blog.csdn.net/cungudafa/article/details/106278206  \nhttps://www.jianshu.com/p/2e6ae2123d57  \nhttps://juejin.cn/post/6844904132608786446  \n\n3.2 其它主题:  \n使用NexT: http://theme-next.iissnan.com/getting-started.html\n\n&nbsp;\n\n```\n 文章大部分内容转载于下列作者:\n 文章作者: Fuchenchenle\n 文章链接: http://fuchenchenle.cn/2020/08/17/%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/\n 视频地址: https://www.bilibili.com/video/BV1cp4y1i7C7?p=2&spm_id_from=pageDriver\n```","source":"_posts/hexo部署博客002.md","raw":"---\ntitle: hexo部署博客002  \ndate: 2021-11-14 13:58:22  \ncategories:  \n- [linux, hexo]  \ntags:  \n- linux\n- hexo\n---\n\n### 美化hexo\n\n#### 1.下载美化主题\n\n`git clone https://github.com/blinkfox/hexo-theme-matery.git`\n\n#### 2.根据配置修改样式\n\n具体配置可看最后的视频链接\n\n##### [hexo-theme-matery配置](https://gitee.com/yafine66/hexo-theme-matery)\n\n#### 3.附录\n\n3.1 魔改链接:  \nhttps://blog.csdn.net/cungudafa/article/details/106278206  \nhttps://www.jianshu.com/p/2e6ae2123d57  \nhttps://juejin.cn/post/6844904132608786446  \n\n3.2 其它主题:  \n使用NexT: http://theme-next.iissnan.com/getting-started.html\n\n&nbsp;\n\n```\n 文章大部分内容转载于下列作者:\n 文章作者: Fuchenchenle\n 文章链接: http://fuchenchenle.cn/2020/08/17/%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/\n 视频地址: https://www.bilibili.com/video/BV1cp4y1i7C7?p=2&spm_id_from=pageDriver\n```","slug":"hexo部署博客002","published":1,"updated":"2021-11-16T09:18:41.360Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckw3jsf6o000rh8v923tq88nd","content":"<h3 id=\"美化hexo\"><a href=\"#美化hexo\" class=\"headerlink\" title=\"美化hexo\"></a>美化hexo</h3><h4 id=\"1-下载美化主题\"><a href=\"#1-下载美化主题\" class=\"headerlink\" title=\"1.下载美化主题\"></a>1.下载美化主题</h4><p><code>git clone https://github.com/blinkfox/hexo-theme-matery.git</code></p>\n<h4 id=\"2-根据配置修改样式\"><a href=\"#2-根据配置修改样式\" class=\"headerlink\" title=\"2.根据配置修改样式\"></a>2.根据配置修改样式</h4><p>具体配置可看最后的视频链接</p>\n<h5 id=\"hexo-theme-matery配置\"><a href=\"#hexo-theme-matery配置\" class=\"headerlink\" title=\"hexo-theme-matery配置\"></a><a href=\"https://gitee.com/yafine66/hexo-theme-matery\">hexo-theme-matery配置</a></h5><h4 id=\"3-附录\"><a href=\"#3-附录\" class=\"headerlink\" title=\"3.附录\"></a>3.附录</h4><p>3.1 魔改链接:<br><a href=\"https://blog.csdn.net/cungudafa/article/details/106278206\">https://blog.csdn.net/cungudafa/article/details/106278206</a><br><a href=\"https://www.jianshu.com/p/2e6ae2123d57\">https://www.jianshu.com/p/2e6ae2123d57</a><br><a href=\"https://juejin.cn/post/6844904132608786446\">https://juejin.cn/post/6844904132608786446</a>  </p>\n<p>3.2 其它主题:<br>使用NexT: <a href=\"http://theme-next.iissnan.com/getting-started.html\">http://theme-next.iissnan.com/getting-started.html</a></p>\n<p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">文章大部分内容转载于下列作者:\n文章作者: Fuchenchenle\n文章链接: http:&#x2F;&#x2F;fuchenchenle.cn&#x2F;2020&#x2F;08&#x2F;17&#x2F;%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2&#x2F;\n视频地址: https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1cp4y1i7C7?p&#x3D;2&amp;spm_id_from&#x3D;pageDriver<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<h3 id=\"美化hexo\"><a href=\"#美化hexo\" class=\"headerlink\" title=\"美化hexo\"></a>美化hexo</h3><h4 id=\"1-下载美化主题\"><a href=\"#1-下载美化主题\" class=\"headerlink\" title=\"1.下载美化主题\"></a>1.下载美化主题</h4><p><code>git clone https://github.com/blinkfox/hexo-theme-matery.git</code></p>\n<h4 id=\"2-根据配置修改样式\"><a href=\"#2-根据配置修改样式\" class=\"headerlink\" title=\"2.根据配置修改样式\"></a>2.根据配置修改样式</h4><p>具体配置可看最后的视频链接</p>\n<h5 id=\"hexo-theme-matery配置\"><a href=\"#hexo-theme-matery配置\" class=\"headerlink\" title=\"hexo-theme-matery配置\"></a><a href=\"https://gitee.com/yafine66/hexo-theme-matery\">hexo-theme-matery配置</a></h5><h4 id=\"3-附录\"><a href=\"#3-附录\" class=\"headerlink\" title=\"3.附录\"></a>3.附录</h4><p>3.1 魔改链接:<br><a href=\"https://blog.csdn.net/cungudafa/article/details/106278206\">https://blog.csdn.net/cungudafa/article/details/106278206</a><br><a href=\"https://www.jianshu.com/p/2e6ae2123d57\">https://www.jianshu.com/p/2e6ae2123d57</a><br><a href=\"https://juejin.cn/post/6844904132608786446\">https://juejin.cn/post/6844904132608786446</a>  </p>\n<p>3.2 其它主题:<br>使用NexT: <a href=\"http://theme-next.iissnan.com/getting-started.html\">http://theme-next.iissnan.com/getting-started.html</a></p>\n<p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">文章大部分内容转载于下列作者:\n文章作者: Fuchenchenle\n文章链接: http:&#x2F;&#x2F;fuchenchenle.cn&#x2F;2020&#x2F;08&#x2F;17&#x2F;%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2&#x2F;\n视频地址: https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1cp4y1i7C7?p&#x3D;2&amp;spm_id_from&#x3D;pageDriver<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>"},{"title":"hexo部署博客005(结)","date":"2021-11-14T07:40:17.000Z","_content":"\n### 一、部署准备\n\n#### 1.环境\n\n本地windows10操作系统\n\n阿里云服务器（Centos7.6）\n\n#### 2.准备\n\nSSL证书下载到本地 [买域名后可在阿里云免费申请一年]\n\nWinscp / Filezilla 软件来上传ssl证书\n\n\n### 二.安装FTP服务\n\n#### 1.安装vsftpd\n\n```shell\nyum install -y vsftpd\n```\n\n#### 2.修改配置文件\n\n```shell\nvim /etc/vsftpd/vsftpd.conf\n\nanonymous_enable=No     #禁止匿名用户登录\n```\n\n\n### 三、部署SSL证书\n\n#### 1.文件默认上传至我们的用户文件夹下\n\n```shell\ncd /home/alexlinux\nls\n```\n\n#### 2.解压缩文件\n\n```shell\nunzip ~.zip\n```\n\n#### 3.解压完成后，会在我们的文件夹下生成 Nginx Apache IIS Tomcat 文件夹 我们只需要用Nginx\n\n#### 4.将Nginx文件夹下的文件复制到新建的文件夹下\n\n```shell\nmkdir /etc/nginx/ssl/\ncd /home/alexlinux/Nginx\ncp ~.crt /etc/nginx/ssl/\ncp ~.key /etc/nginx/ssl/\n```\n\n#### 5.打开nginx.conf 文件夹 修改配置文件\n\n```shell\nvim /etc/nginx/nginx.conf\n```\n\n```nginx\n    server {\n        listen       443 ssl;\n        listen       [::]:443 ssl;\n        server_name  lixuelang.com;\n        root         /home/hexo;\n\n        ssl_certificate /etc/nginx/ssl/server.pem;\n        ssl_certificate_key /etc/nginx/ssl/server.key;\n        ssl_session_cache shared:SSL:1m;\n        ssl_session_timeout  10m;\n        ssl_ciphers HIGH:!aNULL:!MD5;\n        ssl_prefer_server_ciphers on;\n\n        # Load configuration files for the default server block.\n        include /etc/nginx/default.d/*.conf;\n\n       location / {\n               root /home/hexo;\n               index index.html;\n       }\n\n        #error_page 404 /404.html;\n        #    location = /40x.html {\n        #}\n\n        #error_page 500 502 503 504 /50x.html;\n        #    location = /50x.html {\n        #}\n    }\n```\n\n#### 6.查看是否有报错，无报错重启服务器\n\n```shell\nnginx -t\nsystemctl restart nginx\n```\n\n&nbsp;\n\n```\n 文章大部分内容转载于下列作者:\n 文章作者: Fuchenchenle\n 文章链接: http://fuchenchenle.cn/2020/08/17/%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/\n 视频地址: https://www.bilibili.com/video/BV1cp4y1i7C7?p=2&spm_id_from=pageDriver\n```\n","source":"_posts/hexo部署博客005-结.md","raw":"---\ntitle: hexo部署博客005(结)  \ndate: 2021-11-14 15:40:17\ncategories:  \n- [linux, hexo]  \ntags:  \n- linux\n- hexo\n---\n\n### 一、部署准备\n\n#### 1.环境\n\n本地windows10操作系统\n\n阿里云服务器（Centos7.6）\n\n#### 2.准备\n\nSSL证书下载到本地 [买域名后可在阿里云免费申请一年]\n\nWinscp / Filezilla 软件来上传ssl证书\n\n\n### 二.安装FTP服务\n\n#### 1.安装vsftpd\n\n```shell\nyum install -y vsftpd\n```\n\n#### 2.修改配置文件\n\n```shell\nvim /etc/vsftpd/vsftpd.conf\n\nanonymous_enable=No     #禁止匿名用户登录\n```\n\n\n### 三、部署SSL证书\n\n#### 1.文件默认上传至我们的用户文件夹下\n\n```shell\ncd /home/alexlinux\nls\n```\n\n#### 2.解压缩文件\n\n```shell\nunzip ~.zip\n```\n\n#### 3.解压完成后，会在我们的文件夹下生成 Nginx Apache IIS Tomcat 文件夹 我们只需要用Nginx\n\n#### 4.将Nginx文件夹下的文件复制到新建的文件夹下\n\n```shell\nmkdir /etc/nginx/ssl/\ncd /home/alexlinux/Nginx\ncp ~.crt /etc/nginx/ssl/\ncp ~.key /etc/nginx/ssl/\n```\n\n#### 5.打开nginx.conf 文件夹 修改配置文件\n\n```shell\nvim /etc/nginx/nginx.conf\n```\n\n```nginx\n    server {\n        listen       443 ssl;\n        listen       [::]:443 ssl;\n        server_name  lixuelang.com;\n        root         /home/hexo;\n\n        ssl_certificate /etc/nginx/ssl/server.pem;\n        ssl_certificate_key /etc/nginx/ssl/server.key;\n        ssl_session_cache shared:SSL:1m;\n        ssl_session_timeout  10m;\n        ssl_ciphers HIGH:!aNULL:!MD5;\n        ssl_prefer_server_ciphers on;\n\n        # Load configuration files for the default server block.\n        include /etc/nginx/default.d/*.conf;\n\n       location / {\n               root /home/hexo;\n               index index.html;\n       }\n\n        #error_page 404 /404.html;\n        #    location = /40x.html {\n        #}\n\n        #error_page 500 502 503 504 /50x.html;\n        #    location = /50x.html {\n        #}\n    }\n```\n\n#### 6.查看是否有报错，无报错重启服务器\n\n```shell\nnginx -t\nsystemctl restart nginx\n```\n\n&nbsp;\n\n```\n 文章大部分内容转载于下列作者:\n 文章作者: Fuchenchenle\n 文章链接: http://fuchenchenle.cn/2020/08/17/%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/\n 视频地址: https://www.bilibili.com/video/BV1cp4y1i7C7?p=2&spm_id_from=pageDriver\n```\n","slug":"hexo部署博客005-结","published":1,"updated":"2021-11-16T09:18:41.235Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckw3jsf6r000vh8v95k1273vr","content":"<h3 id=\"一、部署准备\"><a href=\"#一、部署准备\" class=\"headerlink\" title=\"一、部署准备\"></a>一、部署准备</h3><h4 id=\"1-环境\"><a href=\"#1-环境\" class=\"headerlink\" title=\"1.环境\"></a>1.环境</h4><p>本地windows10操作系统</p>\n<p>阿里云服务器（Centos7.6）</p>\n<h4 id=\"2-准备\"><a href=\"#2-准备\" class=\"headerlink\" title=\"2.准备\"></a>2.准备</h4><p>SSL证书下载到本地 [买域名后可在阿里云免费申请一年]</p>\n<p>Winscp / Filezilla 软件来上传ssl证书</p>\n<h3 id=\"二-安装FTP服务\"><a href=\"#二-安装FTP服务\" class=\"headerlink\" title=\"二.安装FTP服务\"></a>二.安装FTP服务</h3><h4 id=\"1-安装vsftpd\"><a href=\"#1-安装vsftpd\" class=\"headerlink\" title=\"1.安装vsftpd\"></a>1.安装vsftpd</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">yum install -y vsftpd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"2-修改配置文件\"><a href=\"#2-修改配置文件\" class=\"headerlink\" title=\"2.修改配置文件\"></a>2.修改配置文件</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">vim &#x2F;etc&#x2F;vsftpd&#x2F;vsftpd.conf\n\nanonymous_enable&#x3D;No     #禁止匿名用户登录<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n\n<h3 id=\"三、部署SSL证书\"><a href=\"#三、部署SSL证书\" class=\"headerlink\" title=\"三、部署SSL证书\"></a>三、部署SSL证书</h3><h4 id=\"1-文件默认上传至我们的用户文件夹下\"><a href=\"#1-文件默认上传至我们的用户文件夹下\" class=\"headerlink\" title=\"1.文件默认上传至我们的用户文件夹下\"></a>1.文件默认上传至我们的用户文件夹下</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">cd &#x2F;home&#x2F;alexlinux\nls<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-解压缩文件\"><a href=\"#2-解压缩文件\" class=\"headerlink\" title=\"2.解压缩文件\"></a>2.解压缩文件</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">unzip ~.zip<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-解压完成后，会在我们的文件夹下生成-Nginx-Apache-IIS-Tomcat-文件夹-我们只需要用Nginx\"><a href=\"#3-解压完成后，会在我们的文件夹下生成-Nginx-Apache-IIS-Tomcat-文件夹-我们只需要用Nginx\" class=\"headerlink\" title=\"3.解压完成后，会在我们的文件夹下生成 Nginx Apache IIS Tomcat 文件夹 我们只需要用Nginx\"></a>3.解压完成后，会在我们的文件夹下生成 Nginx Apache IIS Tomcat 文件夹 我们只需要用Nginx</h4><h4 id=\"4-将Nginx文件夹下的文件复制到新建的文件夹下\"><a href=\"#4-将Nginx文件夹下的文件复制到新建的文件夹下\" class=\"headerlink\" title=\"4.将Nginx文件夹下的文件复制到新建的文件夹下\"></a>4.将Nginx文件夹下的文件复制到新建的文件夹下</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">mkdir &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;\ncd &#x2F;home&#x2F;alexlinux&#x2F;Nginx\ncp ~.crt &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;\ncp ~.key &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"5-打开nginx-conf-文件夹-修改配置文件\"><a href=\"#5-打开nginx-conf-文件夹-修改配置文件\" class=\"headerlink\" title=\"5.打开nginx.conf 文件夹 修改配置文件\"></a>5.打开nginx.conf 文件夹 修改配置文件</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">vim &#x2F;etc&#x2F;nginx&#x2F;nginx.conf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-nginx\" data-language=\"nginx\"><code class=\"language-nginx\">server &#123;\n    listen       443 ssl;\n    listen       [::]:443 ssl;\n    server_name  lixuelang.com;\n    root         &#x2F;home&#x2F;hexo;\n\n    ssl_certificate &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;server.pem;\n    ssl_certificate_key &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;server.key;\n    ssl_session_cache shared:SSL:1m;\n    ssl_session_timeout  10m;\n    ssl_ciphers HIGH:!aNULL:!MD5;\n    ssl_prefer_server_ciphers on;\n\n    # Load configuration files for the default server block.\n    include &#x2F;etc&#x2F;nginx&#x2F;default.d&#x2F;*.conf;\n\n   location &#x2F; &#123;\n           root &#x2F;home&#x2F;hexo;\n           index index.html;\n   &#125;\n\n    #error_page 404 &#x2F;404.html;\n    #    location &#x3D; &#x2F;40x.html &#123;\n    #&#125;\n\n    #error_page 500 502 503 504 &#x2F;50x.html;\n    #    location &#x3D; &#x2F;50x.html &#123;\n    #&#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"6-查看是否有报错，无报错重启服务器\"><a href=\"#6-查看是否有报错，无报错重启服务器\" class=\"headerlink\" title=\"6.查看是否有报错，无报错重启服务器\"></a>6.查看是否有报错，无报错重启服务器</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">nginx -t\nsystemctl restart nginx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">文章大部分内容转载于下列作者:\n文章作者: Fuchenchenle\n文章链接: http:&#x2F;&#x2F;fuchenchenle.cn&#x2F;2020&#x2F;08&#x2F;17&#x2F;%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2&#x2F;\n视频地址: https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1cp4y1i7C7?p&#x3D;2&amp;spm_id_from&#x3D;pageDriver<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<h3 id=\"一、部署准备\"><a href=\"#一、部署准备\" class=\"headerlink\" title=\"一、部署准备\"></a>一、部署准备</h3><h4 id=\"1-环境\"><a href=\"#1-环境\" class=\"headerlink\" title=\"1.环境\"></a>1.环境</h4><p>本地windows10操作系统</p>\n<p>阿里云服务器（Centos7.6）</p>\n<h4 id=\"2-准备\"><a href=\"#2-准备\" class=\"headerlink\" title=\"2.准备\"></a>2.准备</h4><p>SSL证书下载到本地 [买域名后可在阿里云免费申请一年]</p>\n<p>Winscp / Filezilla 软件来上传ssl证书</p>\n<h3 id=\"二-安装FTP服务\"><a href=\"#二-安装FTP服务\" class=\"headerlink\" title=\"二.安装FTP服务\"></a>二.安装FTP服务</h3><h4 id=\"1-安装vsftpd\"><a href=\"#1-安装vsftpd\" class=\"headerlink\" title=\"1.安装vsftpd\"></a>1.安装vsftpd</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">yum install -y vsftpd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"2-修改配置文件\"><a href=\"#2-修改配置文件\" class=\"headerlink\" title=\"2.修改配置文件\"></a>2.修改配置文件</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">vim &#x2F;etc&#x2F;vsftpd&#x2F;vsftpd.conf\n\nanonymous_enable&#x3D;No     #禁止匿名用户登录<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n\n<h3 id=\"三、部署SSL证书\"><a href=\"#三、部署SSL证书\" class=\"headerlink\" title=\"三、部署SSL证书\"></a>三、部署SSL证书</h3><h4 id=\"1-文件默认上传至我们的用户文件夹下\"><a href=\"#1-文件默认上传至我们的用户文件夹下\" class=\"headerlink\" title=\"1.文件默认上传至我们的用户文件夹下\"></a>1.文件默认上传至我们的用户文件夹下</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">cd &#x2F;home&#x2F;alexlinux\nls<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-解压缩文件\"><a href=\"#2-解压缩文件\" class=\"headerlink\" title=\"2.解压缩文件\"></a>2.解压缩文件</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">unzip ~.zip<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-解压完成后，会在我们的文件夹下生成-Nginx-Apache-IIS-Tomcat-文件夹-我们只需要用Nginx\"><a href=\"#3-解压完成后，会在我们的文件夹下生成-Nginx-Apache-IIS-Tomcat-文件夹-我们只需要用Nginx\" class=\"headerlink\" title=\"3.解压完成后，会在我们的文件夹下生成 Nginx Apache IIS Tomcat 文件夹 我们只需要用Nginx\"></a>3.解压完成后，会在我们的文件夹下生成 Nginx Apache IIS Tomcat 文件夹 我们只需要用Nginx</h4><h4 id=\"4-将Nginx文件夹下的文件复制到新建的文件夹下\"><a href=\"#4-将Nginx文件夹下的文件复制到新建的文件夹下\" class=\"headerlink\" title=\"4.将Nginx文件夹下的文件复制到新建的文件夹下\"></a>4.将Nginx文件夹下的文件复制到新建的文件夹下</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">mkdir &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;\ncd &#x2F;home&#x2F;alexlinux&#x2F;Nginx\ncp ~.crt &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;\ncp ~.key &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"5-打开nginx-conf-文件夹-修改配置文件\"><a href=\"#5-打开nginx-conf-文件夹-修改配置文件\" class=\"headerlink\" title=\"5.打开nginx.conf 文件夹 修改配置文件\"></a>5.打开nginx.conf 文件夹 修改配置文件</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">vim &#x2F;etc&#x2F;nginx&#x2F;nginx.conf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-nginx\" data-language=\"nginx\"><code class=\"language-nginx\">server &#123;\n    listen       443 ssl;\n    listen       [::]:443 ssl;\n    server_name  lixuelang.com;\n    root         &#x2F;home&#x2F;hexo;\n\n    ssl_certificate &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;server.pem;\n    ssl_certificate_key &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;server.key;\n    ssl_session_cache shared:SSL:1m;\n    ssl_session_timeout  10m;\n    ssl_ciphers HIGH:!aNULL:!MD5;\n    ssl_prefer_server_ciphers on;\n\n    # Load configuration files for the default server block.\n    include &#x2F;etc&#x2F;nginx&#x2F;default.d&#x2F;*.conf;\n\n   location &#x2F; &#123;\n           root &#x2F;home&#x2F;hexo;\n           index index.html;\n   &#125;\n\n    #error_page 404 &#x2F;404.html;\n    #    location &#x3D; &#x2F;40x.html &#123;\n    #&#125;\n\n    #error_page 500 502 503 504 &#x2F;50x.html;\n    #    location &#x3D; &#x2F;50x.html &#123;\n    #&#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"6-查看是否有报错，无报错重启服务器\"><a href=\"#6-查看是否有报错，无报错重启服务器\" class=\"headerlink\" title=\"6.查看是否有报错，无报错重启服务器\"></a>6.查看是否有报错，无报错重启服务器</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">nginx -t\nsystemctl restart nginx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>&nbsp;</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">文章大部分内容转载于下列作者:\n文章作者: Fuchenchenle\n文章链接: http:&#x2F;&#x2F;fuchenchenle.cn&#x2F;2020&#x2F;08&#x2F;17&#x2F;%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2&#x2F;\n视频地址: https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1cp4y1i7C7?p&#x3D;2&amp;spm_id_from&#x3D;pageDriver<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Sentry监控部署008-上传source-map","date":"2021-11-18T14:00:05.000Z","_content":"#### Sentry 实战\n\n## 上传 `sourcemap`\n\n目前为止，我们在 `sentry` 管理界面中看到的错误堆栈信息，是压缩后的代码。为了看到更详细的源文件信息，我们可以上传 `sourcemap` 文件到sentry来解决。\n\n可以通过两种方式上传：\n\n- `sentry-cli` 命令行工具\n- `webpack` 插件\n\n第一种方式是在自己开发电脑上手动上传，\n推荐使用第二种，可以集成到部署环节中自动上传。\n\n### 方式一：通过 `sentry-cli` 命令行工具上传 `sourcemap`\n\n- [sentry-cli官方文档](https://docs.sentry.io/product/cli/)\n\n1.在开发电脑安装`@sentry/cli`\n\n  ```bash\n  npm install -g --unsafe-perm=true --allow-root @sentry/cli\n  sentry-cli -h\n  ```\n\n2.配置 `sentry-cli`\n\n  在上传之前，我们需要配置一下 `sentry-cli`，主要配置以下几个信息：\n\n  1. `url`: 要上传的 `sentry` 服务的地址，即我们通过 `docker` 启动的服务的地址\n  2. `org`: 组织名称，可以在 `sentry` 管理界面的 `Settings` 中设置组织\n  3. `project`: `sentry` 项目名，可以在 `sentry管理界面` 的`Projects`中查看、创建、设置项目\n  4. `token`: `sentry` 服务准入 `sentry-cli` 上传的鉴权 `token`，可以在 `sentry管理界面` 的 `Settings -> Account -> API -> Auth Tokens` 中创建和删除\n\n3.执行一下命令创建 `sentry-cli` 配置文件\n\n  ```bash\n  sentry-cli --url http://127.0.0.1:9000 login\n  ```\n\n4.命令行中弹出选择\n\n  ```bash\n  This helps you signing in your sentry-cli with an authentication token.\n  If you do not yet have a token ready we can bring up a browser for you\n  to create a token now.\n\n  Sentry server: 10.10.8.46\n  Open browser now? [y/n] y\n  ```\n\n- 选择`n`，则提示输入 `token`，`token` 可以在 `sentry管理界面` 的 `Settings -> Account -> API -> Auth Tokens` 中创建，然后粘贴到命令行\n\n- 选择`y`，则会自动打开浏览器到 `sentry管理界面` 的 `Settings -> Account -> API -> Auth Tokens`，创建或直接复制 `token` 来粘贴\n\n  ![Auth Tokens](https://lixuelang.com/test/Sentry/pic/008/auth-tokens.jpg)\n\n5.命令执行完成后，会生成文件 `~/.sentryclirc`\n\n  ```bash\n  vim ~/.sentryclirc\n  ```\n\n  ```bash\n  # ~/.sentryclirc\n  [auth]\n  token=3e5e95abce3541bxxxxxxxxxxxxxxxxxxxx\n\n  [defaults]\n  url=http://127.0.0.1:9000\n  org=sentry\n  project=cra-test\n  ```\n\n- 这个文件也可以直接写在前端项目根目录中，`sentry-cli` 命令会优先读取当前目录下的 `.sentryclirc` 文件，如果没有这个文件，才会读取 `~/.sentryclirc`\n\n6.手动上传 `sourcemap`\n\n- 编译前端项目，生成 `build` 目录，其中包含 `sourcemap` 文件\n\n  ```bash\n  npm run build\n  ```\n\n- 在上传之前，我们先看下 `sentry` 管理界面 `Settings -> sentry -> Projects -> cra-test -> Source Maps -> Archive`，会发现列表中有一个 `0.0.1` 版本，这个版本是我们在前端项目里通过 `sentry.init` 的 `release` 配置的，只要前端上传过报错信息，就会在管理界面生成这个版本。目前列表中应该没有任何文件。\n\n- 上传命令，会把本地的 `./build` 文件夹下的 `sourcemap` 文件，上传到 `sentry` 服务，并且指定上传到 `Archive` 为 `0.0.1` 版本中：\n\n  ```bash\n  sentry-cli releases files 0.0.1 upload-sourcemaps --url-prefix '~/' './build'\n  ```\n\n  其中 `--url-prefix` 是指 `sentry` 读取 `sourcemap` 文件服务的路径，如果项目没有部署在域名根目录，则需要调整这个参数\n\n  ```bash\n  # 执行结果\n  > Found 9 release files\n  > Analyzing 9 sources\n  > Analyzing completed in 0.051s\n  > Rewriting sources\n  > Rewriting completed in 0.027s\n  > Adding source map references\n  > Bundling files for upload... \n  > Bundling completed in 0.059s\n  > Optimizing completed in 0.002s\n  > Uploading completed in 0.194s\n  > Uploaded release files to Sentry\n  > Processing completed in 0.1s\n  > File upload complete (processing pending on server)\n\n  Source Map Upload Report\n    Minified Scripts\n      ~/static/js/2.24e90ef4.chunk.js (sourcemap at 2.24e90ef4.chunk.js.map)\n      ~/static/js/3.dcc4df3d.chunk.js (sourcemap at 3.dcc4df3d.chunk.js.map)\n      ~/static/js/main.edf94630.chunk.js (sourcemap at main.edf94630.chunk.js.map)\n      ~/static/js/runtime-main.d690483e.js (sourcemap at runtime-main.d690483e.js.map)\n    Source Maps\n      ~/static/css/main.6dea0f05.chunk.css.map\n      ~/static/js/2.24e90ef4.chunk.js.map\n      ~/static/js/3.dcc4df3d.chunk.js.map\n      ~/static/js/main.edf94630.chunk.js.map\n      ~/static/js/runtime-main.d690483e.js.map\n  ```\n\n- 回到 `sentry` 管理界面 `Archive`，可以看到 `sourcemap` 文件已经上传\n\n  ![sourcemap](https://lixuelang.com/test/Sentry/pic/008/sourcemap.jpg)\n\n7.查看效果\n\n- 通过`http-server`启动前端服务\n\n  ```bash\n  cd build\n  http-server\n  ```\n\n- 访问 <http://127.0.0.1:8080>\n\n- 点击按钮手动制造并上报错误\n\n- 回到 `sentry` 管理界面，查看对应 `issue`，可以看到具体信息：哪个文件发生了错误，错误的行列数，错误行附近的源代码\n\n  ![sourcemap错误](https://lixuelang.com/test/Sentry/pic/008/sourcemap-error.jpg)\n\n- 删除 `sourcemap`\n\n  ```bash\n  sentry-cli releases files 0.0.1 delete --all\n  ```\n\n  ```bash\n  D ~/static/css/main.6dea0f05.chunk.css.map\n  D ~/static/js/2.24e90ef4.chunk.js\n  D ~/static/js/2.24e90ef4.chunk.js.map\n  D ~/static/js/3.dcc4df3d.chunk.js\n  D ~/static/js/3.dcc4df3d.chunk.js.map\n  D ~/static/js/main.edf94630.chunk.js\n  D ~/static/js/main.edf94630.chunk.js.map\n  D ~/static/js/runtime-main.d690483e.js\n  D ~/static/js/runtime-main.d690483e.js.map\n  ```\n\n### 方式二、通过 `webpack` 插件上传 `sourcemap`\n\n第二种方式会在 `npm run build` 时自动上传 `sourcemap`，推荐使用这种方式\n\n1.安装 `@sentry/webpack-plugin`\n\n  ```bash\n  npm i -D @sentry/webpack-plugin\n  ```\n\n- [@sentry/webpack-plugin官方文档](https://github.com/getsentry/sentry-webpack-plugin)\n\n2.React配置 `webpack`\n\n- `create-react-app` 修改 `webpack` 配置参考: <https://github.com/timarney/react-app-rewired>\n\n  ```js\n  // config-overrides.js\n  const SentryCliPlugin = require('@sentry/webpack-plugin');\n  module.exports = function override(config, env) {\n    config.devtool = 'source-map';\n    config.plugins.push(\n      new SentryCliPlugin({\n        release: '0.0.1',\n        authToken: 'xxxxxxxx',\n        url: 'http://127.0.0.1:9000',\n        org: 'sentry',\n        project: 'cra-test',\n        urlPrefix: '~/',\n        include: './build',\n        ignore: ['node_modules'],\n      })\n    );\n    return config;\n  }\n  ```\n\n- 配置中的 `release`、`authToken`、`url`、`org`、`project`、`urlPrefix`、`include` 定义同 `.sentryclirc`\n- `ignore`: 上传时要忽略的文件夹或文件类型\n\n2.Vue配置 `webpack`\n- `vue-cli3` 修改webpack配置\n\n```\nconst SentryCliPlugin = require('@sentry/webpack-plugin');\nmodule.exports = {\n    configureWebpack: {\n        devtool: \"source-map\",\n        plugins: [\n            new SentryCliPlugin({\n                release: 'pro@1.0.3',\n                authToken: 'cd9d14fe889948bd84122d6c9603963c6ada0526777a441f9bd534d522249bd6',\n                url: 'http://192.168.0.105:9000',\n                org: 'test_organization',\n                project: 'hello-world',\n                urlPrefix: '~/',\n                include: './dist',\n                ignore: ['node_modules'],\n            })\n        ],\n    },\n}\n```\n\n3.`npm run build` 编译，会产生一下信息：\n\n  ```bash\n  Creating an optimized production build...\n  > Found 9 release files\n  > Analyzing 9 sources\n  > Analyzing completed in 0.065s\n  > Rewriting sources\n  > Rewriting completed in 0.039s\n  > Adding source map references\n  > Bundling files for upload... ~/static/js/2.24e90ef4.chunk.js.map\n  > Bundling completed in 0.072s\n  > Optimizing completed in 0.001s\n  > Uploading completed in 0.146s\n  > Uploaded release files to Sentry\n  > Processing completed in 0.069s\n  > File upload complete (processing pending on server)\n  > Organization: sentry\n  > Project: cra-test\n  > Release: 0.0.1\n  > Dist: None\n\n  Source Map Upload Report\n    Minified Scripts\n      ~/static/js/2.24e90ef4.chunk.js (sourcemap at 2.24e90ef4.chunk.js.map)\n      ~/static/js/3.dcc4df3d.chunk.js (sourcemap at 3.dcc4df3d.chunk.js.map)\n      ~/static/js/main.edf94630.chunk.js (sourcemap at main.edf94630.chunk.js.map)\n      ~/static/js/runtime-main.d690483e.js (sourcemap at runtime-main.d690483e.js.map)\n    Source Maps\n      ~/static/css/main.6dea0f05.chunk.css.map\n      ~/static/js/2.24e90ef4.chunk.js.map\n      ~/static/js/3.dcc4df3d.chunk.js.map\n      ~/static/js/main.edf94630.chunk.js.map\n      ~/static/js/runtime-main.d690483e.js.map\n  ```\n\n4.回到 `sentry` 管理界面 `Archive`，可以看到 `sourcemap` 文件已经上传到 `sentry` 服务中\n\n5.在上传完以后，需要删除 `sourcemap` 文件，不要把它们部署到线上去了\n\n  ```\n  // package.json\n  {\n    \"scripts\": {\n      \"build\": \"react-app-rewired build && rm -rf dist/*.map\",\n    },\n  }\n  ```\n","source":"_posts/Sentry监控部署008-上传source-map.md","raw":"---\ntitle: 'Sentry监控部署008-上传source-map'\ndate: 2021-11-18 22:00:05\ncategories:  \n- [linux, Sentry]  \ntags:  \n- linux\n- Sentry\n---\n#### Sentry 实战\n\n## 上传 `sourcemap`\n\n目前为止，我们在 `sentry` 管理界面中看到的错误堆栈信息，是压缩后的代码。为了看到更详细的源文件信息，我们可以上传 `sourcemap` 文件到sentry来解决。\n\n可以通过两种方式上传：\n\n- `sentry-cli` 命令行工具\n- `webpack` 插件\n\n第一种方式是在自己开发电脑上手动上传，\n推荐使用第二种，可以集成到部署环节中自动上传。\n\n### 方式一：通过 `sentry-cli` 命令行工具上传 `sourcemap`\n\n- [sentry-cli官方文档](https://docs.sentry.io/product/cli/)\n\n1.在开发电脑安装`@sentry/cli`\n\n  ```bash\n  npm install -g --unsafe-perm=true --allow-root @sentry/cli\n  sentry-cli -h\n  ```\n\n2.配置 `sentry-cli`\n\n  在上传之前，我们需要配置一下 `sentry-cli`，主要配置以下几个信息：\n\n  1. `url`: 要上传的 `sentry` 服务的地址，即我们通过 `docker` 启动的服务的地址\n  2. `org`: 组织名称，可以在 `sentry` 管理界面的 `Settings` 中设置组织\n  3. `project`: `sentry` 项目名，可以在 `sentry管理界面` 的`Projects`中查看、创建、设置项目\n  4. `token`: `sentry` 服务准入 `sentry-cli` 上传的鉴权 `token`，可以在 `sentry管理界面` 的 `Settings -> Account -> API -> Auth Tokens` 中创建和删除\n\n3.执行一下命令创建 `sentry-cli` 配置文件\n\n  ```bash\n  sentry-cli --url http://127.0.0.1:9000 login\n  ```\n\n4.命令行中弹出选择\n\n  ```bash\n  This helps you signing in your sentry-cli with an authentication token.\n  If you do not yet have a token ready we can bring up a browser for you\n  to create a token now.\n\n  Sentry server: 10.10.8.46\n  Open browser now? [y/n] y\n  ```\n\n- 选择`n`，则提示输入 `token`，`token` 可以在 `sentry管理界面` 的 `Settings -> Account -> API -> Auth Tokens` 中创建，然后粘贴到命令行\n\n- 选择`y`，则会自动打开浏览器到 `sentry管理界面` 的 `Settings -> Account -> API -> Auth Tokens`，创建或直接复制 `token` 来粘贴\n\n  ![Auth Tokens](https://lixuelang.com/test/Sentry/pic/008/auth-tokens.jpg)\n\n5.命令执行完成后，会生成文件 `~/.sentryclirc`\n\n  ```bash\n  vim ~/.sentryclirc\n  ```\n\n  ```bash\n  # ~/.sentryclirc\n  [auth]\n  token=3e5e95abce3541bxxxxxxxxxxxxxxxxxxxx\n\n  [defaults]\n  url=http://127.0.0.1:9000\n  org=sentry\n  project=cra-test\n  ```\n\n- 这个文件也可以直接写在前端项目根目录中，`sentry-cli` 命令会优先读取当前目录下的 `.sentryclirc` 文件，如果没有这个文件，才会读取 `~/.sentryclirc`\n\n6.手动上传 `sourcemap`\n\n- 编译前端项目，生成 `build` 目录，其中包含 `sourcemap` 文件\n\n  ```bash\n  npm run build\n  ```\n\n- 在上传之前，我们先看下 `sentry` 管理界面 `Settings -> sentry -> Projects -> cra-test -> Source Maps -> Archive`，会发现列表中有一个 `0.0.1` 版本，这个版本是我们在前端项目里通过 `sentry.init` 的 `release` 配置的，只要前端上传过报错信息，就会在管理界面生成这个版本。目前列表中应该没有任何文件。\n\n- 上传命令，会把本地的 `./build` 文件夹下的 `sourcemap` 文件，上传到 `sentry` 服务，并且指定上传到 `Archive` 为 `0.0.1` 版本中：\n\n  ```bash\n  sentry-cli releases files 0.0.1 upload-sourcemaps --url-prefix '~/' './build'\n  ```\n\n  其中 `--url-prefix` 是指 `sentry` 读取 `sourcemap` 文件服务的路径，如果项目没有部署在域名根目录，则需要调整这个参数\n\n  ```bash\n  # 执行结果\n  > Found 9 release files\n  > Analyzing 9 sources\n  > Analyzing completed in 0.051s\n  > Rewriting sources\n  > Rewriting completed in 0.027s\n  > Adding source map references\n  > Bundling files for upload... \n  > Bundling completed in 0.059s\n  > Optimizing completed in 0.002s\n  > Uploading completed in 0.194s\n  > Uploaded release files to Sentry\n  > Processing completed in 0.1s\n  > File upload complete (processing pending on server)\n\n  Source Map Upload Report\n    Minified Scripts\n      ~/static/js/2.24e90ef4.chunk.js (sourcemap at 2.24e90ef4.chunk.js.map)\n      ~/static/js/3.dcc4df3d.chunk.js (sourcemap at 3.dcc4df3d.chunk.js.map)\n      ~/static/js/main.edf94630.chunk.js (sourcemap at main.edf94630.chunk.js.map)\n      ~/static/js/runtime-main.d690483e.js (sourcemap at runtime-main.d690483e.js.map)\n    Source Maps\n      ~/static/css/main.6dea0f05.chunk.css.map\n      ~/static/js/2.24e90ef4.chunk.js.map\n      ~/static/js/3.dcc4df3d.chunk.js.map\n      ~/static/js/main.edf94630.chunk.js.map\n      ~/static/js/runtime-main.d690483e.js.map\n  ```\n\n- 回到 `sentry` 管理界面 `Archive`，可以看到 `sourcemap` 文件已经上传\n\n  ![sourcemap](https://lixuelang.com/test/Sentry/pic/008/sourcemap.jpg)\n\n7.查看效果\n\n- 通过`http-server`启动前端服务\n\n  ```bash\n  cd build\n  http-server\n  ```\n\n- 访问 <http://127.0.0.1:8080>\n\n- 点击按钮手动制造并上报错误\n\n- 回到 `sentry` 管理界面，查看对应 `issue`，可以看到具体信息：哪个文件发生了错误，错误的行列数，错误行附近的源代码\n\n  ![sourcemap错误](https://lixuelang.com/test/Sentry/pic/008/sourcemap-error.jpg)\n\n- 删除 `sourcemap`\n\n  ```bash\n  sentry-cli releases files 0.0.1 delete --all\n  ```\n\n  ```bash\n  D ~/static/css/main.6dea0f05.chunk.css.map\n  D ~/static/js/2.24e90ef4.chunk.js\n  D ~/static/js/2.24e90ef4.chunk.js.map\n  D ~/static/js/3.dcc4df3d.chunk.js\n  D ~/static/js/3.dcc4df3d.chunk.js.map\n  D ~/static/js/main.edf94630.chunk.js\n  D ~/static/js/main.edf94630.chunk.js.map\n  D ~/static/js/runtime-main.d690483e.js\n  D ~/static/js/runtime-main.d690483e.js.map\n  ```\n\n### 方式二、通过 `webpack` 插件上传 `sourcemap`\n\n第二种方式会在 `npm run build` 时自动上传 `sourcemap`，推荐使用这种方式\n\n1.安装 `@sentry/webpack-plugin`\n\n  ```bash\n  npm i -D @sentry/webpack-plugin\n  ```\n\n- [@sentry/webpack-plugin官方文档](https://github.com/getsentry/sentry-webpack-plugin)\n\n2.React配置 `webpack`\n\n- `create-react-app` 修改 `webpack` 配置参考: <https://github.com/timarney/react-app-rewired>\n\n  ```js\n  // config-overrides.js\n  const SentryCliPlugin = require('@sentry/webpack-plugin');\n  module.exports = function override(config, env) {\n    config.devtool = 'source-map';\n    config.plugins.push(\n      new SentryCliPlugin({\n        release: '0.0.1',\n        authToken: 'xxxxxxxx',\n        url: 'http://127.0.0.1:9000',\n        org: 'sentry',\n        project: 'cra-test',\n        urlPrefix: '~/',\n        include: './build',\n        ignore: ['node_modules'],\n      })\n    );\n    return config;\n  }\n  ```\n\n- 配置中的 `release`、`authToken`、`url`、`org`、`project`、`urlPrefix`、`include` 定义同 `.sentryclirc`\n- `ignore`: 上传时要忽略的文件夹或文件类型\n\n2.Vue配置 `webpack`\n- `vue-cli3` 修改webpack配置\n\n```\nconst SentryCliPlugin = require('@sentry/webpack-plugin');\nmodule.exports = {\n    configureWebpack: {\n        devtool: \"source-map\",\n        plugins: [\n            new SentryCliPlugin({\n                release: 'pro@1.0.3',\n                authToken: 'cd9d14fe889948bd84122d6c9603963c6ada0526777a441f9bd534d522249bd6',\n                url: 'http://192.168.0.105:9000',\n                org: 'test_organization',\n                project: 'hello-world',\n                urlPrefix: '~/',\n                include: './dist',\n                ignore: ['node_modules'],\n            })\n        ],\n    },\n}\n```\n\n3.`npm run build` 编译，会产生一下信息：\n\n  ```bash\n  Creating an optimized production build...\n  > Found 9 release files\n  > Analyzing 9 sources\n  > Analyzing completed in 0.065s\n  > Rewriting sources\n  > Rewriting completed in 0.039s\n  > Adding source map references\n  > Bundling files for upload... ~/static/js/2.24e90ef4.chunk.js.map\n  > Bundling completed in 0.072s\n  > Optimizing completed in 0.001s\n  > Uploading completed in 0.146s\n  > Uploaded release files to Sentry\n  > Processing completed in 0.069s\n  > File upload complete (processing pending on server)\n  > Organization: sentry\n  > Project: cra-test\n  > Release: 0.0.1\n  > Dist: None\n\n  Source Map Upload Report\n    Minified Scripts\n      ~/static/js/2.24e90ef4.chunk.js (sourcemap at 2.24e90ef4.chunk.js.map)\n      ~/static/js/3.dcc4df3d.chunk.js (sourcemap at 3.dcc4df3d.chunk.js.map)\n      ~/static/js/main.edf94630.chunk.js (sourcemap at main.edf94630.chunk.js.map)\n      ~/static/js/runtime-main.d690483e.js (sourcemap at runtime-main.d690483e.js.map)\n    Source Maps\n      ~/static/css/main.6dea0f05.chunk.css.map\n      ~/static/js/2.24e90ef4.chunk.js.map\n      ~/static/js/3.dcc4df3d.chunk.js.map\n      ~/static/js/main.edf94630.chunk.js.map\n      ~/static/js/runtime-main.d690483e.js.map\n  ```\n\n4.回到 `sentry` 管理界面 `Archive`，可以看到 `sourcemap` 文件已经上传到 `sentry` 服务中\n\n5.在上传完以后，需要删除 `sourcemap` 文件，不要把它们部署到线上去了\n\n  ```\n  // package.json\n  {\n    \"scripts\": {\n      \"build\": \"react-app-rewired build && rm -rf dist/*.map\",\n    },\n  }\n  ```\n","slug":"Sentry监控部署008-上传source-map","published":1,"updated":"2021-11-20T14:48:54.518Z","_id":"ckw50lpz50000lgv91obz7b8y","comments":1,"layout":"post","photos":[],"link":"","content":"<h4 id=\"Sentry-实战\"><a href=\"#Sentry-实战\" class=\"headerlink\" title=\"Sentry 实战\"></a>Sentry 实战</h4><h2 id=\"上传-sourcemap\"><a href=\"#上传-sourcemap\" class=\"headerlink\" title=\"上传 sourcemap\"></a>上传 <code>sourcemap</code></h2><p>目前为止，我们在 <code>sentry</code> 管理界面中看到的错误堆栈信息，是压缩后的代码。为了看到更详细的源文件信息，我们可以上传 <code>sourcemap</code> 文件到sentry来解决。</p>\n<p>可以通过两种方式上传：</p>\n<ul>\n<li><code>sentry-cli</code> 命令行工具</li>\n<li><code>webpack</code> 插件</li>\n</ul>\n<p>第一种方式是在自己开发电脑上手动上传，<br>推荐使用第二种，可以集成到部署环节中自动上传。</p>\n<h3 id=\"方式一：通过-sentry-cli-命令行工具上传-sourcemap\"><a href=\"#方式一：通过-sentry-cli-命令行工具上传-sourcemap\" class=\"headerlink\" title=\"方式一：通过 sentry-cli 命令行工具上传 sourcemap\"></a>方式一：通过 <code>sentry-cli</code> 命令行工具上传 <code>sourcemap</code></h3><ul>\n<li><a href=\"https://docs.sentry.io/product/cli/\">sentry-cli官方文档</a></li>\n</ul>\n<p>1.在开发电脑安装<code>@sentry/cli</code></p>\n  <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">npm install -g --unsafe-perm&#x3D;true --allow-root @sentry&#x2F;cli\nsentry-cli -h<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>2.配置 <code>sentry-cli</code></p>\n<p>  在上传之前，我们需要配置一下 <code>sentry-cli</code>，主要配置以下几个信息：</p>\n<ol>\n<li><code>url</code>: 要上传的 <code>sentry</code> 服务的地址，即我们通过 <code>docker</code> 启动的服务的地址</li>\n<li><code>org</code>: 组织名称，可以在 <code>sentry</code> 管理界面的 <code>Settings</code> 中设置组织</li>\n<li><code>project</code>: <code>sentry</code> 项目名，可以在 <code>sentry管理界面</code> 的<code>Projects</code>中查看、创建、设置项目</li>\n<li><code>token</code>: <code>sentry</code> 服务准入 <code>sentry-cli</code> 上传的鉴权 <code>token</code>，可以在 <code>sentry管理界面</code> 的 <code>Settings -&gt; Account -&gt; API -&gt; Auth Tokens</code> 中创建和删除</li>\n</ol>\n<p>3.执行一下命令创建 <code>sentry-cli</code> 配置文件</p>\n  <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">sentry-cli --url http:&#x2F;&#x2F;127.0.0.1:9000 login<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>4.命令行中弹出选择</p>\n  <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">This helps you signing in your sentry-cli with an authentication token.\nIf you do not yet have a token ready we can bring up a browser for you\nto create a token now.\n\nSentry server: 10.10.8.46\nOpen browser now? [y&#x2F;n] y<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li><p>选择<code>n</code>，则提示输入 <code>token</code>，<code>token</code> 可以在 <code>sentry管理界面</code> 的 <code>Settings -&gt; Account -&gt; API -&gt; Auth Tokens</code> 中创建，然后粘贴到命令行</p>\n</li>\n<li><p>选择<code>y</code>，则会自动打开浏览器到 <code>sentry管理界面</code> 的 <code>Settings -&gt; Account -&gt; API -&gt; Auth Tokens</code>，创建或直接复制 <code>token</code> 来粘贴</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/008/auth-tokens.jpg\" alt=\"Auth Tokens\"></p>\n</li>\n</ul>\n<p>5.命令执行完成后，会生成文件 <code>~/.sentryclirc</code></p>\n  <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">vim ~&#x2F;.sentryclirc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n  <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"># ~&#x2F;.sentryclirc\n[auth]\ntoken&#x3D;3e5e95abce3541bxxxxxxxxxxxxxxxxxxxx\n\n[defaults]\nurl&#x3D;http:&#x2F;&#x2F;127.0.0.1:9000\norg&#x3D;sentry\nproject&#x3D;cra-test<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>这个文件也可以直接写在前端项目根目录中，<code>sentry-cli</code> 命令会优先读取当前目录下的 <code>.sentryclirc</code> 文件，如果没有这个文件，才会读取 <code>~/.sentryclirc</code></li>\n</ul>\n<p>6.手动上传 <code>sourcemap</code></p>\n<ul>\n<li><p>编译前端项目，生成 <code>build</code> 目录，其中包含 <code>sourcemap</code> 文件</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">npm run build<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p>在上传之前，我们先看下 <code>sentry</code> 管理界面 <code>Settings -&gt; sentry -&gt; Projects -&gt; cra-test -&gt; Source Maps -&gt; Archive</code>，会发现列表中有一个 <code>0.0.1</code> 版本，这个版本是我们在前端项目里通过 <code>sentry.init</code> 的 <code>release</code> 配置的，只要前端上传过报错信息，就会在管理界面生成这个版本。目前列表中应该没有任何文件。</p>\n</li>\n<li><p>上传命令，会把本地的 <code>./build</code> 文件夹下的 <code>sourcemap</code> 文件，上传到 <code>sentry</code> 服务，并且指定上传到 <code>Archive</code> 为 <code>0.0.1</code> 版本中：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">sentry-cli releases files 0.0.1 upload-sourcemaps --url-prefix &#39;~&#x2F;&#39; &#39;.&#x2F;build&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>其中 <code>--url-prefix</code> 是指 <code>sentry</code> 读取 <code>sourcemap</code> 文件服务的路径，如果项目没有部署在域名根目录，则需要调整这个参数</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"># 执行结果\n&gt; Found 9 release files\n&gt; Analyzing 9 sources\n&gt; Analyzing completed in 0.051s\n&gt; Rewriting sources\n&gt; Rewriting completed in 0.027s\n&gt; Adding source map references\n&gt; Bundling files for upload... \n&gt; Bundling completed in 0.059s\n&gt; Optimizing completed in 0.002s\n&gt; Uploading completed in 0.194s\n&gt; Uploaded release files to Sentry\n&gt; Processing completed in 0.1s\n&gt; File upload complete (processing pending on server)\n\nSource Map Upload Report\n  Minified Scripts\n    ~&#x2F;static&#x2F;js&#x2F;2.24e90ef4.chunk.js (sourcemap at 2.24e90ef4.chunk.js.map)\n    ~&#x2F;static&#x2F;js&#x2F;3.dcc4df3d.chunk.js (sourcemap at 3.dcc4df3d.chunk.js.map)\n    ~&#x2F;static&#x2F;js&#x2F;main.edf94630.chunk.js (sourcemap at main.edf94630.chunk.js.map)\n    ~&#x2F;static&#x2F;js&#x2F;runtime-main.d690483e.js (sourcemap at runtime-main.d690483e.js.map)\n  Source Maps\n    ~&#x2F;static&#x2F;css&#x2F;main.6dea0f05.chunk.css.map\n    ~&#x2F;static&#x2F;js&#x2F;2.24e90ef4.chunk.js.map\n    ~&#x2F;static&#x2F;js&#x2F;3.dcc4df3d.chunk.js.map\n    ~&#x2F;static&#x2F;js&#x2F;main.edf94630.chunk.js.map\n    ~&#x2F;static&#x2F;js&#x2F;runtime-main.d690483e.js.map<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>回到 <code>sentry</code> 管理界面 <code>Archive</code>，可以看到 <code>sourcemap</code> 文件已经上传</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/008/sourcemap.jpg\" alt=\"sourcemap\"></p>\n</li>\n</ul>\n<p>7.查看效果</p>\n<ul>\n<li><p>通过<code>http-server</code>启动前端服务</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">cd build\nhttp-server<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><p>访问 <a href=\"http://127.0.0.1:8080/\">http://127.0.0.1:8080</a></p>\n</li>\n<li><p>点击按钮手动制造并上报错误</p>\n</li>\n<li><p>回到 <code>sentry</code> 管理界面，查看对应 <code>issue</code>，可以看到具体信息：哪个文件发生了错误，错误的行列数，错误行附近的源代码</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/008/sourcemap-error.jpg\" alt=\"sourcemap错误\"></p>\n</li>\n<li><p>删除 <code>sourcemap</code></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">sentry-cli releases files 0.0.1 delete --all<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">D ~&#x2F;static&#x2F;css&#x2F;main.6dea0f05.chunk.css.map\nD ~&#x2F;static&#x2F;js&#x2F;2.24e90ef4.chunk.js\nD ~&#x2F;static&#x2F;js&#x2F;2.24e90ef4.chunk.js.map\nD ~&#x2F;static&#x2F;js&#x2F;3.dcc4df3d.chunk.js\nD ~&#x2F;static&#x2F;js&#x2F;3.dcc4df3d.chunk.js.map\nD ~&#x2F;static&#x2F;js&#x2F;main.edf94630.chunk.js\nD ~&#x2F;static&#x2F;js&#x2F;main.edf94630.chunk.js.map\nD ~&#x2F;static&#x2F;js&#x2F;runtime-main.d690483e.js\nD ~&#x2F;static&#x2F;js&#x2F;runtime-main.d690483e.js.map<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"方式二、通过-webpack-插件上传-sourcemap\"><a href=\"#方式二、通过-webpack-插件上传-sourcemap\" class=\"headerlink\" title=\"方式二、通过 webpack 插件上传 sourcemap\"></a>方式二、通过 <code>webpack</code> 插件上传 <code>sourcemap</code></h3><p>第二种方式会在 <code>npm run build</code> 时自动上传 <code>sourcemap</code>，推荐使用这种方式</p>\n<p>1.安装 <code>@sentry/webpack-plugin</code></p>\n  <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">npm i -D @sentry&#x2F;webpack-plugin<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><a href=\"https://github.com/getsentry/sentry-webpack-plugin\">@sentry/webpack-plugin官方文档</a></li>\n</ul>\n<p>2.React配置 <code>webpack</code></p>\n<ul>\n<li><p><code>create-react-app</code> 修改 <code>webpack</code> 配置参考: <a href=\"https://github.com/timarney/react-app-rewired\">https://github.com/timarney/react-app-rewired</a></p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">// config-overrides.js</span>\n<span class=\"token keyword\">const</span> SentryCliPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@sentry/webpack-plugin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmodule<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token function\">override</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">config<span class=\"token punctuation\">,</span> env</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  config<span class=\"token punctuation\">.</span>devtool <span class=\"token operator\">=</span> <span class=\"token string\">'source-map'</span><span class=\"token punctuation\">;</span>\n  config<span class=\"token punctuation\">.</span>plugins<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">SentryCliPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n      release<span class=\"token operator\">:</span> <span class=\"token string\">'0.0.1'</span><span class=\"token punctuation\">,</span>\n      authToken<span class=\"token operator\">:</span> <span class=\"token string\">'xxxxxxxx'</span><span class=\"token punctuation\">,</span>\n      url<span class=\"token operator\">:</span> <span class=\"token string\">'http://127.0.0.1:9000'</span><span class=\"token punctuation\">,</span>\n      org<span class=\"token operator\">:</span> <span class=\"token string\">'sentry'</span><span class=\"token punctuation\">,</span>\n      project<span class=\"token operator\">:</span> <span class=\"token string\">'cra-test'</span><span class=\"token punctuation\">,</span>\n      urlPrefix<span class=\"token operator\">:</span> <span class=\"token string\">'~/'</span><span class=\"token punctuation\">,</span>\n      include<span class=\"token operator\">:</span> <span class=\"token string\">'./build'</span><span class=\"token punctuation\">,</span>\n      ignore<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'node_modules'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> config<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>配置中的 <code>release</code>、<code>authToken</code>、<code>url</code>、<code>org</code>、<code>project</code>、<code>urlPrefix</code>、<code>include</code> 定义同 <code>.sentryclirc</code></p>\n</li>\n<li><p><code>ignore</code>: 上传时要忽略的文件夹或文件类型</p>\n</li>\n</ul>\n<p>2.Vue配置 <code>webpack</code></p>\n<ul>\n<li><code>vue-cli3</code> 修改webpack配置</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">const SentryCliPlugin &#x3D; require(&#39;@sentry&#x2F;webpack-plugin&#39;);\nmodule.exports &#x3D; &#123;\n    configureWebpack: &#123;\n        devtool: &quot;source-map&quot;,\n        plugins: [\n            new SentryCliPlugin(&#123;\n                release: &#39;pro@1.0.3&#39;,\n                authToken: &#39;cd9d14fe889948bd84122d6c9603963c6ada0526777a441f9bd534d522249bd6&#39;,\n                url: &#39;http:&#x2F;&#x2F;192.168.0.105:9000&#39;,\n                org: &#39;test_organization&#39;,\n                project: &#39;hello-world&#39;,\n                urlPrefix: &#39;~&#x2F;&#39;,\n                include: &#39;.&#x2F;dist&#39;,\n                ignore: [&#39;node_modules&#39;],\n            &#125;)\n        ],\n    &#125;,\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>3.<code>npm run build</code> 编译，会产生一下信息：</p>\n  <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">Creating an optimized production build...\n&gt; Found 9 release files\n&gt; Analyzing 9 sources\n&gt; Analyzing completed in 0.065s\n&gt; Rewriting sources\n&gt; Rewriting completed in 0.039s\n&gt; Adding source map references\n&gt; Bundling files for upload... ~&#x2F;static&#x2F;js&#x2F;2.24e90ef4.chunk.js.map\n&gt; Bundling completed in 0.072s\n&gt; Optimizing completed in 0.001s\n&gt; Uploading completed in 0.146s\n&gt; Uploaded release files to Sentry\n&gt; Processing completed in 0.069s\n&gt; File upload complete (processing pending on server)\n&gt; Organization: sentry\n&gt; Project: cra-test\n&gt; Release: 0.0.1\n&gt; Dist: None\n\nSource Map Upload Report\n  Minified Scripts\n    ~&#x2F;static&#x2F;js&#x2F;2.24e90ef4.chunk.js (sourcemap at 2.24e90ef4.chunk.js.map)\n    ~&#x2F;static&#x2F;js&#x2F;3.dcc4df3d.chunk.js (sourcemap at 3.dcc4df3d.chunk.js.map)\n    ~&#x2F;static&#x2F;js&#x2F;main.edf94630.chunk.js (sourcemap at main.edf94630.chunk.js.map)\n    ~&#x2F;static&#x2F;js&#x2F;runtime-main.d690483e.js (sourcemap at runtime-main.d690483e.js.map)\n  Source Maps\n    ~&#x2F;static&#x2F;css&#x2F;main.6dea0f05.chunk.css.map\n    ~&#x2F;static&#x2F;js&#x2F;2.24e90ef4.chunk.js.map\n    ~&#x2F;static&#x2F;js&#x2F;3.dcc4df3d.chunk.js.map\n    ~&#x2F;static&#x2F;js&#x2F;main.edf94630.chunk.js.map\n    ~&#x2F;static&#x2F;js&#x2F;runtime-main.d690483e.js.map<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>4.回到 <code>sentry</code> 管理界面 <code>Archive</code>，可以看到 <code>sourcemap</code> 文件已经上传到 <code>sentry</code> 服务中</p>\n<p>5.在上传完以后，需要删除 <code>sourcemap</code> 文件，不要把它们部署到线上去了</p>\n  <pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;&#x2F; package.json\n&#123;\n  &quot;scripts&quot;: &#123;\n    &quot;build&quot;: &quot;react-app-rewired build &amp;&amp; rm -rf dist&#x2F;*.map&quot;,\n  &#125;,\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<h4 id=\"Sentry-实战\"><a href=\"#Sentry-实战\" class=\"headerlink\" title=\"Sentry 实战\"></a>Sentry 实战</h4><h2 id=\"上传-sourcemap\"><a href=\"#上传-sourcemap\" class=\"headerlink\" title=\"上传 sourcemap\"></a>上传 <code>sourcemap</code></h2><p>目前为止，我们在 <code>sentry</code> 管理界面中看到的错误堆栈信息，是压缩后的代码。为了看到更详细的源文件信息，我们可以上传 <code>sourcemap</code> 文件到sentry来解决。</p>\n<p>可以通过两种方式上传：</p>\n<ul>\n<li><code>sentry-cli</code> 命令行工具</li>\n<li><code>webpack</code> 插件</li>\n</ul>\n<p>第一种方式是在自己开发电脑上手动上传，<br>推荐使用第二种，可以集成到部署环节中自动上传。</p>\n<h3 id=\"方式一：通过-sentry-cli-命令行工具上传-sourcemap\"><a href=\"#方式一：通过-sentry-cli-命令行工具上传-sourcemap\" class=\"headerlink\" title=\"方式一：通过 sentry-cli 命令行工具上传 sourcemap\"></a>方式一：通过 <code>sentry-cli</code> 命令行工具上传 <code>sourcemap</code></h3><ul>\n<li><a href=\"https://docs.sentry.io/product/cli/\">sentry-cli官方文档</a></li>\n</ul>\n<p>1.在开发电脑安装<code>@sentry/cli</code></p>\n  <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">npm install -g --unsafe-perm&#x3D;true --allow-root @sentry&#x2F;cli\nsentry-cli -h<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>2.配置 <code>sentry-cli</code></p>\n<p>  在上传之前，我们需要配置一下 <code>sentry-cli</code>，主要配置以下几个信息：</p>\n<ol>\n<li><code>url</code>: 要上传的 <code>sentry</code> 服务的地址，即我们通过 <code>docker</code> 启动的服务的地址</li>\n<li><code>org</code>: 组织名称，可以在 <code>sentry</code> 管理界面的 <code>Settings</code> 中设置组织</li>\n<li><code>project</code>: <code>sentry</code> 项目名，可以在 <code>sentry管理界面</code> 的<code>Projects</code>中查看、创建、设置项目</li>\n<li><code>token</code>: <code>sentry</code> 服务准入 <code>sentry-cli</code> 上传的鉴权 <code>token</code>，可以在 <code>sentry管理界面</code> 的 <code>Settings -&gt; Account -&gt; API -&gt; Auth Tokens</code> 中创建和删除</li>\n</ol>\n<p>3.执行一下命令创建 <code>sentry-cli</code> 配置文件</p>\n  <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">sentry-cli --url http:&#x2F;&#x2F;127.0.0.1:9000 login<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>4.命令行中弹出选择</p>\n  <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">This helps you signing in your sentry-cli with an authentication token.\nIf you do not yet have a token ready we can bring up a browser for you\nto create a token now.\n\nSentry server: 10.10.8.46\nOpen browser now? [y&#x2F;n] y<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li><p>选择<code>n</code>，则提示输入 <code>token</code>，<code>token</code> 可以在 <code>sentry管理界面</code> 的 <code>Settings -&gt; Account -&gt; API -&gt; Auth Tokens</code> 中创建，然后粘贴到命令行</p>\n</li>\n<li><p>选择<code>y</code>，则会自动打开浏览器到 <code>sentry管理界面</code> 的 <code>Settings -&gt; Account -&gt; API -&gt; Auth Tokens</code>，创建或直接复制 <code>token</code> 来粘贴</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/008/auth-tokens.jpg\" alt=\"Auth Tokens\"></p>\n</li>\n</ul>\n<p>5.命令执行完成后，会生成文件 <code>~/.sentryclirc</code></p>\n  <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">vim ~&#x2F;.sentryclirc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n  <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"># ~&#x2F;.sentryclirc\n[auth]\ntoken&#x3D;3e5e95abce3541bxxxxxxxxxxxxxxxxxxxx\n\n[defaults]\nurl&#x3D;http:&#x2F;&#x2F;127.0.0.1:9000\norg&#x3D;sentry\nproject&#x3D;cra-test<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>这个文件也可以直接写在前端项目根目录中，<code>sentry-cli</code> 命令会优先读取当前目录下的 <code>.sentryclirc</code> 文件，如果没有这个文件，才会读取 <code>~/.sentryclirc</code></li>\n</ul>\n<p>6.手动上传 <code>sourcemap</code></p>\n<ul>\n<li><p>编译前端项目，生成 <code>build</code> 目录，其中包含 <code>sourcemap</code> 文件</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">npm run build<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p>在上传之前，我们先看下 <code>sentry</code> 管理界面 <code>Settings -&gt; sentry -&gt; Projects -&gt; cra-test -&gt; Source Maps -&gt; Archive</code>，会发现列表中有一个 <code>0.0.1</code> 版本，这个版本是我们在前端项目里通过 <code>sentry.init</code> 的 <code>release</code> 配置的，只要前端上传过报错信息，就会在管理界面生成这个版本。目前列表中应该没有任何文件。</p>\n</li>\n<li><p>上传命令，会把本地的 <code>./build</code> 文件夹下的 <code>sourcemap</code> 文件，上传到 <code>sentry</code> 服务，并且指定上传到 <code>Archive</code> 为 <code>0.0.1</code> 版本中：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">sentry-cli releases files 0.0.1 upload-sourcemaps --url-prefix &#39;~&#x2F;&#39; &#39;.&#x2F;build&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>其中 <code>--url-prefix</code> 是指 <code>sentry</code> 读取 <code>sourcemap</code> 文件服务的路径，如果项目没有部署在域名根目录，则需要调整这个参数</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"># 执行结果\n&gt; Found 9 release files\n&gt; Analyzing 9 sources\n&gt; Analyzing completed in 0.051s\n&gt; Rewriting sources\n&gt; Rewriting completed in 0.027s\n&gt; Adding source map references\n&gt; Bundling files for upload... \n&gt; Bundling completed in 0.059s\n&gt; Optimizing completed in 0.002s\n&gt; Uploading completed in 0.194s\n&gt; Uploaded release files to Sentry\n&gt; Processing completed in 0.1s\n&gt; File upload complete (processing pending on server)\n\nSource Map Upload Report\n  Minified Scripts\n    ~&#x2F;static&#x2F;js&#x2F;2.24e90ef4.chunk.js (sourcemap at 2.24e90ef4.chunk.js.map)\n    ~&#x2F;static&#x2F;js&#x2F;3.dcc4df3d.chunk.js (sourcemap at 3.dcc4df3d.chunk.js.map)\n    ~&#x2F;static&#x2F;js&#x2F;main.edf94630.chunk.js (sourcemap at main.edf94630.chunk.js.map)\n    ~&#x2F;static&#x2F;js&#x2F;runtime-main.d690483e.js (sourcemap at runtime-main.d690483e.js.map)\n  Source Maps\n    ~&#x2F;static&#x2F;css&#x2F;main.6dea0f05.chunk.css.map\n    ~&#x2F;static&#x2F;js&#x2F;2.24e90ef4.chunk.js.map\n    ~&#x2F;static&#x2F;js&#x2F;3.dcc4df3d.chunk.js.map\n    ~&#x2F;static&#x2F;js&#x2F;main.edf94630.chunk.js.map\n    ~&#x2F;static&#x2F;js&#x2F;runtime-main.d690483e.js.map<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>回到 <code>sentry</code> 管理界面 <code>Archive</code>，可以看到 <code>sourcemap</code> 文件已经上传</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/008/sourcemap.jpg\" alt=\"sourcemap\"></p>\n</li>\n</ul>\n<p>7.查看效果</p>\n<ul>\n<li><p>通过<code>http-server</code>启动前端服务</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">cd build\nhttp-server<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><p>访问 <a href=\"http://127.0.0.1:8080/\">http://127.0.0.1:8080</a></p>\n</li>\n<li><p>点击按钮手动制造并上报错误</p>\n</li>\n<li><p>回到 <code>sentry</code> 管理界面，查看对应 <code>issue</code>，可以看到具体信息：哪个文件发生了错误，错误的行列数，错误行附近的源代码</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/008/sourcemap-error.jpg\" alt=\"sourcemap错误\"></p>\n</li>\n<li><p>删除 <code>sourcemap</code></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">sentry-cli releases files 0.0.1 delete --all<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">D ~&#x2F;static&#x2F;css&#x2F;main.6dea0f05.chunk.css.map\nD ~&#x2F;static&#x2F;js&#x2F;2.24e90ef4.chunk.js\nD ~&#x2F;static&#x2F;js&#x2F;2.24e90ef4.chunk.js.map\nD ~&#x2F;static&#x2F;js&#x2F;3.dcc4df3d.chunk.js\nD ~&#x2F;static&#x2F;js&#x2F;3.dcc4df3d.chunk.js.map\nD ~&#x2F;static&#x2F;js&#x2F;main.edf94630.chunk.js\nD ~&#x2F;static&#x2F;js&#x2F;main.edf94630.chunk.js.map\nD ~&#x2F;static&#x2F;js&#x2F;runtime-main.d690483e.js\nD ~&#x2F;static&#x2F;js&#x2F;runtime-main.d690483e.js.map<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"方式二、通过-webpack-插件上传-sourcemap\"><a href=\"#方式二、通过-webpack-插件上传-sourcemap\" class=\"headerlink\" title=\"方式二、通过 webpack 插件上传 sourcemap\"></a>方式二、通过 <code>webpack</code> 插件上传 <code>sourcemap</code></h3><p>第二种方式会在 <code>npm run build</code> 时自动上传 <code>sourcemap</code>，推荐使用这种方式</p>\n<p>1.安装 <code>@sentry/webpack-plugin</code></p>\n  <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">npm i -D @sentry&#x2F;webpack-plugin<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><a href=\"https://github.com/getsentry/sentry-webpack-plugin\">@sentry/webpack-plugin官方文档</a></li>\n</ul>\n<p>2.React配置 <code>webpack</code></p>\n<ul>\n<li><p><code>create-react-app</code> 修改 <code>webpack</code> 配置参考: <a href=\"https://github.com/timarney/react-app-rewired\">https://github.com/timarney/react-app-rewired</a></p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">// config-overrides.js</span>\n<span class=\"token keyword\">const</span> SentryCliPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@sentry/webpack-plugin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmodule<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token function\">override</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">config<span class=\"token punctuation\">,</span> env</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  config<span class=\"token punctuation\">.</span>devtool <span class=\"token operator\">=</span> <span class=\"token string\">'source-map'</span><span class=\"token punctuation\">;</span>\n  config<span class=\"token punctuation\">.</span>plugins<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">SentryCliPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n      release<span class=\"token operator\">:</span> <span class=\"token string\">'0.0.1'</span><span class=\"token punctuation\">,</span>\n      authToken<span class=\"token operator\">:</span> <span class=\"token string\">'xxxxxxxx'</span><span class=\"token punctuation\">,</span>\n      url<span class=\"token operator\">:</span> <span class=\"token string\">'http://127.0.0.1:9000'</span><span class=\"token punctuation\">,</span>\n      org<span class=\"token operator\">:</span> <span class=\"token string\">'sentry'</span><span class=\"token punctuation\">,</span>\n      project<span class=\"token operator\">:</span> <span class=\"token string\">'cra-test'</span><span class=\"token punctuation\">,</span>\n      urlPrefix<span class=\"token operator\">:</span> <span class=\"token string\">'~/'</span><span class=\"token punctuation\">,</span>\n      include<span class=\"token operator\">:</span> <span class=\"token string\">'./build'</span><span class=\"token punctuation\">,</span>\n      ignore<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'node_modules'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> config<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>配置中的 <code>release</code>、<code>authToken</code>、<code>url</code>、<code>org</code>、<code>project</code>、<code>urlPrefix</code>、<code>include</code> 定义同 <code>.sentryclirc</code></p>\n</li>\n<li><p><code>ignore</code>: 上传时要忽略的文件夹或文件类型</p>\n</li>\n</ul>\n<p>2.Vue配置 <code>webpack</code></p>\n<ul>\n<li><code>vue-cli3</code> 修改webpack配置</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">const SentryCliPlugin &#x3D; require(&#39;@sentry&#x2F;webpack-plugin&#39;);\nmodule.exports &#x3D; &#123;\n    configureWebpack: &#123;\n        devtool: &quot;source-map&quot;,\n        plugins: [\n            new SentryCliPlugin(&#123;\n                release: &#39;pro@1.0.3&#39;,\n                authToken: &#39;cd9d14fe889948bd84122d6c9603963c6ada0526777a441f9bd534d522249bd6&#39;,\n                url: &#39;http:&#x2F;&#x2F;192.168.0.105:9000&#39;,\n                org: &#39;test_organization&#39;,\n                project: &#39;hello-world&#39;,\n                urlPrefix: &#39;~&#x2F;&#39;,\n                include: &#39;.&#x2F;dist&#39;,\n                ignore: [&#39;node_modules&#39;],\n            &#125;)\n        ],\n    &#125;,\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>3.<code>npm run build</code> 编译，会产生一下信息：</p>\n  <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">Creating an optimized production build...\n&gt; Found 9 release files\n&gt; Analyzing 9 sources\n&gt; Analyzing completed in 0.065s\n&gt; Rewriting sources\n&gt; Rewriting completed in 0.039s\n&gt; Adding source map references\n&gt; Bundling files for upload... ~&#x2F;static&#x2F;js&#x2F;2.24e90ef4.chunk.js.map\n&gt; Bundling completed in 0.072s\n&gt; Optimizing completed in 0.001s\n&gt; Uploading completed in 0.146s\n&gt; Uploaded release files to Sentry\n&gt; Processing completed in 0.069s\n&gt; File upload complete (processing pending on server)\n&gt; Organization: sentry\n&gt; Project: cra-test\n&gt; Release: 0.0.1\n&gt; Dist: None\n\nSource Map Upload Report\n  Minified Scripts\n    ~&#x2F;static&#x2F;js&#x2F;2.24e90ef4.chunk.js (sourcemap at 2.24e90ef4.chunk.js.map)\n    ~&#x2F;static&#x2F;js&#x2F;3.dcc4df3d.chunk.js (sourcemap at 3.dcc4df3d.chunk.js.map)\n    ~&#x2F;static&#x2F;js&#x2F;main.edf94630.chunk.js (sourcemap at main.edf94630.chunk.js.map)\n    ~&#x2F;static&#x2F;js&#x2F;runtime-main.d690483e.js (sourcemap at runtime-main.d690483e.js.map)\n  Source Maps\n    ~&#x2F;static&#x2F;css&#x2F;main.6dea0f05.chunk.css.map\n    ~&#x2F;static&#x2F;js&#x2F;2.24e90ef4.chunk.js.map\n    ~&#x2F;static&#x2F;js&#x2F;3.dcc4df3d.chunk.js.map\n    ~&#x2F;static&#x2F;js&#x2F;main.edf94630.chunk.js.map\n    ~&#x2F;static&#x2F;js&#x2F;runtime-main.d690483e.js.map<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>4.回到 <code>sentry</code> 管理界面 <code>Archive</code>，可以看到 <code>sourcemap</code> 文件已经上传到 <code>sentry</code> 服务中</p>\n<p>5.在上传完以后，需要删除 <code>sourcemap</code> 文件，不要把它们部署到线上去了</p>\n  <pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;&#x2F; package.json\n&#123;\n  &quot;scripts&quot;: &#123;\n    &quot;build&quot;: &quot;react-app-rewired build &amp;&amp; rm -rf dist&#x2F;*.map&quot;,\n  &#125;,\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Sentry监控部署009-面包屑追踪事件和Performance追踪性能","date":"2021-11-20T04:25:55.000Z","_content":"# Sentry 实战\n\n## 面包屑 Breadcrumbs\n\n在错误详情页中，有 `Breadcrumbs` 信息，它非常有用，可以追踪错误发生之前的一些事件，例如点击、页面导航等。\n\n- `Breadcrumbs` 是一连串的事件跟踪，展示了发生问题之前的一系列操作。这些事件与传统日志非常相似，但可以记录更丰富的结构化数据。[Breadcrumbs 官方文档](https://docs.sentry.io/platforms/javascript/enriching-events/breadcrumbs/)\n\n- 我们在 `Sentry` 管理界面，点击开之前的一个 `issue` 详情，可以看到 `Breadcrumbs` 相关信息：\n\n  ![Breadcrumbs](https://lixuelang.com/test/Sentry/pic/009/breadcrumbs.jpg)\n\n- 最后一行记录了发生的错误，而在此之前的前面两行记录了在这个错误发生之前的一些操作：先发生了一次**页面加载**的**事务**，接着在点击了 `body > div#root > button` 的UI。\n\n- 面包屑可以通过两种方式生成：\n\n  1. 自动生成: 通过 `SDK` 及其相关的集成将自动记录多种类型的面包屑。例如，浏览器 `JavaScript SDK` 将自动记录 `DOM` 元素上的点击和按键、`XHR` 请求、控制台 `API` 调用以及所有导航变更。\n  2. 手动生成: [官方文档](https://getsentry.github.io/sentry-javascript/modules/minimal.html#addbreadcrumb)\n\n    ```js\n    Sentry.addBreadcrumb({\n      category: \"auth\",\n      message: \"Authenticated user \" + user.email,\n      level: Sentry.Severity.Info,\n    });\n    ```\n\n## `Traces`, `Transactions` 和 `Spans`\n\n- 上面 `Breadcrumbs` 中第一行，被称为 `Transaction` ，我们先点击开这个连接，进入这个 `Transaction` 详情页\n\n- 可以看到原来这是一个页面加载的过程的记录\n\n  ![pageload](https://lixuelang.com/test/Sentry/pic/009/pageload.jpg)\n\n- 这个页面加载的整个过程，被称为一个`Transaction`\n\n- 这个`Transaction`是一个树状结构，根节点是`pageload`，表示页面加载，根节点下有浏览器的缓存读取、DNS解析、请求、响应、卸载事件、dom内容加载事件等过程，还有各种资源加载过程\n\n- 点击开任意一个节点，可以看到：\n\n  - 每个节点都有一个`id`: `Span ID`\n  - `Trace ID`: 追踪Id\n  - 这个节点过程花费的时间等信息\n\n- `Sentry` 把这些树状结构的节点称为 `Span`，他们归属于某一个 `Transaction`\n\n- 一般来讲，页面加载是一个 `Transaction`，后端API接口逻辑是一个 `Transaction`，操作数据库逻辑是一个 `Transaction`，它们共同组成了一个 `Trace`\n\n![transaction-example](https://lixuelang.com/test/Sentry/pic/009/diagram-transaction-trace.jpg)\n![transaction-example](https://lixuelang.com/test/Sentry/pic/009/diagram-transaction-spans.jpg)\n![transaction-example](https://lixuelang.com/test/Sentry/pic/009/diagram-transaction-example.jpg)\n\n- [相关官方文档](https://docs.sentry.io/product/sentry-basics/tracing/distributed-tracing/)\n\n## 页面加载\n\n### 页面加载与性能指标\n\n- 在上面的分析中，我们看到了一个页面加载（指刷新页面，不是单页面应用的路由变化）的 `Transaction`，如果我们在 `SDK` 的`Sentry.init()`中，将 `new Integrations.BrowserTracing()` 去掉，那么 `Breadcrumbs` 不会显示 `pageload` 信息：\n\n  ![breadcrumbs-no-performance](https://lixuelang.com/test/Sentry/pic/009/breadcrumbs-no-performance.jpg)\n\n- 所以 `SDK` 的 `BrowserTracing` 功能，就是用来将浏览器页面加载/导航操作检测为事务，并捕获请求、指标和错误作为跨度。\n\n- 在页面加载的 `Transaction` 中，我们可以看到页面加过程中不同阶段的所花费的时间，例如 `FCP`、`FP`、`LCP`、`FID`等重要的性能指标信息\n\n- 同一个 `url` 下会收集每一次上报的页面加载 `Transaction`\n\n- 在 `Sentry管理界面 -> Performance菜单` 页中，可以查看每个 `url` 下收集的综合性能指标信息\n\n  ![performance1](https://lixuelang.com/test/Sentry/pic/009/performance1.jpg)\n\n  - `TPM`: 平均每分钟事务数\n  - `FCP`: (First Contentful Paint) 首次内容绘制，标记浏览器渲染来自 DOM 第一位内容的时间点，该内容可能是文本、图像、SVG 甚至 元素.\n  - `LCP`: (Largest Contentful Paint) 最大内容渲染，代表在viewport中最大的页面元素加载的时间. LCP的数据会通过PerformanceEntry对象记录, 每次出现更大的内容渲染, 则会产生一个新的PerformanceEntry对象\n  - `FID`: (First Input Delay) 首次输入延迟，指标衡量的是从用户首次与您的网站进行交互（即当他们单击链接，点击按钮等）到浏览器实际能够访问之间的时间\n  - `CLS`: (Cumulative Layout Shift) 累积布局偏移，总结起来就是一个元素初始时和其hidden之间的任何时间如果元素偏移了, 则会被计算进去, 具体的计算方法可看这篇文章 [https://web.dev/cls/](https://web.dev/cls/)\n  - `FP`: First Paint (FP) 首次绘制，测量第一个像素出现在视口中所花费的时间，呈现与先前显示内容相比的任何视觉变化。这可以是来自文档对象模型 (DOM) 的任何形式，例如 background color 、canvas 或 image。FP 可帮助开发人员了解渲染页面是否发生了任何意外。\n  - `TTFB`: Time To First Byte (TTFB) 首字节时间，测量用户浏览器接收页面内容的第一个字节所需的时间。TTFB 帮助开发人员了解他们的缓慢是由初始响应(initial response)引起的还是由于渲染阻塞内容(render-blocking content)引起的\n  - `USERS`: UV数\n  - `USER MISERY`: 对响应时间难以容忍度的用户数，`User Misery` 是一个用户加权的性能指标，用于评估应用程序性能的相对大小。虽然可以使用 `Apdex` 检查各种响应时间阈值级别的比率，但 User Misery 会根据满意响应时间阈值 (ms) 的四倍计算感到失望的唯一用户数。User Misery 突出显示对用户影响最大的事务。可以使用自定义阈值为每个项目设置令人满意的阈值。阈值设置在`Settings -> sentry -> cra-test -> Performance`\n\n- [参考1](https://blog.csdn.net/c_kite/article/details/104237256)\n- [参考2](https://cloud.tencent.com/developer/article/1878538?from=article.detail.1878539)\n- [参考3](https://docs.sentry.io/product/performance/web-vitals/)\n\n### `Performance` 面板\n\n![Performance面板卡片1](https://lixuelang.com/test/Sentry/pic/009/performance-card1.jpg)\n\n在 `Performance` 面板中，可以根据一些条件查询某一批 `Transaction`\b的：\n\n#### 1. `FCP`、`LCP`、`FID`、`CLS`等信息\n\n- 图片中筛选出了27个 `transaction`\n\n  ![performance-card2](https://lixuelang.com/test/Sentry/pic/009/performance-card2.jpg)\n\n- `FCP`、`LCP`、`FID`、`CLS`卡片中展示了27个 `transaction` 的平均值\n\n  ![performance-card2](https://lixuelang.com/test/Sentry/pic/009/performance-card3.jpg)\n\n- 每个卡片上还有绿色、黄色、红色的百分比，分别表示好、一般和差，通过该性能指标的阈值作区分\n\n  ![performance-card2](https://lixuelang.com/test/Sentry/pic/009/performance-card4.jpg)\n\n  - `sentry` 性能指标阈值定义\n\n    | Web Vital | Good(绿色) | Meh(黄色) | Poor(红色) |\n    | -- | -- | -- | -- |\n    | 最大内容绘制 (LCP) | <= 2.5s | <= 4s | > 4s |\n    | 首次输入延迟 (FID) | <= 100ms | <= 300ms | > 300ms |\n    | 累积布局偏移 (CLS) | <= 0.11s | <= 0.25 | > 0.25 |\n    | 首次绘制 (FP)      | <= 1s | <= 3s | > 3s |\n    | 最大内容绘制 (LCP) | <= 0.1s | <= 3s | > 3s |\n    | 首字节时间 (TTFB)  | <= 100ms | <= 200ms | > 600ms |\n\n  - [官方文档](https://docs.sentry.io/product/performance/web-vitals/)\n\n#### 2. `LCP p75面积图`、`LCP Distribution数量柱状图`、`TPM面积图`\n\n- `LCP p75面积图`: `p50`、`p75`、`p95`都对应一个时间长度的值(例如 `277.20ms`)，表示在某一段时间内(例如`2021-10-19 2:35 PM` 到 `2021-10-19 2:40 PM`)，采集的所有`transaction`中(例如采集到了11个 `transaction`)，超过`25%`的 `transaction` 样本的`LCP`值超过了`277.20ms`。[官方文档](https://docs.sentry.io/product/performance/metrics/)\n\n  ![Performance面板卡片1](https://lixuelang.com/test/Sentry/pic/009/p75.jpg)\n\n- `LCP Distribution数量柱状图`: 横坐标是LCP时间(单位s)，纵坐标是数量(单位个)。一个柱子，表示某个LCP时间的 `transaction` 数量\n\n  ![LCP-distribution](https://lixuelang.com/test/Sentry/pic/009/LCP-distribution.jpg)\n\n- `TPM面积图`: 平均每分钟的 `transaction` 数量。例如，在 `4:00 PM` 到 `8:00 PM`时间段内，平均每分钟的 `transaction` 数量是0.213个\n\n  ![tpm](https://lixuelang.com/test/Sentry/pic/009/tpm.jpg)\n\n#### 3. 某个url路径下的性能信息表格\n\n我们应该已经可以读懂表格中的信息的含义了，接下来点开某个url维度下的详情页，还需要介绍两个指标 `Apdex` 和 `Failure Rate`\n\n  ![apdex](https://lixuelang.com/test/Sentry/pic/009/apdex.jpg)\n\n##### Apdex\n  \n`Apdex` 是一种行业标准指标，用于根据应用程序响应时间(`response time`)跟踪和衡量用户满意度(`satisfaction`)`。Apdex` 分数提供特定 `transaction` 或端点中满意(`satisfactory`)、可容忍(`tolerable`)和失败(`frustrated`)请求的比率。该指标提供了一个标准来比较 `transaction` 性能，了解哪些可能需要额外优化或排查，并为性能设定目标。[官方文档](https://docs.sentry.io/product/performance/metrics/#apdex)\n\n- 以下是 Apdex 的组成部分及其公式：\n\n  - `T`：目标响应时间的阈值。\n  - `Satisfactory(满意度)`：当页面加载时间小于或等于 T 时，用户对使用该应用感到满意。\n  - `Tolerable(可容忍度)`：当页面加载时间在 T 到 4T 之间时，用户认为该应用程序可以容忍使用。\n  - `Frustrated(失败)`：当用户的页面加载时间大于 4T 时，他们对应用程序感到失望。\n  - `Apdex`：(满意请求数 +（可容忍请求数/2））/（总请求数）\n\n- 在 `sentry管理界面 -> Performance` 页面中可以为每个项目设置自定义阈值\n\n##### Failure Rate 失败率\n\n`failure_rate()` 表示不成功 `transaction` 的百分比。`Sentry` 将状态为 `“ok”`、`“canceled”` 和 `“unknown”` 以外的 `transaction` 视为失败。更多状态可以参考 [文档](https://develop.sentry.dev/sdk/event-payloads/span/)。\n\n#### 4. 如何现在就产生Good(绿色)、Meh(黄色)、Poor(红色)的数据\n\n很简单，在`Chrome dev tools`的`Network`中，将模拟网速调整为`fast 3G`、`slow 3G`，然后刷新几次页面即可。\n","source":"_posts/Sentry监控部署009-面包屑追踪事件和Performance追踪性能.md","raw":"---\ntitle: Sentry监控部署009-面包屑追踪事件和Performance追踪性能\ndate: 2021-11-20 12:25:55\ncategories:  \n- [linux, Sentry]  \ntags:  \n- linux\n- Sentry\n---\n# Sentry 实战\n\n## 面包屑 Breadcrumbs\n\n在错误详情页中，有 `Breadcrumbs` 信息，它非常有用，可以追踪错误发生之前的一些事件，例如点击、页面导航等。\n\n- `Breadcrumbs` 是一连串的事件跟踪，展示了发生问题之前的一系列操作。这些事件与传统日志非常相似，但可以记录更丰富的结构化数据。[Breadcrumbs 官方文档](https://docs.sentry.io/platforms/javascript/enriching-events/breadcrumbs/)\n\n- 我们在 `Sentry` 管理界面，点击开之前的一个 `issue` 详情，可以看到 `Breadcrumbs` 相关信息：\n\n  ![Breadcrumbs](https://lixuelang.com/test/Sentry/pic/009/breadcrumbs.jpg)\n\n- 最后一行记录了发生的错误，而在此之前的前面两行记录了在这个错误发生之前的一些操作：先发生了一次**页面加载**的**事务**，接着在点击了 `body > div#root > button` 的UI。\n\n- 面包屑可以通过两种方式生成：\n\n  1. 自动生成: 通过 `SDK` 及其相关的集成将自动记录多种类型的面包屑。例如，浏览器 `JavaScript SDK` 将自动记录 `DOM` 元素上的点击和按键、`XHR` 请求、控制台 `API` 调用以及所有导航变更。\n  2. 手动生成: [官方文档](https://getsentry.github.io/sentry-javascript/modules/minimal.html#addbreadcrumb)\n\n    ```js\n    Sentry.addBreadcrumb({\n      category: \"auth\",\n      message: \"Authenticated user \" + user.email,\n      level: Sentry.Severity.Info,\n    });\n    ```\n\n## `Traces`, `Transactions` 和 `Spans`\n\n- 上面 `Breadcrumbs` 中第一行，被称为 `Transaction` ，我们先点击开这个连接，进入这个 `Transaction` 详情页\n\n- 可以看到原来这是一个页面加载的过程的记录\n\n  ![pageload](https://lixuelang.com/test/Sentry/pic/009/pageload.jpg)\n\n- 这个页面加载的整个过程，被称为一个`Transaction`\n\n- 这个`Transaction`是一个树状结构，根节点是`pageload`，表示页面加载，根节点下有浏览器的缓存读取、DNS解析、请求、响应、卸载事件、dom内容加载事件等过程，还有各种资源加载过程\n\n- 点击开任意一个节点，可以看到：\n\n  - 每个节点都有一个`id`: `Span ID`\n  - `Trace ID`: 追踪Id\n  - 这个节点过程花费的时间等信息\n\n- `Sentry` 把这些树状结构的节点称为 `Span`，他们归属于某一个 `Transaction`\n\n- 一般来讲，页面加载是一个 `Transaction`，后端API接口逻辑是一个 `Transaction`，操作数据库逻辑是一个 `Transaction`，它们共同组成了一个 `Trace`\n\n![transaction-example](https://lixuelang.com/test/Sentry/pic/009/diagram-transaction-trace.jpg)\n![transaction-example](https://lixuelang.com/test/Sentry/pic/009/diagram-transaction-spans.jpg)\n![transaction-example](https://lixuelang.com/test/Sentry/pic/009/diagram-transaction-example.jpg)\n\n- [相关官方文档](https://docs.sentry.io/product/sentry-basics/tracing/distributed-tracing/)\n\n## 页面加载\n\n### 页面加载与性能指标\n\n- 在上面的分析中，我们看到了一个页面加载（指刷新页面，不是单页面应用的路由变化）的 `Transaction`，如果我们在 `SDK` 的`Sentry.init()`中，将 `new Integrations.BrowserTracing()` 去掉，那么 `Breadcrumbs` 不会显示 `pageload` 信息：\n\n  ![breadcrumbs-no-performance](https://lixuelang.com/test/Sentry/pic/009/breadcrumbs-no-performance.jpg)\n\n- 所以 `SDK` 的 `BrowserTracing` 功能，就是用来将浏览器页面加载/导航操作检测为事务，并捕获请求、指标和错误作为跨度。\n\n- 在页面加载的 `Transaction` 中，我们可以看到页面加过程中不同阶段的所花费的时间，例如 `FCP`、`FP`、`LCP`、`FID`等重要的性能指标信息\n\n- 同一个 `url` 下会收集每一次上报的页面加载 `Transaction`\n\n- 在 `Sentry管理界面 -> Performance菜单` 页中，可以查看每个 `url` 下收集的综合性能指标信息\n\n  ![performance1](https://lixuelang.com/test/Sentry/pic/009/performance1.jpg)\n\n  - `TPM`: 平均每分钟事务数\n  - `FCP`: (First Contentful Paint) 首次内容绘制，标记浏览器渲染来自 DOM 第一位内容的时间点，该内容可能是文本、图像、SVG 甚至 元素.\n  - `LCP`: (Largest Contentful Paint) 最大内容渲染，代表在viewport中最大的页面元素加载的时间. LCP的数据会通过PerformanceEntry对象记录, 每次出现更大的内容渲染, 则会产生一个新的PerformanceEntry对象\n  - `FID`: (First Input Delay) 首次输入延迟，指标衡量的是从用户首次与您的网站进行交互（即当他们单击链接，点击按钮等）到浏览器实际能够访问之间的时间\n  - `CLS`: (Cumulative Layout Shift) 累积布局偏移，总结起来就是一个元素初始时和其hidden之间的任何时间如果元素偏移了, 则会被计算进去, 具体的计算方法可看这篇文章 [https://web.dev/cls/](https://web.dev/cls/)\n  - `FP`: First Paint (FP) 首次绘制，测量第一个像素出现在视口中所花费的时间，呈现与先前显示内容相比的任何视觉变化。这可以是来自文档对象模型 (DOM) 的任何形式，例如 background color 、canvas 或 image。FP 可帮助开发人员了解渲染页面是否发生了任何意外。\n  - `TTFB`: Time To First Byte (TTFB) 首字节时间，测量用户浏览器接收页面内容的第一个字节所需的时间。TTFB 帮助开发人员了解他们的缓慢是由初始响应(initial response)引起的还是由于渲染阻塞内容(render-blocking content)引起的\n  - `USERS`: UV数\n  - `USER MISERY`: 对响应时间难以容忍度的用户数，`User Misery` 是一个用户加权的性能指标，用于评估应用程序性能的相对大小。虽然可以使用 `Apdex` 检查各种响应时间阈值级别的比率，但 User Misery 会根据满意响应时间阈值 (ms) 的四倍计算感到失望的唯一用户数。User Misery 突出显示对用户影响最大的事务。可以使用自定义阈值为每个项目设置令人满意的阈值。阈值设置在`Settings -> sentry -> cra-test -> Performance`\n\n- [参考1](https://blog.csdn.net/c_kite/article/details/104237256)\n- [参考2](https://cloud.tencent.com/developer/article/1878538?from=article.detail.1878539)\n- [参考3](https://docs.sentry.io/product/performance/web-vitals/)\n\n### `Performance` 面板\n\n![Performance面板卡片1](https://lixuelang.com/test/Sentry/pic/009/performance-card1.jpg)\n\n在 `Performance` 面板中，可以根据一些条件查询某一批 `Transaction`\b的：\n\n#### 1. `FCP`、`LCP`、`FID`、`CLS`等信息\n\n- 图片中筛选出了27个 `transaction`\n\n  ![performance-card2](https://lixuelang.com/test/Sentry/pic/009/performance-card2.jpg)\n\n- `FCP`、`LCP`、`FID`、`CLS`卡片中展示了27个 `transaction` 的平均值\n\n  ![performance-card2](https://lixuelang.com/test/Sentry/pic/009/performance-card3.jpg)\n\n- 每个卡片上还有绿色、黄色、红色的百分比，分别表示好、一般和差，通过该性能指标的阈值作区分\n\n  ![performance-card2](https://lixuelang.com/test/Sentry/pic/009/performance-card4.jpg)\n\n  - `sentry` 性能指标阈值定义\n\n    | Web Vital | Good(绿色) | Meh(黄色) | Poor(红色) |\n    | -- | -- | -- | -- |\n    | 最大内容绘制 (LCP) | <= 2.5s | <= 4s | > 4s |\n    | 首次输入延迟 (FID) | <= 100ms | <= 300ms | > 300ms |\n    | 累积布局偏移 (CLS) | <= 0.11s | <= 0.25 | > 0.25 |\n    | 首次绘制 (FP)      | <= 1s | <= 3s | > 3s |\n    | 最大内容绘制 (LCP) | <= 0.1s | <= 3s | > 3s |\n    | 首字节时间 (TTFB)  | <= 100ms | <= 200ms | > 600ms |\n\n  - [官方文档](https://docs.sentry.io/product/performance/web-vitals/)\n\n#### 2. `LCP p75面积图`、`LCP Distribution数量柱状图`、`TPM面积图`\n\n- `LCP p75面积图`: `p50`、`p75`、`p95`都对应一个时间长度的值(例如 `277.20ms`)，表示在某一段时间内(例如`2021-10-19 2:35 PM` 到 `2021-10-19 2:40 PM`)，采集的所有`transaction`中(例如采集到了11个 `transaction`)，超过`25%`的 `transaction` 样本的`LCP`值超过了`277.20ms`。[官方文档](https://docs.sentry.io/product/performance/metrics/)\n\n  ![Performance面板卡片1](https://lixuelang.com/test/Sentry/pic/009/p75.jpg)\n\n- `LCP Distribution数量柱状图`: 横坐标是LCP时间(单位s)，纵坐标是数量(单位个)。一个柱子，表示某个LCP时间的 `transaction` 数量\n\n  ![LCP-distribution](https://lixuelang.com/test/Sentry/pic/009/LCP-distribution.jpg)\n\n- `TPM面积图`: 平均每分钟的 `transaction` 数量。例如，在 `4:00 PM` 到 `8:00 PM`时间段内，平均每分钟的 `transaction` 数量是0.213个\n\n  ![tpm](https://lixuelang.com/test/Sentry/pic/009/tpm.jpg)\n\n#### 3. 某个url路径下的性能信息表格\n\n我们应该已经可以读懂表格中的信息的含义了，接下来点开某个url维度下的详情页，还需要介绍两个指标 `Apdex` 和 `Failure Rate`\n\n  ![apdex](https://lixuelang.com/test/Sentry/pic/009/apdex.jpg)\n\n##### Apdex\n  \n`Apdex` 是一种行业标准指标，用于根据应用程序响应时间(`response time`)跟踪和衡量用户满意度(`satisfaction`)`。Apdex` 分数提供特定 `transaction` 或端点中满意(`satisfactory`)、可容忍(`tolerable`)和失败(`frustrated`)请求的比率。该指标提供了一个标准来比较 `transaction` 性能，了解哪些可能需要额外优化或排查，并为性能设定目标。[官方文档](https://docs.sentry.io/product/performance/metrics/#apdex)\n\n- 以下是 Apdex 的组成部分及其公式：\n\n  - `T`：目标响应时间的阈值。\n  - `Satisfactory(满意度)`：当页面加载时间小于或等于 T 时，用户对使用该应用感到满意。\n  - `Tolerable(可容忍度)`：当页面加载时间在 T 到 4T 之间时，用户认为该应用程序可以容忍使用。\n  - `Frustrated(失败)`：当用户的页面加载时间大于 4T 时，他们对应用程序感到失望。\n  - `Apdex`：(满意请求数 +（可容忍请求数/2））/（总请求数）\n\n- 在 `sentry管理界面 -> Performance` 页面中可以为每个项目设置自定义阈值\n\n##### Failure Rate 失败率\n\n`failure_rate()` 表示不成功 `transaction` 的百分比。`Sentry` 将状态为 `“ok”`、`“canceled”` 和 `“unknown”` 以外的 `transaction` 视为失败。更多状态可以参考 [文档](https://develop.sentry.dev/sdk/event-payloads/span/)。\n\n#### 4. 如何现在就产生Good(绿色)、Meh(黄色)、Poor(红色)的数据\n\n很简单，在`Chrome dev tools`的`Network`中，将模拟网速调整为`fast 3G`、`slow 3G`，然后刷新几次页面即可。\n","slug":"Sentry监控部署009-面包屑追踪事件和Performance追踪性能","published":1,"updated":"2021-11-20T14:48:54.604Z","_id":"ckw7ba9e20000ycv97f2e0r47","comments":1,"layout":"post","photos":[],"link":"","content":"<h1 id=\"Sentry-实战\"><a href=\"#Sentry-实战\" class=\"headerlink\" title=\"Sentry 实战\"></a>Sentry 实战</h1><h2 id=\"面包屑-Breadcrumbs\"><a href=\"#面包屑-Breadcrumbs\" class=\"headerlink\" title=\"面包屑 Breadcrumbs\"></a>面包屑 Breadcrumbs</h2><p>在错误详情页中，有 <code>Breadcrumbs</code> 信息，它非常有用，可以追踪错误发生之前的一些事件，例如点击、页面导航等。</p>\n<ul>\n<li><p><code>Breadcrumbs</code> 是一连串的事件跟踪，展示了发生问题之前的一系列操作。这些事件与传统日志非常相似，但可以记录更丰富的结构化数据。<a href=\"https://docs.sentry.io/platforms/javascript/enriching-events/breadcrumbs/\">Breadcrumbs 官方文档</a></p>\n</li>\n<li><p>我们在 <code>Sentry</code> 管理界面，点击开之前的一个 <code>issue</code> 详情，可以看到 <code>Breadcrumbs</code> 相关信息：</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/breadcrumbs.jpg\" alt=\"Breadcrumbs\"></p>\n</li>\n<li><p>最后一行记录了发生的错误，而在此之前的前面两行记录了在这个错误发生之前的一些操作：先发生了一次<strong>页面加载</strong>的<strong>事务</strong>，接着在点击了 <code>body &gt; div#root &gt; button</code> 的UI。</p>\n</li>\n<li><p>面包屑可以通过两种方式生成：</p>\n<ol>\n<li>自动生成: 通过 <code>SDK</code> 及其相关的集成将自动记录多种类型的面包屑。例如，浏览器 <code>JavaScript SDK</code> 将自动记录 <code>DOM</code> 元素上的点击和按键、<code>XHR</code> 请求、控制台 <code>API</code> 调用以及所有导航变更。</li>\n<li>手动生成: <a href=\"https://getsentry.github.io/sentry-javascript/modules/minimal.html#addbreadcrumb\">官方文档</a></li>\n</ol>\n  <pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">Sentry<span class=\"token punctuation\">.</span><span class=\"token function\">addBreadcrumb</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  category<span class=\"token operator\">:</span> <span class=\"token string\">\"auth\"</span><span class=\"token punctuation\">,</span>\n  message<span class=\"token operator\">:</span> <span class=\"token string\">\"Authenticated user \"</span> <span class=\"token operator\">+</span> user<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">,</span>\n  level<span class=\"token operator\">:</span> Sentry<span class=\"token punctuation\">.</span>Severity<span class=\"token punctuation\">.</span>Info<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n<h2 id=\"Traces-Transactions-和-Spans\"><a href=\"#Traces-Transactions-和-Spans\" class=\"headerlink\" title=\"Traces, Transactions 和 Spans\"></a><code>Traces</code>, <code>Transactions</code> 和 <code>Spans</code></h2><ul>\n<li><p>上面 <code>Breadcrumbs</code> 中第一行，被称为 <code>Transaction</code> ，我们先点击开这个连接，进入这个 <code>Transaction</code> 详情页</p>\n</li>\n<li><p>可以看到原来这是一个页面加载的过程的记录</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/pageload.jpg\" alt=\"pageload\"></p>\n</li>\n<li><p>这个页面加载的整个过程，被称为一个<code>Transaction</code></p>\n</li>\n<li><p>这个<code>Transaction</code>是一个树状结构，根节点是<code>pageload</code>，表示页面加载，根节点下有浏览器的缓存读取、DNS解析、请求、响应、卸载事件、dom内容加载事件等过程，还有各种资源加载过程</p>\n</li>\n<li><p>点击开任意一个节点，可以看到：</p>\n<ul>\n<li>每个节点都有一个<code>id</code>: <code>Span ID</code></li>\n<li><code>Trace ID</code>: 追踪Id</li>\n<li>这个节点过程花费的时间等信息</li>\n</ul>\n</li>\n<li><p><code>Sentry</code> 把这些树状结构的节点称为 <code>Span</code>，他们归属于某一个 <code>Transaction</code></p>\n</li>\n<li><p>一般来讲，页面加载是一个 <code>Transaction</code>，后端API接口逻辑是一个 <code>Transaction</code>，操作数据库逻辑是一个 <code>Transaction</code>，它们共同组成了一个 <code>Trace</code></p>\n</li>\n</ul>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/diagram-transaction-trace.jpg\" alt=\"transaction-example\"><br><img src=\"https://lixuelang.com/test/Sentry/pic/009/diagram-transaction-spans.jpg\" alt=\"transaction-example\"><br><img src=\"https://lixuelang.com/test/Sentry/pic/009/diagram-transaction-example.jpg\" alt=\"transaction-example\"></p>\n<ul>\n<li><a href=\"https://docs.sentry.io/product/sentry-basics/tracing/distributed-tracing/\">相关官方文档</a></li>\n</ul>\n<h2 id=\"页面加载\"><a href=\"#页面加载\" class=\"headerlink\" title=\"页面加载\"></a>页面加载</h2><h3 id=\"页面加载与性能指标\"><a href=\"#页面加载与性能指标\" class=\"headerlink\" title=\"页面加载与性能指标\"></a>页面加载与性能指标</h3><ul>\n<li><p>在上面的分析中，我们看到了一个页面加载（指刷新页面，不是单页面应用的路由变化）的 <code>Transaction</code>，如果我们在 <code>SDK</code> 的<code>Sentry.init()</code>中，将 <code>new Integrations.BrowserTracing()</code> 去掉，那么 <code>Breadcrumbs</code> 不会显示 <code>pageload</code> 信息：</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/breadcrumbs-no-performance.jpg\" alt=\"breadcrumbs-no-performance\"></p>\n</li>\n<li><p>所以 <code>SDK</code> 的 <code>BrowserTracing</code> 功能，就是用来将浏览器页面加载/导航操作检测为事务，并捕获请求、指标和错误作为跨度。</p>\n</li>\n<li><p>在页面加载的 <code>Transaction</code> 中，我们可以看到页面加过程中不同阶段的所花费的时间，例如 <code>FCP</code>、<code>FP</code>、<code>LCP</code>、<code>FID</code>等重要的性能指标信息</p>\n</li>\n<li><p>同一个 <code>url</code> 下会收集每一次上报的页面加载 <code>Transaction</code></p>\n</li>\n<li><p>在 <code>Sentry管理界面 -&gt; Performance菜单</code> 页中，可以查看每个 <code>url</code> 下收集的综合性能指标信息</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/performance1.jpg\" alt=\"performance1\"></p>\n<ul>\n<li><code>TPM</code>: 平均每分钟事务数</li>\n<li><code>FCP</code>: (First Contentful Paint) 首次内容绘制，标记浏览器渲染来自 DOM 第一位内容的时间点，该内容可能是文本、图像、SVG 甚至 元素.</li>\n<li><code>LCP</code>: (Largest Contentful Paint) 最大内容渲染，代表在viewport中最大的页面元素加载的时间. LCP的数据会通过PerformanceEntry对象记录, 每次出现更大的内容渲染, 则会产生一个新的PerformanceEntry对象</li>\n<li><code>FID</code>: (First Input Delay) 首次输入延迟，指标衡量的是从用户首次与您的网站进行交互（即当他们单击链接，点击按钮等）到浏览器实际能够访问之间的时间</li>\n<li><code>CLS</code>: (Cumulative Layout Shift) 累积布局偏移，总结起来就是一个元素初始时和其hidden之间的任何时间如果元素偏移了, 则会被计算进去, 具体的计算方法可看这篇文章 <a href=\"https://web.dev/cls/\">https://web.dev/cls/</a></li>\n<li><code>FP</code>: First Paint (FP) 首次绘制，测量第一个像素出现在视口中所花费的时间，呈现与先前显示内容相比的任何视觉变化。这可以是来自文档对象模型 (DOM) 的任何形式，例如 background color 、canvas 或 image。FP 可帮助开发人员了解渲染页面是否发生了任何意外。</li>\n<li><code>TTFB</code>: Time To First Byte (TTFB) 首字节时间，测量用户浏览器接收页面内容的第一个字节所需的时间。TTFB 帮助开发人员了解他们的缓慢是由初始响应(initial response)引起的还是由于渲染阻塞内容(render-blocking content)引起的</li>\n<li><code>USERS</code>: UV数</li>\n<li><code>USER MISERY</code>: 对响应时间难以容忍度的用户数，<code>User Misery</code> 是一个用户加权的性能指标，用于评估应用程序性能的相对大小。虽然可以使用 <code>Apdex</code> 检查各种响应时间阈值级别的比率，但 User Misery 会根据满意响应时间阈值 (ms) 的四倍计算感到失望的唯一用户数。User Misery 突出显示对用户影响最大的事务。可以使用自定义阈值为每个项目设置令人满意的阈值。阈值设置在<code>Settings -&gt; sentry -&gt; cra-test -&gt; Performance</code></li>\n</ul>\n</li>\n<li><p><a href=\"https://blog.csdn.net/c_kite/article/details/104237256\">参考1</a></p>\n</li>\n<li><p><a href=\"https://cloud.tencent.com/developer/article/1878538?from=article.detail.1878539\">参考2</a></p>\n</li>\n<li><p><a href=\"https://docs.sentry.io/product/performance/web-vitals/\">参考3</a></p>\n</li>\n</ul>\n<h3 id=\"Performance-面板\"><a href=\"#Performance-面板\" class=\"headerlink\" title=\"Performance 面板\"></a><code>Performance</code> 面板</h3><p><img src=\"https://lixuelang.com/test/Sentry/pic/009/performance-card1.jpg\" alt=\"Performance面板卡片1\"></p>\n<p>在 <code>Performance</code> 面板中，可以根据一些条件查询某一批 <code>Transaction</code>\b的：</p>\n<h4 id=\"1-FCP、LCP、FID、CLS等信息\"><a href=\"#1-FCP、LCP、FID、CLS等信息\" class=\"headerlink\" title=\"1. FCP、LCP、FID、CLS等信息\"></a>1. <code>FCP</code>、<code>LCP</code>、<code>FID</code>、<code>CLS</code>等信息</h4><ul>\n<li><p>图片中筛选出了27个 <code>transaction</code></p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/performance-card2.jpg\" alt=\"performance-card2\"></p>\n</li>\n<li><p><code>FCP</code>、<code>LCP</code>、<code>FID</code>、<code>CLS</code>卡片中展示了27个 <code>transaction</code> 的平均值</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/performance-card3.jpg\" alt=\"performance-card2\"></p>\n</li>\n<li><p>每个卡片上还有绿色、黄色、红色的百分比，分别表示好、一般和差，通过该性能指标的阈值作区分</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/performance-card4.jpg\" alt=\"performance-card2\"></p>\n<ul>\n<li><p><code>sentry</code> 性能指标阈值定义</p>\n<table>\n<thead>\n<tr>\n<th>Web Vital</th>\n<th>Good(绿色)</th>\n<th>Meh(黄色)</th>\n<th>Poor(红色)</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>最大内容绘制 (LCP)</td>\n<td>&lt;= 2.5s</td>\n<td>&lt;= 4s</td>\n<td>&gt; 4s</td>\n</tr>\n<tr>\n<td>首次输入延迟 (FID)</td>\n<td>&lt;= 100ms</td>\n<td>&lt;= 300ms</td>\n<td>&gt; 300ms</td>\n</tr>\n<tr>\n<td>累积布局偏移 (CLS)</td>\n<td>&lt;= 0.11s</td>\n<td>&lt;= 0.25</td>\n<td>&gt; 0.25</td>\n</tr>\n<tr>\n<td>首次绘制 (FP)</td>\n<td>&lt;= 1s</td>\n<td>&lt;= 3s</td>\n<td>&gt; 3s</td>\n</tr>\n<tr>\n<td>最大内容绘制 (LCP)</td>\n<td>&lt;= 0.1s</td>\n<td>&lt;= 3s</td>\n<td>&gt; 3s</td>\n</tr>\n<tr>\n<td>首字节时间 (TTFB)</td>\n<td>&lt;= 100ms</td>\n<td>&lt;= 200ms</td>\n<td>&gt; 600ms</td>\n</tr>\n</tbody></table>\n</li>\n<li><p><a href=\"https://docs.sentry.io/product/performance/web-vitals/\">官方文档</a></p>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"2-LCP-p75面积图、LCP-Distribution数量柱状图、TPM面积图\"><a href=\"#2-LCP-p75面积图、LCP-Distribution数量柱状图、TPM面积图\" class=\"headerlink\" title=\"2. LCP p75面积图、LCP Distribution数量柱状图、TPM面积图\"></a>2. <code>LCP p75面积图</code>、<code>LCP Distribution数量柱状图</code>、<code>TPM面积图</code></h4><ul>\n<li><p><code>LCP p75面积图</code>: <code>p50</code>、<code>p75</code>、<code>p95</code>都对应一个时间长度的值(例如 <code>277.20ms</code>)，表示在某一段时间内(例如<code>2021-10-19 2:35 PM</code> 到 <code>2021-10-19 2:40 PM</code>)，采集的所有<code>transaction</code>中(例如采集到了11个 <code>transaction</code>)，超过<code>25%</code>的 <code>transaction</code> 样本的<code>LCP</code>值超过了<code>277.20ms</code>。<a href=\"https://docs.sentry.io/product/performance/metrics/\">官方文档</a></p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/p75.jpg\" alt=\"Performance面板卡片1\"></p>\n</li>\n<li><p><code>LCP Distribution数量柱状图</code>: 横坐标是LCP时间(单位s)，纵坐标是数量(单位个)。一个柱子，表示某个LCP时间的 <code>transaction</code> 数量</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/LCP-distribution.jpg\" alt=\"LCP-distribution\"></p>\n</li>\n<li><p><code>TPM面积图</code>: 平均每分钟的 <code>transaction</code> 数量。例如，在 <code>4:00 PM</code> 到 <code>8:00 PM</code>时间段内，平均每分钟的 <code>transaction</code> 数量是0.213个</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/tpm.jpg\" alt=\"tpm\"></p>\n</li>\n</ul>\n<h4 id=\"3-某个url路径下的性能信息表格\"><a href=\"#3-某个url路径下的性能信息表格\" class=\"headerlink\" title=\"3. 某个url路径下的性能信息表格\"></a>3. 某个url路径下的性能信息表格</h4><p>我们应该已经可以读懂表格中的信息的含义了，接下来点开某个url维度下的详情页，还需要介绍两个指标 <code>Apdex</code> 和 <code>Failure Rate</code></p>\n<p>  <img src=\"https://lixuelang.com/test/Sentry/pic/009/apdex.jpg\" alt=\"apdex\"></p>\n<h5 id=\"Apdex\"><a href=\"#Apdex\" class=\"headerlink\" title=\"Apdex\"></a>Apdex</h5><p><code>Apdex</code> 是一种行业标准指标，用于根据应用程序响应时间(<code>response time</code>)跟踪和衡量用户满意度(<code>satisfaction</code>)<code>。Apdex</code> 分数提供特定 <code>transaction</code> 或端点中满意(<code>satisfactory</code>)、可容忍(<code>tolerable</code>)和失败(<code>frustrated</code>)请求的比率。该指标提供了一个标准来比较 <code>transaction</code> 性能，了解哪些可能需要额外优化或排查，并为性能设定目标。<a href=\"https://docs.sentry.io/product/performance/metrics/#apdex\">官方文档</a></p>\n<ul>\n<li><p>以下是 Apdex 的组成部分及其公式：</p>\n<ul>\n<li><code>T</code>：目标响应时间的阈值。</li>\n<li><code>Satisfactory(满意度)</code>：当页面加载时间小于或等于 T 时，用户对使用该应用感到满意。</li>\n<li><code>Tolerable(可容忍度)</code>：当页面加载时间在 T 到 4T 之间时，用户认为该应用程序可以容忍使用。</li>\n<li><code>Frustrated(失败)</code>：当用户的页面加载时间大于 4T 时，他们对应用程序感到失望。</li>\n<li><code>Apdex</code>：(满意请求数 +（可容忍请求数/2））/（总请求数）</li>\n</ul>\n</li>\n<li><p>在 <code>sentry管理界面 -&gt; Performance</code> 页面中可以为每个项目设置自定义阈值</p>\n</li>\n</ul>\n<h5 id=\"Failure-Rate-失败率\"><a href=\"#Failure-Rate-失败率\" class=\"headerlink\" title=\"Failure Rate 失败率\"></a>Failure Rate 失败率</h5><p><code>failure_rate()</code> 表示不成功 <code>transaction</code> 的百分比。<code>Sentry</code> 将状态为 <code>“ok”</code>、<code>“canceled”</code> 和 <code>“unknown”</code> 以外的 <code>transaction</code> 视为失败。更多状态可以参考 <a href=\"https://develop.sentry.dev/sdk/event-payloads/span/\">文档</a>。</p>\n<h4 id=\"4-如何现在就产生Good-绿色-、Meh-黄色-、Poor-红色-的数据\"><a href=\"#4-如何现在就产生Good-绿色-、Meh-黄色-、Poor-红色-的数据\" class=\"headerlink\" title=\"4. 如何现在就产生Good(绿色)、Meh(黄色)、Poor(红色)的数据\"></a>4. 如何现在就产生Good(绿色)、Meh(黄色)、Poor(红色)的数据</h4><p>很简单，在<code>Chrome dev tools</code>的<code>Network</code>中，将模拟网速调整为<code>fast 3G</code>、<code>slow 3G</code>，然后刷新几次页面即可。</p>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<h1 id=\"Sentry-实战\"><a href=\"#Sentry-实战\" class=\"headerlink\" title=\"Sentry 实战\"></a>Sentry 实战</h1><h2 id=\"面包屑-Breadcrumbs\"><a href=\"#面包屑-Breadcrumbs\" class=\"headerlink\" title=\"面包屑 Breadcrumbs\"></a>面包屑 Breadcrumbs</h2><p>在错误详情页中，有 <code>Breadcrumbs</code> 信息，它非常有用，可以追踪错误发生之前的一些事件，例如点击、页面导航等。</p>\n<ul>\n<li><p><code>Breadcrumbs</code> 是一连串的事件跟踪，展示了发生问题之前的一系列操作。这些事件与传统日志非常相似，但可以记录更丰富的结构化数据。<a href=\"https://docs.sentry.io/platforms/javascript/enriching-events/breadcrumbs/\">Breadcrumbs 官方文档</a></p>\n</li>\n<li><p>我们在 <code>Sentry</code> 管理界面，点击开之前的一个 <code>issue</code> 详情，可以看到 <code>Breadcrumbs</code> 相关信息：</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/breadcrumbs.jpg\" alt=\"Breadcrumbs\"></p>\n</li>\n<li><p>最后一行记录了发生的错误，而在此之前的前面两行记录了在这个错误发生之前的一些操作：先发生了一次<strong>页面加载</strong>的<strong>事务</strong>，接着在点击了 <code>body &gt; div#root &gt; button</code> 的UI。</p>\n</li>\n<li><p>面包屑可以通过两种方式生成：</p>\n<ol>\n<li>自动生成: 通过 <code>SDK</code> 及其相关的集成将自动记录多种类型的面包屑。例如，浏览器 <code>JavaScript SDK</code> 将自动记录 <code>DOM</code> 元素上的点击和按键、<code>XHR</code> 请求、控制台 <code>API</code> 调用以及所有导航变更。</li>\n<li>手动生成: <a href=\"https://getsentry.github.io/sentry-javascript/modules/minimal.html#addbreadcrumb\">官方文档</a></li>\n</ol>\n  <pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">Sentry<span class=\"token punctuation\">.</span><span class=\"token function\">addBreadcrumb</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  category<span class=\"token operator\">:</span> <span class=\"token string\">\"auth\"</span><span class=\"token punctuation\">,</span>\n  message<span class=\"token operator\">:</span> <span class=\"token string\">\"Authenticated user \"</span> <span class=\"token operator\">+</span> user<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">,</span>\n  level<span class=\"token operator\">:</span> Sentry<span class=\"token punctuation\">.</span>Severity<span class=\"token punctuation\">.</span>Info<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n<h2 id=\"Traces-Transactions-和-Spans\"><a href=\"#Traces-Transactions-和-Spans\" class=\"headerlink\" title=\"Traces, Transactions 和 Spans\"></a><code>Traces</code>, <code>Transactions</code> 和 <code>Spans</code></h2><ul>\n<li><p>上面 <code>Breadcrumbs</code> 中第一行，被称为 <code>Transaction</code> ，我们先点击开这个连接，进入这个 <code>Transaction</code> 详情页</p>\n</li>\n<li><p>可以看到原来这是一个页面加载的过程的记录</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/pageload.jpg\" alt=\"pageload\"></p>\n</li>\n<li><p>这个页面加载的整个过程，被称为一个<code>Transaction</code></p>\n</li>\n<li><p>这个<code>Transaction</code>是一个树状结构，根节点是<code>pageload</code>，表示页面加载，根节点下有浏览器的缓存读取、DNS解析、请求、响应、卸载事件、dom内容加载事件等过程，还有各种资源加载过程</p>\n</li>\n<li><p>点击开任意一个节点，可以看到：</p>\n<ul>\n<li>每个节点都有一个<code>id</code>: <code>Span ID</code></li>\n<li><code>Trace ID</code>: 追踪Id</li>\n<li>这个节点过程花费的时间等信息</li>\n</ul>\n</li>\n<li><p><code>Sentry</code> 把这些树状结构的节点称为 <code>Span</code>，他们归属于某一个 <code>Transaction</code></p>\n</li>\n<li><p>一般来讲，页面加载是一个 <code>Transaction</code>，后端API接口逻辑是一个 <code>Transaction</code>，操作数据库逻辑是一个 <code>Transaction</code>，它们共同组成了一个 <code>Trace</code></p>\n</li>\n</ul>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/diagram-transaction-trace.jpg\" alt=\"transaction-example\"><br><img src=\"https://lixuelang.com/test/Sentry/pic/009/diagram-transaction-spans.jpg\" alt=\"transaction-example\"><br><img src=\"https://lixuelang.com/test/Sentry/pic/009/diagram-transaction-example.jpg\" alt=\"transaction-example\"></p>\n<ul>\n<li><a href=\"https://docs.sentry.io/product/sentry-basics/tracing/distributed-tracing/\">相关官方文档</a></li>\n</ul>\n<h2 id=\"页面加载\"><a href=\"#页面加载\" class=\"headerlink\" title=\"页面加载\"></a>页面加载</h2><h3 id=\"页面加载与性能指标\"><a href=\"#页面加载与性能指标\" class=\"headerlink\" title=\"页面加载与性能指标\"></a>页面加载与性能指标</h3><ul>\n<li><p>在上面的分析中，我们看到了一个页面加载（指刷新页面，不是单页面应用的路由变化）的 <code>Transaction</code>，如果我们在 <code>SDK</code> 的<code>Sentry.init()</code>中，将 <code>new Integrations.BrowserTracing()</code> 去掉，那么 <code>Breadcrumbs</code> 不会显示 <code>pageload</code> 信息：</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/breadcrumbs-no-performance.jpg\" alt=\"breadcrumbs-no-performance\"></p>\n</li>\n<li><p>所以 <code>SDK</code> 的 <code>BrowserTracing</code> 功能，就是用来将浏览器页面加载/导航操作检测为事务，并捕获请求、指标和错误作为跨度。</p>\n</li>\n<li><p>在页面加载的 <code>Transaction</code> 中，我们可以看到页面加过程中不同阶段的所花费的时间，例如 <code>FCP</code>、<code>FP</code>、<code>LCP</code>、<code>FID</code>等重要的性能指标信息</p>\n</li>\n<li><p>同一个 <code>url</code> 下会收集每一次上报的页面加载 <code>Transaction</code></p>\n</li>\n<li><p>在 <code>Sentry管理界面 -&gt; Performance菜单</code> 页中，可以查看每个 <code>url</code> 下收集的综合性能指标信息</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/performance1.jpg\" alt=\"performance1\"></p>\n<ul>\n<li><code>TPM</code>: 平均每分钟事务数</li>\n<li><code>FCP</code>: (First Contentful Paint) 首次内容绘制，标记浏览器渲染来自 DOM 第一位内容的时间点，该内容可能是文本、图像、SVG 甚至 元素.</li>\n<li><code>LCP</code>: (Largest Contentful Paint) 最大内容渲染，代表在viewport中最大的页面元素加载的时间. LCP的数据会通过PerformanceEntry对象记录, 每次出现更大的内容渲染, 则会产生一个新的PerformanceEntry对象</li>\n<li><code>FID</code>: (First Input Delay) 首次输入延迟，指标衡量的是从用户首次与您的网站进行交互（即当他们单击链接，点击按钮等）到浏览器实际能够访问之间的时间</li>\n<li><code>CLS</code>: (Cumulative Layout Shift) 累积布局偏移，总结起来就是一个元素初始时和其hidden之间的任何时间如果元素偏移了, 则会被计算进去, 具体的计算方法可看这篇文章 <a href=\"https://web.dev/cls/\">https://web.dev/cls/</a></li>\n<li><code>FP</code>: First Paint (FP) 首次绘制，测量第一个像素出现在视口中所花费的时间，呈现与先前显示内容相比的任何视觉变化。这可以是来自文档对象模型 (DOM) 的任何形式，例如 background color 、canvas 或 image。FP 可帮助开发人员了解渲染页面是否发生了任何意外。</li>\n<li><code>TTFB</code>: Time To First Byte (TTFB) 首字节时间，测量用户浏览器接收页面内容的第一个字节所需的时间。TTFB 帮助开发人员了解他们的缓慢是由初始响应(initial response)引起的还是由于渲染阻塞内容(render-blocking content)引起的</li>\n<li><code>USERS</code>: UV数</li>\n<li><code>USER MISERY</code>: 对响应时间难以容忍度的用户数，<code>User Misery</code> 是一个用户加权的性能指标，用于评估应用程序性能的相对大小。虽然可以使用 <code>Apdex</code> 检查各种响应时间阈值级别的比率，但 User Misery 会根据满意响应时间阈值 (ms) 的四倍计算感到失望的唯一用户数。User Misery 突出显示对用户影响最大的事务。可以使用自定义阈值为每个项目设置令人满意的阈值。阈值设置在<code>Settings -&gt; sentry -&gt; cra-test -&gt; Performance</code></li>\n</ul>\n</li>\n<li><p><a href=\"https://blog.csdn.net/c_kite/article/details/104237256\">参考1</a></p>\n</li>\n<li><p><a href=\"https://cloud.tencent.com/developer/article/1878538?from=article.detail.1878539\">参考2</a></p>\n</li>\n<li><p><a href=\"https://docs.sentry.io/product/performance/web-vitals/\">参考3</a></p>\n</li>\n</ul>\n<h3 id=\"Performance-面板\"><a href=\"#Performance-面板\" class=\"headerlink\" title=\"Performance 面板\"></a><code>Performance</code> 面板</h3><p><img src=\"https://lixuelang.com/test/Sentry/pic/009/performance-card1.jpg\" alt=\"Performance面板卡片1\"></p>\n<p>在 <code>Performance</code> 面板中，可以根据一些条件查询某一批 <code>Transaction</code>\b的：</p>\n<h4 id=\"1-FCP、LCP、FID、CLS等信息\"><a href=\"#1-FCP、LCP、FID、CLS等信息\" class=\"headerlink\" title=\"1. FCP、LCP、FID、CLS等信息\"></a>1. <code>FCP</code>、<code>LCP</code>、<code>FID</code>、<code>CLS</code>等信息</h4><ul>\n<li><p>图片中筛选出了27个 <code>transaction</code></p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/performance-card2.jpg\" alt=\"performance-card2\"></p>\n</li>\n<li><p><code>FCP</code>、<code>LCP</code>、<code>FID</code>、<code>CLS</code>卡片中展示了27个 <code>transaction</code> 的平均值</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/performance-card3.jpg\" alt=\"performance-card2\"></p>\n</li>\n<li><p>每个卡片上还有绿色、黄色、红色的百分比，分别表示好、一般和差，通过该性能指标的阈值作区分</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/performance-card4.jpg\" alt=\"performance-card2\"></p>\n<ul>\n<li><p><code>sentry</code> 性能指标阈值定义</p>\n<table>\n<thead>\n<tr>\n<th>Web Vital</th>\n<th>Good(绿色)</th>\n<th>Meh(黄色)</th>\n<th>Poor(红色)</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>最大内容绘制 (LCP)</td>\n<td>&lt;= 2.5s</td>\n<td>&lt;= 4s</td>\n<td>&gt; 4s</td>\n</tr>\n<tr>\n<td>首次输入延迟 (FID)</td>\n<td>&lt;= 100ms</td>\n<td>&lt;= 300ms</td>\n<td>&gt; 300ms</td>\n</tr>\n<tr>\n<td>累积布局偏移 (CLS)</td>\n<td>&lt;= 0.11s</td>\n<td>&lt;= 0.25</td>\n<td>&gt; 0.25</td>\n</tr>\n<tr>\n<td>首次绘制 (FP)</td>\n<td>&lt;= 1s</td>\n<td>&lt;= 3s</td>\n<td>&gt; 3s</td>\n</tr>\n<tr>\n<td>最大内容绘制 (LCP)</td>\n<td>&lt;= 0.1s</td>\n<td>&lt;= 3s</td>\n<td>&gt; 3s</td>\n</tr>\n<tr>\n<td>首字节时间 (TTFB)</td>\n<td>&lt;= 100ms</td>\n<td>&lt;= 200ms</td>\n<td>&gt; 600ms</td>\n</tr>\n</tbody></table>\n</li>\n<li><p><a href=\"https://docs.sentry.io/product/performance/web-vitals/\">官方文档</a></p>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"2-LCP-p75面积图、LCP-Distribution数量柱状图、TPM面积图\"><a href=\"#2-LCP-p75面积图、LCP-Distribution数量柱状图、TPM面积图\" class=\"headerlink\" title=\"2. LCP p75面积图、LCP Distribution数量柱状图、TPM面积图\"></a>2. <code>LCP p75面积图</code>、<code>LCP Distribution数量柱状图</code>、<code>TPM面积图</code></h4><ul>\n<li><p><code>LCP p75面积图</code>: <code>p50</code>、<code>p75</code>、<code>p95</code>都对应一个时间长度的值(例如 <code>277.20ms</code>)，表示在某一段时间内(例如<code>2021-10-19 2:35 PM</code> 到 <code>2021-10-19 2:40 PM</code>)，采集的所有<code>transaction</code>中(例如采集到了11个 <code>transaction</code>)，超过<code>25%</code>的 <code>transaction</code> 样本的<code>LCP</code>值超过了<code>277.20ms</code>。<a href=\"https://docs.sentry.io/product/performance/metrics/\">官方文档</a></p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/p75.jpg\" alt=\"Performance面板卡片1\"></p>\n</li>\n<li><p><code>LCP Distribution数量柱状图</code>: 横坐标是LCP时间(单位s)，纵坐标是数量(单位个)。一个柱子，表示某个LCP时间的 <code>transaction</code> 数量</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/LCP-distribution.jpg\" alt=\"LCP-distribution\"></p>\n</li>\n<li><p><code>TPM面积图</code>: 平均每分钟的 <code>transaction</code> 数量。例如，在 <code>4:00 PM</code> 到 <code>8:00 PM</code>时间段内，平均每分钟的 <code>transaction</code> 数量是0.213个</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/009/tpm.jpg\" alt=\"tpm\"></p>\n</li>\n</ul>\n<h4 id=\"3-某个url路径下的性能信息表格\"><a href=\"#3-某个url路径下的性能信息表格\" class=\"headerlink\" title=\"3. 某个url路径下的性能信息表格\"></a>3. 某个url路径下的性能信息表格</h4><p>我们应该已经可以读懂表格中的信息的含义了，接下来点开某个url维度下的详情页，还需要介绍两个指标 <code>Apdex</code> 和 <code>Failure Rate</code></p>\n<p>  <img src=\"https://lixuelang.com/test/Sentry/pic/009/apdex.jpg\" alt=\"apdex\"></p>\n<h5 id=\"Apdex\"><a href=\"#Apdex\" class=\"headerlink\" title=\"Apdex\"></a>Apdex</h5><p><code>Apdex</code> 是一种行业标准指标，用于根据应用程序响应时间(<code>response time</code>)跟踪和衡量用户满意度(<code>satisfaction</code>)<code>。Apdex</code> 分数提供特定 <code>transaction</code> 或端点中满意(<code>satisfactory</code>)、可容忍(<code>tolerable</code>)和失败(<code>frustrated</code>)请求的比率。该指标提供了一个标准来比较 <code>transaction</code> 性能，了解哪些可能需要额外优化或排查，并为性能设定目标。<a href=\"https://docs.sentry.io/product/performance/metrics/#apdex\">官方文档</a></p>\n<ul>\n<li><p>以下是 Apdex 的组成部分及其公式：</p>\n<ul>\n<li><code>T</code>：目标响应时间的阈值。</li>\n<li><code>Satisfactory(满意度)</code>：当页面加载时间小于或等于 T 时，用户对使用该应用感到满意。</li>\n<li><code>Tolerable(可容忍度)</code>：当页面加载时间在 T 到 4T 之间时，用户认为该应用程序可以容忍使用。</li>\n<li><code>Frustrated(失败)</code>：当用户的页面加载时间大于 4T 时，他们对应用程序感到失望。</li>\n<li><code>Apdex</code>：(满意请求数 +（可容忍请求数/2））/（总请求数）</li>\n</ul>\n</li>\n<li><p>在 <code>sentry管理界面 -&gt; Performance</code> 页面中可以为每个项目设置自定义阈值</p>\n</li>\n</ul>\n<h5 id=\"Failure-Rate-失败率\"><a href=\"#Failure-Rate-失败率\" class=\"headerlink\" title=\"Failure Rate 失败率\"></a>Failure Rate 失败率</h5><p><code>failure_rate()</code> 表示不成功 <code>transaction</code> 的百分比。<code>Sentry</code> 将状态为 <code>“ok”</code>、<code>“canceled”</code> 和 <code>“unknown”</code> 以外的 <code>transaction</code> 视为失败。更多状态可以参考 <a href=\"https://develop.sentry.dev/sdk/event-payloads/span/\">文档</a>。</p>\n<h4 id=\"4-如何现在就产生Good-绿色-、Meh-黄色-、Poor-红色-的数据\"><a href=\"#4-如何现在就产生Good-绿色-、Meh-黄色-、Poor-红色-的数据\" class=\"headerlink\" title=\"4. 如何现在就产生Good(绿色)、Meh(黄色)、Poor(红色)的数据\"></a>4. 如何现在就产生Good(绿色)、Meh(黄色)、Poor(红色)的数据</h4><p>很简单，在<code>Chrome dev tools</code>的<code>Network</code>中，将模拟网速调整为<code>fast 3G</code>、<code>slow 3G</code>，然后刷新几次页面即可。</p>\n"},{"title":"Sentry监控部署010-路由监控和配置","date":"2021-11-20T14:08:44.000Z","_content":"# Sentry 实战\n\n## 导航操作检测\n\n在前面**页面加载与性能指标**的介绍中，我们了解到性能信息都是有 `SDK` 的 `BrowserTracing` 功能采集的，而 `BrowserTracing` 除了采集页面加载性能指标外，还可以采集路由导航时的相关信息，这在单页面应用中非常有用\n\n### 1. 基本导航操作检测\n\n- 首先我们在前端项目中加上前端路由\n\n  ```bash\n  # 安装React路由\n  npm i -S react-router-dom\n  ```\n\n  ```js\n  // App.js\n  import { BrowserRouter as Router, Switch, Link } from 'react-router-dom';\n\n  function App() {\n    function fn() {\n      console.log(window.a.b);\n    }\n    return (\n      <Router>\n        <>\n          <nav>\n            <ul>\n              <li>\n                <Link to=\"/\">Home</Link>\n              </li>\n              <li>\n                <Link to=\"/about\">About</Link>\n              </li>\n            </ul>\n          </nav>\n          <Switch>\n            <Router path=\"/about\">\n              about\n            </Router>\n            <Router path=\"/\">\n              <button onClick={fn}>Break the world</button>\n            </Router>\n          </Switch>\n        </>\n      </Router>\n    );\n  }\n\n  export default App;\n  ```\n\n- 接下来我们打开页面 `localhost:9000`，点击`About`，跳转到`/about`页，可以看到此时 `SDK` 多上报了一条 `transaction`\n\n  ![router](https://lixuelang.com/test/Sentry/pic/010/router.jpg)\n\n- 过一会儿，在 `Sentry管理界面` -> `Discover菜单 -> All Events`中，我们可以看到刚才上报的 `transaction`: `/about`，点击打开详情\n\n- 在 `Breadcrumbs` 中，我们可以看到这是一个 `TYPE` 为 `navigation`，`CATEGORY` 为 `navigation` 的 `transaction`，并告诉了我们 `from`，从 `/` 路由，`to`，跳转到了 `/about` 路由。\n\n- 在跳转之前，经历了 `pageload`，和 `ui.click`\n\n  ![router-detail](https://lixuelang.com/test/Sentry/pic/010/router-detail.jpg)\n\n### 2. `React router` 导航操作检测\n\n- 目前为止，对于 `/user/:id` 的路由，不同的 `id`，上报的 `transaction` 名称是不同的，例如 `/user/1`、`/user/2`。\n\n- 我们可以分别在 `/user/1`、`/user/2` 路由下刷新页面，然后在Sentry管理界面的Performance菜单里查看效果，会看到两条不同的 `TRANSACTION`: `/user/1`、`/user/2`\n\n  ![react-router-1](https://lixuelang.com/test/Sentry/pic/010/react-router-1.jpg)\n\n- 实际上我们希望他们是一条，预期应该显示: `/user/:id`，在 `React` 项目中，我们可以通过 `Sentry.reactRouterV5Instrumentation`配置。\n\n#### `React` 配置\n\n- 安装history\n\n  ```bash\n  npm i -S history@4\n  ```\n\n- 配置 `React router` 集成\n\n  ```js\n  // index.js\n  import React from 'react';\n  import ReactDOM from 'react-dom';\n  import { Router, Route, Switch, Link, matchPath } from 'react-router-dom';\n\n  import { createBrowserHistory } from 'history';\n\n  import * as Sentry from '@sentry/react';\n  import { Integrations } from '@sentry/tracing';\n\n  const history = createBrowserHistory();\n\n  const routes = [{ path: '/about' }, { path: '/user/:id' }, { path: '/' }];\n\n  Sentry.init({\n    dsn: \"http://xxxxxxxxxxxxxxxx@127.0.0.1:9000/3\",\n    environment: 'localhost',\n    integrations: [new Integrations.BrowserTracing({\n      routingInstrumentation: Sentry.reactRouterV5Instrumentation(history, routes, matchPath),\n    })],\n    tracesSampleRate: 1.0,\n    release: '0.0.1',\n  });\n\n  const App = () => {\n    function fn() {\n      console.log(window.a.b);\n    }\n    return (\n      <Router history={history}>\n        <>\n          <nav>\n            <ul>\n              <li>\n                <Link to=\"/\">Home</Link>\n              </li>\n              <li>\n                <Link to=\"/about\">About</Link>\n              </li>\n              <li>\n                <Link to=\"/user/1\">User1</Link>\n              </li>\n              <li>\n                <Link to=\"/user/2\">User2</Link>\n              </li>\n            </ul>\n          </nav>\n          <Switch>\n            <Route path=\"/about\" children={\n              () => <div>about</div>\n            } />\n            <Route path=\"/user/:id\" children={\n              () => <div>user</div>\n            } />\n            <Route exact path=\"/\" children={\n              () => <button onClick={fn}>Break the world</button>\n            } />\n          </Switch>\n        </>\n      </Router>\n    );\n  }\n\n  ReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n  ```\n\n- 然后我们再在`/user/1`、`/user/2`路由下刷新页面，查看上报的`transaction`，已经变成了一种: `/user/:id`\n\n  ![react-router-2](https://lixuelang.com/test/Sentry/pic/010/react-router-2.jpg)\n\n- 还有一种方式可以也达到这个目的：使用 `Sentry.withSentryRouting` 高阶组件包裹 `Route`，具体可以参考 [官方文档](https://docs.sentry.io/platforms/javascript/guides/react/configuration/integrations/react-router/)\n\n### 3. `Vue router` 导航操作检测\n\n[sentry 的 vue-router 配置](https://docs.sentry.io/platforms/javascript/guides/vue/configuration/integrations/vue-router/)\n\n```\nSentry.init({\n  Vue: Vue,\n  dsn: \"https://examplePublicKey@o0.ingest.sentry.io/0\",\n  tracesSampleRate: 1.0,\n  integrations: [\n    new Integrations.BrowserTracing({\n      // 加这行\n      routingInstrumentation: Sentry.vueRouterInstrumentation(router),\n    }),\n  ],\n  trackComponents: true,\n});\n```\n","source":"_posts/Sentry监控部署010-路由监控和配置.md","raw":"---\ntitle: Sentry监控部署010-路由监控和配置\ndate: 2021-11-20 22:08:44\ncategories:  \n- [linux, Sentry]  \ntags:  \n- linux\n- Sentry\n---\n# Sentry 实战\n\n## 导航操作检测\n\n在前面**页面加载与性能指标**的介绍中，我们了解到性能信息都是有 `SDK` 的 `BrowserTracing` 功能采集的，而 `BrowserTracing` 除了采集页面加载性能指标外，还可以采集路由导航时的相关信息，这在单页面应用中非常有用\n\n### 1. 基本导航操作检测\n\n- 首先我们在前端项目中加上前端路由\n\n  ```bash\n  # 安装React路由\n  npm i -S react-router-dom\n  ```\n\n  ```js\n  // App.js\n  import { BrowserRouter as Router, Switch, Link } from 'react-router-dom';\n\n  function App() {\n    function fn() {\n      console.log(window.a.b);\n    }\n    return (\n      <Router>\n        <>\n          <nav>\n            <ul>\n              <li>\n                <Link to=\"/\">Home</Link>\n              </li>\n              <li>\n                <Link to=\"/about\">About</Link>\n              </li>\n            </ul>\n          </nav>\n          <Switch>\n            <Router path=\"/about\">\n              about\n            </Router>\n            <Router path=\"/\">\n              <button onClick={fn}>Break the world</button>\n            </Router>\n          </Switch>\n        </>\n      </Router>\n    );\n  }\n\n  export default App;\n  ```\n\n- 接下来我们打开页面 `localhost:9000`，点击`About`，跳转到`/about`页，可以看到此时 `SDK` 多上报了一条 `transaction`\n\n  ![router](https://lixuelang.com/test/Sentry/pic/010/router.jpg)\n\n- 过一会儿，在 `Sentry管理界面` -> `Discover菜单 -> All Events`中，我们可以看到刚才上报的 `transaction`: `/about`，点击打开详情\n\n- 在 `Breadcrumbs` 中，我们可以看到这是一个 `TYPE` 为 `navigation`，`CATEGORY` 为 `navigation` 的 `transaction`，并告诉了我们 `from`，从 `/` 路由，`to`，跳转到了 `/about` 路由。\n\n- 在跳转之前，经历了 `pageload`，和 `ui.click`\n\n  ![router-detail](https://lixuelang.com/test/Sentry/pic/010/router-detail.jpg)\n\n### 2. `React router` 导航操作检测\n\n- 目前为止，对于 `/user/:id` 的路由，不同的 `id`，上报的 `transaction` 名称是不同的，例如 `/user/1`、`/user/2`。\n\n- 我们可以分别在 `/user/1`、`/user/2` 路由下刷新页面，然后在Sentry管理界面的Performance菜单里查看效果，会看到两条不同的 `TRANSACTION`: `/user/1`、`/user/2`\n\n  ![react-router-1](https://lixuelang.com/test/Sentry/pic/010/react-router-1.jpg)\n\n- 实际上我们希望他们是一条，预期应该显示: `/user/:id`，在 `React` 项目中，我们可以通过 `Sentry.reactRouterV5Instrumentation`配置。\n\n#### `React` 配置\n\n- 安装history\n\n  ```bash\n  npm i -S history@4\n  ```\n\n- 配置 `React router` 集成\n\n  ```js\n  // index.js\n  import React from 'react';\n  import ReactDOM from 'react-dom';\n  import { Router, Route, Switch, Link, matchPath } from 'react-router-dom';\n\n  import { createBrowserHistory } from 'history';\n\n  import * as Sentry from '@sentry/react';\n  import { Integrations } from '@sentry/tracing';\n\n  const history = createBrowserHistory();\n\n  const routes = [{ path: '/about' }, { path: '/user/:id' }, { path: '/' }];\n\n  Sentry.init({\n    dsn: \"http://xxxxxxxxxxxxxxxx@127.0.0.1:9000/3\",\n    environment: 'localhost',\n    integrations: [new Integrations.BrowserTracing({\n      routingInstrumentation: Sentry.reactRouterV5Instrumentation(history, routes, matchPath),\n    })],\n    tracesSampleRate: 1.0,\n    release: '0.0.1',\n  });\n\n  const App = () => {\n    function fn() {\n      console.log(window.a.b);\n    }\n    return (\n      <Router history={history}>\n        <>\n          <nav>\n            <ul>\n              <li>\n                <Link to=\"/\">Home</Link>\n              </li>\n              <li>\n                <Link to=\"/about\">About</Link>\n              </li>\n              <li>\n                <Link to=\"/user/1\">User1</Link>\n              </li>\n              <li>\n                <Link to=\"/user/2\">User2</Link>\n              </li>\n            </ul>\n          </nav>\n          <Switch>\n            <Route path=\"/about\" children={\n              () => <div>about</div>\n            } />\n            <Route path=\"/user/:id\" children={\n              () => <div>user</div>\n            } />\n            <Route exact path=\"/\" children={\n              () => <button onClick={fn}>Break the world</button>\n            } />\n          </Switch>\n        </>\n      </Router>\n    );\n  }\n\n  ReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n  ```\n\n- 然后我们再在`/user/1`、`/user/2`路由下刷新页面，查看上报的`transaction`，已经变成了一种: `/user/:id`\n\n  ![react-router-2](https://lixuelang.com/test/Sentry/pic/010/react-router-2.jpg)\n\n- 还有一种方式可以也达到这个目的：使用 `Sentry.withSentryRouting` 高阶组件包裹 `Route`，具体可以参考 [官方文档](https://docs.sentry.io/platforms/javascript/guides/react/configuration/integrations/react-router/)\n\n### 3. `Vue router` 导航操作检测\n\n[sentry 的 vue-router 配置](https://docs.sentry.io/platforms/javascript/guides/vue/configuration/integrations/vue-router/)\n\n```\nSentry.init({\n  Vue: Vue,\n  dsn: \"https://examplePublicKey@o0.ingest.sentry.io/0\",\n  tracesSampleRate: 1.0,\n  integrations: [\n    new Integrations.BrowserTracing({\n      // 加这行\n      routingInstrumentation: Sentry.vueRouterInstrumentation(router),\n    }),\n  ],\n  trackComponents: true,\n});\n```\n","slug":"Sentry监控部署010-路由监控和配置","published":1,"updated":"2021-11-20T14:48:54.614Z","_id":"ckw7w5lwk00006cv9606gd874","comments":1,"layout":"post","photos":[],"link":"","content":"<h1 id=\"Sentry-实战\"><a href=\"#Sentry-实战\" class=\"headerlink\" title=\"Sentry 实战\"></a>Sentry 实战</h1><h2 id=\"导航操作检测\"><a href=\"#导航操作检测\" class=\"headerlink\" title=\"导航操作检测\"></a>导航操作检测</h2><p>在前面<strong>页面加载与性能指标</strong>的介绍中，我们了解到性能信息都是有 <code>SDK</code> 的 <code>BrowserTracing</code> 功能采集的，而 <code>BrowserTracing</code> 除了采集页面加载性能指标外，还可以采集路由导航时的相关信息，这在单页面应用中非常有用</p>\n<h3 id=\"1-基本导航操作检测\"><a href=\"#1-基本导航操作检测\" class=\"headerlink\" title=\"1. 基本导航操作检测\"></a>1. 基本导航操作检测</h3><ul>\n<li><p>首先我们在前端项目中加上前端路由</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"># 安装React路由\nnpm i -S react-router-dom<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">// App.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> BrowserRouter <span class=\"token keyword\">as</span> Router<span class=\"token punctuation\">,</span> Switch<span class=\"token punctuation\">,</span> Link <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">.</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Router<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>nav<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span><span class=\"token operator\">></span>Home<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span><span class=\"token operator\">></span>About<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>nav<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Switch<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Router path<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span><span class=\"token operator\">></span>\n            about\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Router<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Router path<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>fn<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span>Break the world<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Router<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Switch<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Router<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>接下来我们打开页面 <code>localhost:9000</code>，点击<code>About</code>，跳转到<code>/about</code>页，可以看到此时 <code>SDK</code> 多上报了一条 <code>transaction</code></p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/010/router.jpg\" alt=\"router\"></p>\n</li>\n<li><p>过一会儿，在 <code>Sentry管理界面</code> -&gt; <code>Discover菜单 -&gt; All Events</code>中，我们可以看到刚才上报的 <code>transaction</code>: <code>/about</code>，点击打开详情</p>\n</li>\n<li><p>在 <code>Breadcrumbs</code> 中，我们可以看到这是一个 <code>TYPE</code> 为 <code>navigation</code>，<code>CATEGORY</code> 为 <code>navigation</code> 的 <code>transaction</code>，并告诉了我们 <code>from</code>，从 <code>/</code> 路由，<code>to</code>，跳转到了 <code>/about</code> 路由。</p>\n</li>\n<li><p>在跳转之前，经历了 <code>pageload</code>，和 <code>ui.click</code></p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/010/router-detail.jpg\" alt=\"router-detail\"></p>\n</li>\n</ul>\n<h3 id=\"2-React-router-导航操作检测\"><a href=\"#2-React-router-导航操作检测\" class=\"headerlink\" title=\"2. React router 导航操作检测\"></a>2. <code>React router</code> 导航操作检测</h3><ul>\n<li><p>目前为止，对于 <code>/user/:id</code> 的路由，不同的 <code>id</code>，上报的 <code>transaction</code> 名称是不同的，例如 <code>/user/1</code>、<code>/user/2</code>。</p>\n</li>\n<li><p>我们可以分别在 <code>/user/1</code>、<code>/user/2</code> 路由下刷新页面，然后在Sentry管理界面的Performance菜单里查看效果，会看到两条不同的 <code>TRANSACTION</code>: <code>/user/1</code>、<code>/user/2</code></p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/010/react-router-1.jpg\" alt=\"react-router-1\"></p>\n</li>\n<li><p>实际上我们希望他们是一条，预期应该显示: <code>/user/:id</code>，在 <code>React</code> 项目中，我们可以通过 <code>Sentry.reactRouterV5Instrumentation</code>配置。</p>\n</li>\n</ul>\n<h4 id=\"React-配置\"><a href=\"#React-配置\" class=\"headerlink\" title=\"React 配置\"></a><code>React</code> 配置</h4><ul>\n<li><p>安装history</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">npm i -S history@4<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p>配置 <code>React router</code> 集成</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">// index.js</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dom'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> Router<span class=\"token punctuation\">,</span> Route<span class=\"token punctuation\">,</span> Switch<span class=\"token punctuation\">,</span> Link<span class=\"token punctuation\">,</span> matchPath <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> createBrowserHistory <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'history'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Sentry <span class=\"token keyword\">from</span> <span class=\"token string\">'@sentry/react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> Integrations <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@sentry/tracing'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> history <span class=\"token operator\">=</span> <span class=\"token function\">createBrowserHistory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> routes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">&#123;</span> path<span class=\"token operator\">:</span> <span class=\"token string\">'/about'</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> path<span class=\"token operator\">:</span> <span class=\"token string\">'/user/:id'</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> path<span class=\"token operator\">:</span> <span class=\"token string\">'/'</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\nSentry<span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  dsn<span class=\"token operator\">:</span> <span class=\"token string\">\"http://xxxxxxxxxxxxxxxx@127.0.0.1:9000/3\"</span><span class=\"token punctuation\">,</span>\n  environment<span class=\"token operator\">:</span> <span class=\"token string\">'localhost'</span><span class=\"token punctuation\">,</span>\n  integrations<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Integrations<span class=\"token punctuation\">.</span>BrowserTracing</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n    routingInstrumentation<span class=\"token operator\">:</span> Sentry<span class=\"token punctuation\">.</span><span class=\"token function\">reactRouterV5Instrumentation</span><span class=\"token punctuation\">(</span>history<span class=\"token punctuation\">,</span> routes<span class=\"token punctuation\">,</span> matchPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  tracesSampleRate<span class=\"token operator\">:</span> <span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span>\n  release<span class=\"token operator\">:</span> <span class=\"token string\">'0.0.1'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">.</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Router history<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>history<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>nav<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span><span class=\"token operator\">></span>Home<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span><span class=\"token operator\">></span>About<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/user/1\"</span><span class=\"token operator\">></span>User1<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/user/2\"</span><span class=\"token operator\">></span>User2<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>nav<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Switch<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span> children<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>\n            <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>about<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/user/:id\"</span> children<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>\n            <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>user<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route exact path<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> children<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>\n            <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>fn<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span>Break the world<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Switch<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Router<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>React<span class=\"token punctuation\">.</span>StrictMode<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>App <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>React<span class=\"token punctuation\">.</span>StrictMode<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>然后我们再在<code>/user/1</code>、<code>/user/2</code>路由下刷新页面，查看上报的<code>transaction</code>，已经变成了一种: <code>/user/:id</code></p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/010/react-router-2.jpg\" alt=\"react-router-2\"></p>\n</li>\n<li><p>还有一种方式可以也达到这个目的：使用 <code>Sentry.withSentryRouting</code> 高阶组件包裹 <code>Route</code>，具体可以参考 <a href=\"https://docs.sentry.io/platforms/javascript/guides/react/configuration/integrations/react-router/\">官方文档</a></p>\n</li>\n</ul>\n<h3 id=\"3-Vue-router-导航操作检测\"><a href=\"#3-Vue-router-导航操作检测\" class=\"headerlink\" title=\"3. Vue router 导航操作检测\"></a>3. <code>Vue router</code> 导航操作检测</h3><p><a href=\"https://docs.sentry.io/platforms/javascript/guides/vue/configuration/integrations/vue-router/\">sentry 的 vue-router 配置</a></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Sentry.init(&#123;\n  Vue: Vue,\n  dsn: &quot;https:&#x2F;&#x2F;examplePublicKey@o0.ingest.sentry.io&#x2F;0&quot;,\n  tracesSampleRate: 1.0,\n  integrations: [\n    new Integrations.BrowserTracing(&#123;\n      &#x2F;&#x2F; 加这行\n      routingInstrumentation: Sentry.vueRouterInstrumentation(router),\n    &#125;),\n  ],\n  trackComponents: true,\n&#125;);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<h1 id=\"Sentry-实战\"><a href=\"#Sentry-实战\" class=\"headerlink\" title=\"Sentry 实战\"></a>Sentry 实战</h1><h2 id=\"导航操作检测\"><a href=\"#导航操作检测\" class=\"headerlink\" title=\"导航操作检测\"></a>导航操作检测</h2><p>在前面<strong>页面加载与性能指标</strong>的介绍中，我们了解到性能信息都是有 <code>SDK</code> 的 <code>BrowserTracing</code> 功能采集的，而 <code>BrowserTracing</code> 除了采集页面加载性能指标外，还可以采集路由导航时的相关信息，这在单页面应用中非常有用</p>\n<h3 id=\"1-基本导航操作检测\"><a href=\"#1-基本导航操作检测\" class=\"headerlink\" title=\"1. 基本导航操作检测\"></a>1. 基本导航操作检测</h3><ul>\n<li><p>首先我们在前端项目中加上前端路由</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"># 安装React路由\nnpm i -S react-router-dom<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">// App.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> BrowserRouter <span class=\"token keyword\">as</span> Router<span class=\"token punctuation\">,</span> Switch<span class=\"token punctuation\">,</span> Link <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">.</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Router<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>nav<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span><span class=\"token operator\">></span>Home<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span><span class=\"token operator\">></span>About<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>nav<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Switch<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Router path<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span><span class=\"token operator\">></span>\n            about\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Router<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Router path<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>fn<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span>Break the world<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Router<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Switch<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Router<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>接下来我们打开页面 <code>localhost:9000</code>，点击<code>About</code>，跳转到<code>/about</code>页，可以看到此时 <code>SDK</code> 多上报了一条 <code>transaction</code></p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/010/router.jpg\" alt=\"router\"></p>\n</li>\n<li><p>过一会儿，在 <code>Sentry管理界面</code> -&gt; <code>Discover菜单 -&gt; All Events</code>中，我们可以看到刚才上报的 <code>transaction</code>: <code>/about</code>，点击打开详情</p>\n</li>\n<li><p>在 <code>Breadcrumbs</code> 中，我们可以看到这是一个 <code>TYPE</code> 为 <code>navigation</code>，<code>CATEGORY</code> 为 <code>navigation</code> 的 <code>transaction</code>，并告诉了我们 <code>from</code>，从 <code>/</code> 路由，<code>to</code>，跳转到了 <code>/about</code> 路由。</p>\n</li>\n<li><p>在跳转之前，经历了 <code>pageload</code>，和 <code>ui.click</code></p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/010/router-detail.jpg\" alt=\"router-detail\"></p>\n</li>\n</ul>\n<h3 id=\"2-React-router-导航操作检测\"><a href=\"#2-React-router-导航操作检测\" class=\"headerlink\" title=\"2. React router 导航操作检测\"></a>2. <code>React router</code> 导航操作检测</h3><ul>\n<li><p>目前为止，对于 <code>/user/:id</code> 的路由，不同的 <code>id</code>，上报的 <code>transaction</code> 名称是不同的，例如 <code>/user/1</code>、<code>/user/2</code>。</p>\n</li>\n<li><p>我们可以分别在 <code>/user/1</code>、<code>/user/2</code> 路由下刷新页面，然后在Sentry管理界面的Performance菜单里查看效果，会看到两条不同的 <code>TRANSACTION</code>: <code>/user/1</code>、<code>/user/2</code></p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/010/react-router-1.jpg\" alt=\"react-router-1\"></p>\n</li>\n<li><p>实际上我们希望他们是一条，预期应该显示: <code>/user/:id</code>，在 <code>React</code> 项目中，我们可以通过 <code>Sentry.reactRouterV5Instrumentation</code>配置。</p>\n</li>\n</ul>\n<h4 id=\"React-配置\"><a href=\"#React-配置\" class=\"headerlink\" title=\"React 配置\"></a><code>React</code> 配置</h4><ul>\n<li><p>安装history</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">npm i -S history@4<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p>配置 <code>React router</code> 集成</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">// index.js</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dom'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> Router<span class=\"token punctuation\">,</span> Route<span class=\"token punctuation\">,</span> Switch<span class=\"token punctuation\">,</span> Link<span class=\"token punctuation\">,</span> matchPath <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> createBrowserHistory <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'history'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Sentry <span class=\"token keyword\">from</span> <span class=\"token string\">'@sentry/react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> Integrations <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@sentry/tracing'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> history <span class=\"token operator\">=</span> <span class=\"token function\">createBrowserHistory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> routes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">&#123;</span> path<span class=\"token operator\">:</span> <span class=\"token string\">'/about'</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> path<span class=\"token operator\">:</span> <span class=\"token string\">'/user/:id'</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> path<span class=\"token operator\">:</span> <span class=\"token string\">'/'</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\nSentry<span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  dsn<span class=\"token operator\">:</span> <span class=\"token string\">\"http://xxxxxxxxxxxxxxxx@127.0.0.1:9000/3\"</span><span class=\"token punctuation\">,</span>\n  environment<span class=\"token operator\">:</span> <span class=\"token string\">'localhost'</span><span class=\"token punctuation\">,</span>\n  integrations<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Integrations<span class=\"token punctuation\">.</span>BrowserTracing</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n    routingInstrumentation<span class=\"token operator\">:</span> Sentry<span class=\"token punctuation\">.</span><span class=\"token function\">reactRouterV5Instrumentation</span><span class=\"token punctuation\">(</span>history<span class=\"token punctuation\">,</span> routes<span class=\"token punctuation\">,</span> matchPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  tracesSampleRate<span class=\"token operator\">:</span> <span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span>\n  release<span class=\"token operator\">:</span> <span class=\"token string\">'0.0.1'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">.</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Router history<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>history<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>nav<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span><span class=\"token operator\">></span>Home<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span><span class=\"token operator\">></span>About<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/user/1\"</span><span class=\"token operator\">></span>User1<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/user/2\"</span><span class=\"token operator\">></span>User2<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>nav<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Switch<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span> children<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>\n            <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>about<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/user/:id\"</span> children<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>\n            <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>user<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route exact path<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> children<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>\n            <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>fn<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span>Break the world<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Switch<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Router<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>React<span class=\"token punctuation\">.</span>StrictMode<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>App <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>React<span class=\"token punctuation\">.</span>StrictMode<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>然后我们再在<code>/user/1</code>、<code>/user/2</code>路由下刷新页面，查看上报的<code>transaction</code>，已经变成了一种: <code>/user/:id</code></p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/010/react-router-2.jpg\" alt=\"react-router-2\"></p>\n</li>\n<li><p>还有一种方式可以也达到这个目的：使用 <code>Sentry.withSentryRouting</code> 高阶组件包裹 <code>Route</code>，具体可以参考 <a href=\"https://docs.sentry.io/platforms/javascript/guides/react/configuration/integrations/react-router/\">官方文档</a></p>\n</li>\n</ul>\n<h3 id=\"3-Vue-router-导航操作检测\"><a href=\"#3-Vue-router-导航操作检测\" class=\"headerlink\" title=\"3. Vue router 导航操作检测\"></a>3. <code>Vue router</code> 导航操作检测</h3><p><a href=\"https://docs.sentry.io/platforms/javascript/guides/vue/configuration/integrations/vue-router/\">sentry 的 vue-router 配置</a></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Sentry.init(&#123;\n  Vue: Vue,\n  dsn: &quot;https:&#x2F;&#x2F;examplePublicKey@o0.ingest.sentry.io&#x2F;0&quot;,\n  tracesSampleRate: 1.0,\n  integrations: [\n    new Integrations.BrowserTracing(&#123;\n      &#x2F;&#x2F; 加这行\n      routingInstrumentation: Sentry.vueRouterInstrumentation(router),\n    &#125;),\n  ],\n  trackComponents: true,\n&#125;);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"layout":"rust","title":"WebAssembly实战000-总结之前笔记","date":"2021-11-22T13:43:49.000Z","_content":"\n### 一、备用链接\n\n> 应用场景: 读取音视频、图像、大文件、加解密、视频编辑、游戏、CAD建模、三维地图(Google Earth)、3D渲染、AR/VR直播应用、多人实时协作工具、人像分割技术在RTC领域的应用、图像识别、平台仿真、虚拟专用网\n  \n> 下载wasm-pack: https://rustwasm.github.io/wasm-pack/installer/  \n> 应用: https://imweb.io/topic/5c06b8b0611a25cc7bf1d7d5  \n> 报错: https://www.manongdao.com/article-2268301.html  \n> 加载: https://segmentfault.com/a/1190000008402872  \n> 加载2: https://juejin.cn/post/6844903661982728200  \n> js编译webassembly: Walt  \n  \n> Rust和WebAssembly: https://rustwasm.github.io/docs/book/  \n> wasm-bindgen指南: https://rustwasm.github.io/docs/wasm-bindgen/examples/index.html\n\n### 二、初探Rust WebAssembly使用(网上教程)\n\n#### 1.安装 WASM 工具链\n\n1.1) 安装 `cargo install wasm-pack` , linux通过命令安装, window使用 [wasm-pack-init.exe](https://rustwasm.github.io/wasm-pack/installer/) 安装\n\n2.2) 安装 `cargo install cargo-generate` , 用于快速生成脚手架\n\n#### 2.创建脚手架\n\n```shell\ncargo generate --git https://github.com/rustwasm/wasm-pack-template\n```\n\n#### 3.添加内容\n\nlib.rs\n\n```rust\nuse wasm_bindgen::prelude::*;  \n\n#[wasm_bindgen]\npub fn fib(i: u32) -> u32 {\n    match i {\n        0 => 0,\n        1 => 1,\n        _ => fib(i-1) + fib(i-2)\n    }\n}\n```\n\nCargo.toml\n\n```\n[dev-dependencies]\nwasm-bindgen-test = \"0.3.13\"\ncfg-if = \"0.1\"\nwasm-bindgen = \"0.2.74\"\n```\n\n#### 4.编译WASM模块\n\n```shell\nwasm-pack build\n```\n\n#### 5.JS运行WASM\n\n5.1) 拷贝*.wasm文件\n\n5.2) 项目引入*.wasm文件, 执行wasm内部方法\n\n- 引入方式一: \n\n```javascript\nfunction loadWebAssembly (path, imports = {}) {\n    return fetch(path)\n        .then(response => response.arrayBuffer())\n        .then(buffer => WebAssembly.compile(buffer))\n        .then(module => {\n            imports.env = imports.env || {}\n\n            // 开辟内存空间\n            imports.env.memoryBase = imports.env.memoryBase || 0\n            if (!imports.env.memory) {\n                imports.env.memory = new WebAssembly.Memory({ initial: 256 })\n            }\n\n            // 创建变量映射表\n            imports.env.tableBase = imports.env.tableBase || 0\n            if (!imports.env.table) {\n                // 在 MVP 版本中 element 只能是 \"anyfunc\"\n                imports.env.table = new WebAssembly.Table({ initial: 0, element: 'anyfunc' })\n            }\n\n            // 创建 WebAssembly 实例\n            return new WebAssembly.Instance(module, imports)\n        })\n}\n```\n\n---\n\n```javascript\n\nloadWebAssembly('./utils/wams_demo_bg.wasm')\n    .then(instance => {\n        console.time('wasm');\n        console.log(instance.exports.fib(45));\n        console.timeEnd('wasm');    // 10088.003173828125 ms\n    })\n\nfunction fib(i) {\n    if (i === 0)  return 0;\n    if (i === 1)  return 1;\n    return fib(i - 1) + fib(i - 2);\n}\n\nconsole.time('js');\nconsole.log(fib(45));\nconsole.timeEnd('js'); // 21470.55810546875 ms\n```\n\n\n- 引入方式二: \n\n```javascript\nfunction loadWebAssembly_02(path) {\n    return fetch(path)\n        .then(res => res.arrayBuffer())\n        .then(buffer => WebAssembly.compile(buffer))\n        .then ( module => {\n            var imports = {env: {}};\n            Object.assign(imports.env, {\n                memoryBase:0,\n                tableBase:0,\n                memory:new WebAssembly.Memory({ initial: 256, maximum: 256}),\n                table: new WebAssembly.Table({ initial: 0, maximum:0, element:'anyfunc' })\n            })\n            return new WebAssembly.Instance(module, imports);\n        })\n}\n```\n\n\n### 三、问题\n1.前端不需要插件来解析wasm\n\n2.不使用相对路径时，加一下webpack配置\n\n```\nrules: [\n    {\n        test: /\\.wasm$/,\n        use: \"url-loader\"\n    },\n]\n```\n\n3.fetch不允许请求本地文件（file://），不能直接跑html，需要用服务器启动(cmd -> http-server)\n\n4.报错\n\n```\nUncaught (in promise) TypeError: Incorrect response MIME type. Expected 'application/wasm'.\n    at <anonymous>\n \n解决方式: \n由于MIME-TYPE不对，期望.wasm 文件的响应头的Content-Type字段值为\"application/wasm\"，而不是\"application/octet-stream; charset=UTF-8\"。服务端必须对.wasm文件做正确的MIME类型的配置，发送Content-Type: application/wasm 头。\n\n链接: https://blog.csdn.net/weixin_30527143/article/details/96297791\n```\n\n5.打包问题\n\n通过上面整合到项目的wasm, 直接打包就好(配置一下静态文件夹的打包)\n\n如果不想多一个wasm文件, 可以直接将wasm转二进制/base64写死在代码里","source":"_posts/WebAssembly实战000-总结之前笔记.md","raw":"---\nlayout: rust\ntitle: WebAssembly实战000-总结之前笔记\ndate: 2021-11-22 21:43:49\ncategories:  \n- [window, Rust, WebAssembly]  \ntags:  \n- window\n- Rust\n- WebAssembly\n---\n\n### 一、备用链接\n\n> 应用场景: 读取音视频、图像、大文件、加解密、视频编辑、游戏、CAD建模、三维地图(Google Earth)、3D渲染、AR/VR直播应用、多人实时协作工具、人像分割技术在RTC领域的应用、图像识别、平台仿真、虚拟专用网\n  \n> 下载wasm-pack: https://rustwasm.github.io/wasm-pack/installer/  \n> 应用: https://imweb.io/topic/5c06b8b0611a25cc7bf1d7d5  \n> 报错: https://www.manongdao.com/article-2268301.html  \n> 加载: https://segmentfault.com/a/1190000008402872  \n> 加载2: https://juejin.cn/post/6844903661982728200  \n> js编译webassembly: Walt  \n  \n> Rust和WebAssembly: https://rustwasm.github.io/docs/book/  \n> wasm-bindgen指南: https://rustwasm.github.io/docs/wasm-bindgen/examples/index.html\n\n### 二、初探Rust WebAssembly使用(网上教程)\n\n#### 1.安装 WASM 工具链\n\n1.1) 安装 `cargo install wasm-pack` , linux通过命令安装, window使用 [wasm-pack-init.exe](https://rustwasm.github.io/wasm-pack/installer/) 安装\n\n2.2) 安装 `cargo install cargo-generate` , 用于快速生成脚手架\n\n#### 2.创建脚手架\n\n```shell\ncargo generate --git https://github.com/rustwasm/wasm-pack-template\n```\n\n#### 3.添加内容\n\nlib.rs\n\n```rust\nuse wasm_bindgen::prelude::*;  \n\n#[wasm_bindgen]\npub fn fib(i: u32) -> u32 {\n    match i {\n        0 => 0,\n        1 => 1,\n        _ => fib(i-1) + fib(i-2)\n    }\n}\n```\n\nCargo.toml\n\n```\n[dev-dependencies]\nwasm-bindgen-test = \"0.3.13\"\ncfg-if = \"0.1\"\nwasm-bindgen = \"0.2.74\"\n```\n\n#### 4.编译WASM模块\n\n```shell\nwasm-pack build\n```\n\n#### 5.JS运行WASM\n\n5.1) 拷贝*.wasm文件\n\n5.2) 项目引入*.wasm文件, 执行wasm内部方法\n\n- 引入方式一: \n\n```javascript\nfunction loadWebAssembly (path, imports = {}) {\n    return fetch(path)\n        .then(response => response.arrayBuffer())\n        .then(buffer => WebAssembly.compile(buffer))\n        .then(module => {\n            imports.env = imports.env || {}\n\n            // 开辟内存空间\n            imports.env.memoryBase = imports.env.memoryBase || 0\n            if (!imports.env.memory) {\n                imports.env.memory = new WebAssembly.Memory({ initial: 256 })\n            }\n\n            // 创建变量映射表\n            imports.env.tableBase = imports.env.tableBase || 0\n            if (!imports.env.table) {\n                // 在 MVP 版本中 element 只能是 \"anyfunc\"\n                imports.env.table = new WebAssembly.Table({ initial: 0, element: 'anyfunc' })\n            }\n\n            // 创建 WebAssembly 实例\n            return new WebAssembly.Instance(module, imports)\n        })\n}\n```\n\n---\n\n```javascript\n\nloadWebAssembly('./utils/wams_demo_bg.wasm')\n    .then(instance => {\n        console.time('wasm');\n        console.log(instance.exports.fib(45));\n        console.timeEnd('wasm');    // 10088.003173828125 ms\n    })\n\nfunction fib(i) {\n    if (i === 0)  return 0;\n    if (i === 1)  return 1;\n    return fib(i - 1) + fib(i - 2);\n}\n\nconsole.time('js');\nconsole.log(fib(45));\nconsole.timeEnd('js'); // 21470.55810546875 ms\n```\n\n\n- 引入方式二: \n\n```javascript\nfunction loadWebAssembly_02(path) {\n    return fetch(path)\n        .then(res => res.arrayBuffer())\n        .then(buffer => WebAssembly.compile(buffer))\n        .then ( module => {\n            var imports = {env: {}};\n            Object.assign(imports.env, {\n                memoryBase:0,\n                tableBase:0,\n                memory:new WebAssembly.Memory({ initial: 256, maximum: 256}),\n                table: new WebAssembly.Table({ initial: 0, maximum:0, element:'anyfunc' })\n            })\n            return new WebAssembly.Instance(module, imports);\n        })\n}\n```\n\n\n### 三、问题\n1.前端不需要插件来解析wasm\n\n2.不使用相对路径时，加一下webpack配置\n\n```\nrules: [\n    {\n        test: /\\.wasm$/,\n        use: \"url-loader\"\n    },\n]\n```\n\n3.fetch不允许请求本地文件（file://），不能直接跑html，需要用服务器启动(cmd -> http-server)\n\n4.报错\n\n```\nUncaught (in promise) TypeError: Incorrect response MIME type. Expected 'application/wasm'.\n    at <anonymous>\n \n解决方式: \n由于MIME-TYPE不对，期望.wasm 文件的响应头的Content-Type字段值为\"application/wasm\"，而不是\"application/octet-stream; charset=UTF-8\"。服务端必须对.wasm文件做正确的MIME类型的配置，发送Content-Type: application/wasm 头。\n\n链接: https://blog.csdn.net/weixin_30527143/article/details/96297791\n```\n\n5.打包问题\n\n通过上面整合到项目的wasm, 直接打包就好(配置一下静态文件夹的打包)\n\n如果不想多一个wasm文件, 可以直接将wasm转二进制/base64写死在代码里","slug":"WebAssembly实战000-总结之前笔记","published":1,"updated":"2021-11-22T12:18:37.702Z","_id":"ckw8p6jup0000okv92dv520tf","comments":1,"photos":[],"link":"","content":"<h3 id=\"一、备用链接\"><a href=\"#一、备用链接\" class=\"headerlink\" title=\"一、备用链接\"></a>一、备用链接</h3><blockquote>\n<p>应用场景: 读取音视频、图像、大文件、加解密、视频编辑、游戏、CAD建模、三维地图(Google Earth)、3D渲染、AR/VR直播应用、多人实时协作工具、人像分割技术在RTC领域的应用、图像识别、平台仿真、虚拟专用网</p>\n</blockquote>\n<blockquote>\n<p>下载wasm-pack: <a href=\"https://rustwasm.github.io/wasm-pack/installer/\">https://rustwasm.github.io/wasm-pack/installer/</a><br>应用: <a href=\"https://imweb.io/topic/5c06b8b0611a25cc7bf1d7d5\">https://imweb.io/topic/5c06b8b0611a25cc7bf1d7d5</a><br>报错: <a href=\"https://www.manongdao.com/article-2268301.html\">https://www.manongdao.com/article-2268301.html</a><br>加载: <a href=\"https://segmentfault.com/a/1190000008402872\">https://segmentfault.com/a/1190000008402872</a><br>加载2: <a href=\"https://juejin.cn/post/6844903661982728200\">https://juejin.cn/post/6844903661982728200</a><br>js编译webassembly: Walt  </p>\n</blockquote>\n<blockquote>\n<p>Rust和WebAssembly: <a href=\"https://rustwasm.github.io/docs/book/\">https://rustwasm.github.io/docs/book/</a><br>wasm-bindgen指南: <a href=\"https://rustwasm.github.io/docs/wasm-bindgen/examples/index.html\">https://rustwasm.github.io/docs/wasm-bindgen/examples/index.html</a></p>\n</blockquote>\n<h3 id=\"二、初探Rust-WebAssembly使用-网上教程\"><a href=\"#二、初探Rust-WebAssembly使用-网上教程\" class=\"headerlink\" title=\"二、初探Rust WebAssembly使用(网上教程)\"></a>二、初探Rust WebAssembly使用(网上教程)</h3><h4 id=\"1-安装-WASM-工具链\"><a href=\"#1-安装-WASM-工具链\" class=\"headerlink\" title=\"1.安装 WASM 工具链\"></a>1.安装 WASM 工具链</h4><p>1.1) 安装 <code>cargo install wasm-pack</code> , linux通过命令安装, window使用 <a href=\"https://rustwasm.github.io/wasm-pack/installer/\">wasm-pack-init.exe</a> 安装</p>\n<p>2.2) 安装 <code>cargo install cargo-generate</code> , 用于快速生成脚手架</p>\n<h4 id=\"2-创建脚手架\"><a href=\"#2-创建脚手架\" class=\"headerlink\" title=\"2.创建脚手架\"></a>2.创建脚手架</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">cargo generate --git https:&#x2F;&#x2F;github.com&#x2F;rustwasm&#x2F;wasm-pack-template<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-添加内容\"><a href=\"#3-添加内容\" class=\"headerlink\" title=\"3.添加内容\"></a>3.添加内容</h4><p>lib.rs</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\">use wasm_bindgen::prelude::*;  \n\n#[wasm_bindgen]\npub fn fib(i: u32) -&gt; u32 &#123;\n    match i &#123;\n        0 &#x3D;&gt; 0,\n        1 &#x3D;&gt; 1,\n        _ &#x3D;&gt; fib(i-1) + fib(i-2)\n    &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Cargo.toml</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[dev-dependencies]\nwasm-bindgen-test &#x3D; &quot;0.3.13&quot;\ncfg-if &#x3D; &quot;0.1&quot;\nwasm-bindgen &#x3D; &quot;0.2.74&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"4-编译WASM模块\"><a href=\"#4-编译WASM模块\" class=\"headerlink\" title=\"4.编译WASM模块\"></a>4.编译WASM模块</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">wasm-pack build<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"5-JS运行WASM\"><a href=\"#5-JS运行WASM\" class=\"headerlink\" title=\"5.JS运行WASM\"></a>5.JS运行WASM</h4><p>5.1) 拷贝*.wasm文件</p>\n<p>5.2) 项目引入*.wasm文件, 执行wasm内部方法</p>\n<ul>\n<li>引入方式一: </li>\n</ul>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">loadWebAssembly</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">path<span class=\"token punctuation\">,</span> imports <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> response<span class=\"token punctuation\">.</span><span class=\"token function\">arrayBuffer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">buffer</span> <span class=\"token operator\">=></span> WebAssembly<span class=\"token punctuation\">.</span><span class=\"token function\">compile</span><span class=\"token punctuation\">(</span>buffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">module</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n            imports<span class=\"token punctuation\">.</span>env <span class=\"token operator\">=</span> imports<span class=\"token punctuation\">.</span>env <span class=\"token operator\">||</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n\n            <span class=\"token comment\">// 开辟内存空间</span>\n            imports<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>memoryBase <span class=\"token operator\">=</span> imports<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>memoryBase <span class=\"token operator\">||</span> <span class=\"token number\">0</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>imports<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>memory<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                imports<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>memory <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">WebAssembly<span class=\"token punctuation\">.</span>Memory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> initial<span class=\"token operator\">:</span> <span class=\"token number\">256</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">&#125;</span>\n\n            <span class=\"token comment\">// 创建变量映射表</span>\n            imports<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>tableBase <span class=\"token operator\">=</span> imports<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>tableBase <span class=\"token operator\">||</span> <span class=\"token number\">0</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>imports<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>table<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token comment\">// 在 MVP 版本中 element 只能是 \"anyfunc\"</span>\n                imports<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>table <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">WebAssembly<span class=\"token punctuation\">.</span>Table</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> initial<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> element<span class=\"token operator\">:</span> <span class=\"token string\">'anyfunc'</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">&#125;</span>\n\n            <span class=\"token comment\">// 创建 WebAssembly 实例</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">WebAssembly<span class=\"token punctuation\">.</span>Instance</span><span class=\"token punctuation\">(</span>module<span class=\"token punctuation\">,</span> imports<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<hr>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">\n<span class=\"token function\">loadWebAssembly</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./utils/wams_demo_bg.wasm'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">instance</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">time</span><span class=\"token punctuation\">(</span><span class=\"token string\">'wasm'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>instance<span class=\"token punctuation\">.</span>exports<span class=\"token punctuation\">.</span><span class=\"token function\">fib</span><span class=\"token punctuation\">(</span><span class=\"token number\">45</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">timeEnd</span><span class=\"token punctuation\">(</span><span class=\"token string\">'wasm'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// 10088.003173828125 ms</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">fib</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">i</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>  <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">===</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>  <span class=\"token keyword\">return</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">fib</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token function\">fib</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">-</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">time</span><span class=\"token punctuation\">(</span><span class=\"token string\">'js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">fib</span><span class=\"token punctuation\">(</span><span class=\"token number\">45</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">timeEnd</span><span class=\"token punctuation\">(</span><span class=\"token string\">'js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 21470.55810546875 ms</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n<ul>\n<li>引入方式二: </li>\n</ul>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">loadWebAssembly_02</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">path</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> res<span class=\"token punctuation\">.</span><span class=\"token function\">arrayBuffer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">buffer</span> <span class=\"token operator\">=></span> WebAssembly<span class=\"token punctuation\">.</span><span class=\"token function\">compile</span><span class=\"token punctuation\">(</span>buffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span> <span class=\"token punctuation\">(</span> <span class=\"token parameter\">module</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">var</span> imports <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>env<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n            Object<span class=\"token punctuation\">.</span><span class=\"token function\">assign</span><span class=\"token punctuation\">(</span>imports<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n                memoryBase<span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n                tableBase<span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n                memory<span class=\"token operator\">:</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">WebAssembly<span class=\"token punctuation\">.</span>Memory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> initial<span class=\"token operator\">:</span> <span class=\"token number\">256</span><span class=\"token punctuation\">,</span> maximum<span class=\"token operator\">:</span> <span class=\"token number\">256</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                table<span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">WebAssembly<span class=\"token punctuation\">.</span>Table</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> initial<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> maximum<span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> element<span class=\"token operator\">:</span><span class=\"token string\">'anyfunc'</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">WebAssembly<span class=\"token punctuation\">.</span>Instance</span><span class=\"token punctuation\">(</span>module<span class=\"token punctuation\">,</span> imports<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n<h3 id=\"三、问题\"><a href=\"#三、问题\" class=\"headerlink\" title=\"三、问题\"></a>三、问题</h3><p>1.前端不需要插件来解析wasm</p>\n<p>2.不使用相对路径时，加一下webpack配置</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">rules: [\n    &#123;\n        test: &#x2F;\\.wasm$&#x2F;,\n        use: &quot;url-loader&quot;\n    &#125;,\n]<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>3.fetch不允许请求本地文件（file://），不能直接跑html，需要用服务器启动(cmd -&gt; http-server)</p>\n<p>4.报错</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Uncaught (in promise) TypeError: Incorrect response MIME type. Expected &#39;application&#x2F;wasm&#39;.\n    at &lt;anonymous&gt;\n \n解决方式: \n由于MIME-TYPE不对，期望.wasm 文件的响应头的Content-Type字段值为&quot;application&#x2F;wasm&quot;，而不是&quot;application&#x2F;octet-stream; charset&#x3D;UTF-8&quot;。服务端必须对.wasm文件做正确的MIME类型的配置，发送Content-Type: application&#x2F;wasm 头。\n\n链接: https:&#x2F;&#x2F;blog.csdn.net&#x2F;weixin_30527143&#x2F;article&#x2F;details&#x2F;96297791<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>5.打包问题</p>\n<p>通过上面整合到项目的wasm, 直接打包就好(配置一下静态文件夹的打包)</p>\n<p>如果不想多一个wasm文件, 可以直接将wasm转二进制/base64写死在代码里</p>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<h3 id=\"一、备用链接\"><a href=\"#一、备用链接\" class=\"headerlink\" title=\"一、备用链接\"></a>一、备用链接</h3><blockquote>\n<p>应用场景: 读取音视频、图像、大文件、加解密、视频编辑、游戏、CAD建模、三维地图(Google Earth)、3D渲染、AR/VR直播应用、多人实时协作工具、人像分割技术在RTC领域的应用、图像识别、平台仿真、虚拟专用网</p>\n</blockquote>\n<blockquote>\n<p>下载wasm-pack: <a href=\"https://rustwasm.github.io/wasm-pack/installer/\">https://rustwasm.github.io/wasm-pack/installer/</a><br>应用: <a href=\"https://imweb.io/topic/5c06b8b0611a25cc7bf1d7d5\">https://imweb.io/topic/5c06b8b0611a25cc7bf1d7d5</a><br>报错: <a href=\"https://www.manongdao.com/article-2268301.html\">https://www.manongdao.com/article-2268301.html</a><br>加载: <a href=\"https://segmentfault.com/a/1190000008402872\">https://segmentfault.com/a/1190000008402872</a><br>加载2: <a href=\"https://juejin.cn/post/6844903661982728200\">https://juejin.cn/post/6844903661982728200</a><br>js编译webassembly: Walt  </p>\n</blockquote>\n<blockquote>\n<p>Rust和WebAssembly: <a href=\"https://rustwasm.github.io/docs/book/\">https://rustwasm.github.io/docs/book/</a><br>wasm-bindgen指南: <a href=\"https://rustwasm.github.io/docs/wasm-bindgen/examples/index.html\">https://rustwasm.github.io/docs/wasm-bindgen/examples/index.html</a></p>\n</blockquote>\n<h3 id=\"二、初探Rust-WebAssembly使用-网上教程\"><a href=\"#二、初探Rust-WebAssembly使用-网上教程\" class=\"headerlink\" title=\"二、初探Rust WebAssembly使用(网上教程)\"></a>二、初探Rust WebAssembly使用(网上教程)</h3><h4 id=\"1-安装-WASM-工具链\"><a href=\"#1-安装-WASM-工具链\" class=\"headerlink\" title=\"1.安装 WASM 工具链\"></a>1.安装 WASM 工具链</h4><p>1.1) 安装 <code>cargo install wasm-pack</code> , linux通过命令安装, window使用 <a href=\"https://rustwasm.github.io/wasm-pack/installer/\">wasm-pack-init.exe</a> 安装</p>\n<p>2.2) 安装 <code>cargo install cargo-generate</code> , 用于快速生成脚手架</p>\n<h4 id=\"2-创建脚手架\"><a href=\"#2-创建脚手架\" class=\"headerlink\" title=\"2.创建脚手架\"></a>2.创建脚手架</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">cargo generate --git https:&#x2F;&#x2F;github.com&#x2F;rustwasm&#x2F;wasm-pack-template<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-添加内容\"><a href=\"#3-添加内容\" class=\"headerlink\" title=\"3.添加内容\"></a>3.添加内容</h4><p>lib.rs</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\">use wasm_bindgen::prelude::*;  \n\n#[wasm_bindgen]\npub fn fib(i: u32) -&gt; u32 &#123;\n    match i &#123;\n        0 &#x3D;&gt; 0,\n        1 &#x3D;&gt; 1,\n        _ &#x3D;&gt; fib(i-1) + fib(i-2)\n    &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Cargo.toml</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[dev-dependencies]\nwasm-bindgen-test &#x3D; &quot;0.3.13&quot;\ncfg-if &#x3D; &quot;0.1&quot;\nwasm-bindgen &#x3D; &quot;0.2.74&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"4-编译WASM模块\"><a href=\"#4-编译WASM模块\" class=\"headerlink\" title=\"4.编译WASM模块\"></a>4.编译WASM模块</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">wasm-pack build<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"5-JS运行WASM\"><a href=\"#5-JS运行WASM\" class=\"headerlink\" title=\"5.JS运行WASM\"></a>5.JS运行WASM</h4><p>5.1) 拷贝*.wasm文件</p>\n<p>5.2) 项目引入*.wasm文件, 执行wasm内部方法</p>\n<ul>\n<li>引入方式一: </li>\n</ul>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">loadWebAssembly</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">path<span class=\"token punctuation\">,</span> imports <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> response<span class=\"token punctuation\">.</span><span class=\"token function\">arrayBuffer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">buffer</span> <span class=\"token operator\">=></span> WebAssembly<span class=\"token punctuation\">.</span><span class=\"token function\">compile</span><span class=\"token punctuation\">(</span>buffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">module</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n            imports<span class=\"token punctuation\">.</span>env <span class=\"token operator\">=</span> imports<span class=\"token punctuation\">.</span>env <span class=\"token operator\">||</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n\n            <span class=\"token comment\">// 开辟内存空间</span>\n            imports<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>memoryBase <span class=\"token operator\">=</span> imports<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>memoryBase <span class=\"token operator\">||</span> <span class=\"token number\">0</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>imports<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>memory<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                imports<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>memory <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">WebAssembly<span class=\"token punctuation\">.</span>Memory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> initial<span class=\"token operator\">:</span> <span class=\"token number\">256</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">&#125;</span>\n\n            <span class=\"token comment\">// 创建变量映射表</span>\n            imports<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>tableBase <span class=\"token operator\">=</span> imports<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>tableBase <span class=\"token operator\">||</span> <span class=\"token number\">0</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>imports<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>table<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token comment\">// 在 MVP 版本中 element 只能是 \"anyfunc\"</span>\n                imports<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>table <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">WebAssembly<span class=\"token punctuation\">.</span>Table</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> initial<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> element<span class=\"token operator\">:</span> <span class=\"token string\">'anyfunc'</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">&#125;</span>\n\n            <span class=\"token comment\">// 创建 WebAssembly 实例</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">WebAssembly<span class=\"token punctuation\">.</span>Instance</span><span class=\"token punctuation\">(</span>module<span class=\"token punctuation\">,</span> imports<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<hr>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">\n<span class=\"token function\">loadWebAssembly</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./utils/wams_demo_bg.wasm'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">instance</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">time</span><span class=\"token punctuation\">(</span><span class=\"token string\">'wasm'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>instance<span class=\"token punctuation\">.</span>exports<span class=\"token punctuation\">.</span><span class=\"token function\">fib</span><span class=\"token punctuation\">(</span><span class=\"token number\">45</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">timeEnd</span><span class=\"token punctuation\">(</span><span class=\"token string\">'wasm'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// 10088.003173828125 ms</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">fib</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">i</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>  <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">===</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>  <span class=\"token keyword\">return</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">fib</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token function\">fib</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">-</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">time</span><span class=\"token punctuation\">(</span><span class=\"token string\">'js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">fib</span><span class=\"token punctuation\">(</span><span class=\"token number\">45</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">timeEnd</span><span class=\"token punctuation\">(</span><span class=\"token string\">'js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 21470.55810546875 ms</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n<ul>\n<li>引入方式二: </li>\n</ul>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">loadWebAssembly_02</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">path</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> res<span class=\"token punctuation\">.</span><span class=\"token function\">arrayBuffer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">buffer</span> <span class=\"token operator\">=></span> WebAssembly<span class=\"token punctuation\">.</span><span class=\"token function\">compile</span><span class=\"token punctuation\">(</span>buffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span> <span class=\"token punctuation\">(</span> <span class=\"token parameter\">module</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">var</span> imports <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>env<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n            Object<span class=\"token punctuation\">.</span><span class=\"token function\">assign</span><span class=\"token punctuation\">(</span>imports<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n                memoryBase<span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n                tableBase<span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n                memory<span class=\"token operator\">:</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">WebAssembly<span class=\"token punctuation\">.</span>Memory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> initial<span class=\"token operator\">:</span> <span class=\"token number\">256</span><span class=\"token punctuation\">,</span> maximum<span class=\"token operator\">:</span> <span class=\"token number\">256</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                table<span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">WebAssembly<span class=\"token punctuation\">.</span>Table</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> initial<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> maximum<span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> element<span class=\"token operator\">:</span><span class=\"token string\">'anyfunc'</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">WebAssembly<span class=\"token punctuation\">.</span>Instance</span><span class=\"token punctuation\">(</span>module<span class=\"token punctuation\">,</span> imports<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n<h3 id=\"三、问题\"><a href=\"#三、问题\" class=\"headerlink\" title=\"三、问题\"></a>三、问题</h3><p>1.前端不需要插件来解析wasm</p>\n<p>2.不使用相对路径时，加一下webpack配置</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">rules: [\n    &#123;\n        test: &#x2F;\\.wasm$&#x2F;,\n        use: &quot;url-loader&quot;\n    &#125;,\n]<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>3.fetch不允许请求本地文件（file://），不能直接跑html，需要用服务器启动(cmd -&gt; http-server)</p>\n<p>4.报错</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Uncaught (in promise) TypeError: Incorrect response MIME type. Expected &#39;application&#x2F;wasm&#39;.\n    at &lt;anonymous&gt;\n \n解决方式: \n由于MIME-TYPE不对，期望.wasm 文件的响应头的Content-Type字段值为&quot;application&#x2F;wasm&quot;，而不是&quot;application&#x2F;octet-stream; charset&#x3D;UTF-8&quot;。服务端必须对.wasm文件做正确的MIME类型的配置，发送Content-Type: application&#x2F;wasm 头。\n\n链接: https:&#x2F;&#x2F;blog.csdn.net&#x2F;weixin_30527143&#x2F;article&#x2F;details&#x2F;96297791<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>5.打包问题</p>\n<p>通过上面整合到项目的wasm, 直接打包就好(配置一下静态文件夹的打包)</p>\n<p>如果不想多一个wasm文件, 可以直接将wasm转二进制/base64写死在代码里</p>\n"},{"layout":"rust","title":"WebAssembly实战001-初体验","date":"2021-11-22T13:43:55.000Z","_content":"\n### 一、为何是Rust和WebAssembly？\n\n- 低水平控制与高水平的人体工程学 JavaScript Web应用程序很难获得和保持可靠的性能。Rust为程序员提供了低级别的控制和可靠的性能。\n\n- 较小的.wasm 代码大小非常重要，因为 .wasm必须通过网络下载。Rust没有运行时，因此支持较小的.Wasm。\n\n- 不用全部重写 使用Rust并不是将现有的代码扔掉，我们可以将部分js函数转换成Rust代码。\n\n- 和其它的和善相处 Rust和WebAssembly与现有JavaScript工具集成，支持ECMAScript模块，你可以继续使用之前的工具，如npm、Webpack。\n\n- 便利的基础设施 Rust中拥有开发者所期望的便利的工具，如：Cargo、零成本抽象、开放热情的社区。\n\n### 二、WebAssembly是什么？\n\nWebAssembly（wasm）是一种简单的机器模型和具有广泛规范的可执行格式。它被设计成可移植的、紧凑的，并且以或接近本机速度执行。\n\nWebAssembly有两种表示相同结构的格式：\n\n- wat 文本格式（WebAssembly Text）使用S表达式，和Lisp家族的语言有些类似；\n\n- wasm二进制格式，级别较低，直接供wasm虚拟机使用，它在概念上类似于ELF和Mach-O。\n\n#### 2.1 线性存储器\n\nWebAssembly有一个非常简单的内存模型。wasm模块可以访问单个的线性内存（本质就是数组），此内存可以按照页大小（64K）的倍数增长，但是不能缩小。\n\n#### 2.2 WebAssembly是不是只为Web使用\n\nwasm并没有对其宿主环境做出任何假设，但是到目前为止，主要还是与js相关。\n\n### 三、初体验\n\n#### 1.安装Rust\n\n```shell\ncurl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\n```\n\n#### 2.安装wasm-pack\n\n```shell\ncargo install wasm-pack\n```\n\nlinux通过命令安装, window通过 [wasm-pack-init.exe](https://rustwasm.github.io/wasm-pack/installer/) 安装\n\n#### 3.创建工程\n\n```shell\ncargo new --lib mywasm\n```\n\n#### 4.编写代码\n\n在src/lib.rs中添加如下代码：\n\n```rust\nuse wasm_bindgen::prelude::*;\n\n#[wasm_bindgen]\nextern {\n    pub fn alert(s: &str);\n}\n\n#[wasm_bindgen]\npub fn greet(name: &str) {\n    alert(&format!(\"Hello, {}!\", name));\n}\n```\n\n#### 5.修改Cargo.toml配置文件，添加如下：\n\n\n```Cargo.toml\n[lib]\ncrate-type = [\"cdylib\", \"rlib\"]\n# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n\n[dependencies]\nwasm-bindgen = \"0.2.63\"\n```\n\n#### 6.编译package\n\n```shell\nwasm-pack build --target web\n```\n\n#### 7.使用package\n\n在mywasm根目录下创建index.html\n\n>  注意是根目录, 如果在根目录新增文件夹放index.hmml, 使用../pck会无法获取到文件\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Test Rust WebAssembly</title>\n</head>\n<body>\n<script type=\"module\">\n    import init, {greet} from \"./pkg/mywasm.js\";\n    init()\n        .then(() => {\n            greet(\"WebAssembly\")\n        });\n</script>\n</body>\n</html>\n```\n\n#### 8.运行server\n\n安装http-server, 用于启动服务方式运行index.html\n\n```shell\nnpm install http-server\n```\n\n在根目录执行命令\n\n```\nhttp-server\n```\n\n#### 9.测试\n\n在浏览器中输入： http://localhost:端口号\n\n![理解图](https://lixuelang.com/test/Rust/pic/001//1.jpg)\n\n> 原文链接: 公众号\"令狐一冲\"  \n> https://mp.weixin.qq.com/s?src=11&timestamp=1637460087&ver=3449&signature=imXNueDAOPdCNXqIo7Zwe*UtnLWqe5KkNECzSj30EJY6NBEFMY46t7j0SrZld5QREKFYJhU6SUEXk6kG3e0DOeizlmZdjLD*35XQjyHQc7c-*Rm5mChbd-Lkqccfz362&new=1\n","source":"_posts/WebAssembly实战001-初体验.md","raw":"---\nlayout: rust\ntitle: WebAssembly实战001-初体验\ndate: 2021-11-22 21:43:55\ncategories:  \n- [window, Rust, WebAssembly]  \ntags:  \n- window\n- Rust\n- WebAssembly\n---\n\n### 一、为何是Rust和WebAssembly？\n\n- 低水平控制与高水平的人体工程学 JavaScript Web应用程序很难获得和保持可靠的性能。Rust为程序员提供了低级别的控制和可靠的性能。\n\n- 较小的.wasm 代码大小非常重要，因为 .wasm必须通过网络下载。Rust没有运行时，因此支持较小的.Wasm。\n\n- 不用全部重写 使用Rust并不是将现有的代码扔掉，我们可以将部分js函数转换成Rust代码。\n\n- 和其它的和善相处 Rust和WebAssembly与现有JavaScript工具集成，支持ECMAScript模块，你可以继续使用之前的工具，如npm、Webpack。\n\n- 便利的基础设施 Rust中拥有开发者所期望的便利的工具，如：Cargo、零成本抽象、开放热情的社区。\n\n### 二、WebAssembly是什么？\n\nWebAssembly（wasm）是一种简单的机器模型和具有广泛规范的可执行格式。它被设计成可移植的、紧凑的，并且以或接近本机速度执行。\n\nWebAssembly有两种表示相同结构的格式：\n\n- wat 文本格式（WebAssembly Text）使用S表达式，和Lisp家族的语言有些类似；\n\n- wasm二进制格式，级别较低，直接供wasm虚拟机使用，它在概念上类似于ELF和Mach-O。\n\n#### 2.1 线性存储器\n\nWebAssembly有一个非常简单的内存模型。wasm模块可以访问单个的线性内存（本质就是数组），此内存可以按照页大小（64K）的倍数增长，但是不能缩小。\n\n#### 2.2 WebAssembly是不是只为Web使用\n\nwasm并没有对其宿主环境做出任何假设，但是到目前为止，主要还是与js相关。\n\n### 三、初体验\n\n#### 1.安装Rust\n\n```shell\ncurl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\n```\n\n#### 2.安装wasm-pack\n\n```shell\ncargo install wasm-pack\n```\n\nlinux通过命令安装, window通过 [wasm-pack-init.exe](https://rustwasm.github.io/wasm-pack/installer/) 安装\n\n#### 3.创建工程\n\n```shell\ncargo new --lib mywasm\n```\n\n#### 4.编写代码\n\n在src/lib.rs中添加如下代码：\n\n```rust\nuse wasm_bindgen::prelude::*;\n\n#[wasm_bindgen]\nextern {\n    pub fn alert(s: &str);\n}\n\n#[wasm_bindgen]\npub fn greet(name: &str) {\n    alert(&format!(\"Hello, {}!\", name));\n}\n```\n\n#### 5.修改Cargo.toml配置文件，添加如下：\n\n\n```Cargo.toml\n[lib]\ncrate-type = [\"cdylib\", \"rlib\"]\n# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n\n[dependencies]\nwasm-bindgen = \"0.2.63\"\n```\n\n#### 6.编译package\n\n```shell\nwasm-pack build --target web\n```\n\n#### 7.使用package\n\n在mywasm根目录下创建index.html\n\n>  注意是根目录, 如果在根目录新增文件夹放index.hmml, 使用../pck会无法获取到文件\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Test Rust WebAssembly</title>\n</head>\n<body>\n<script type=\"module\">\n    import init, {greet} from \"./pkg/mywasm.js\";\n    init()\n        .then(() => {\n            greet(\"WebAssembly\")\n        });\n</script>\n</body>\n</html>\n```\n\n#### 8.运行server\n\n安装http-server, 用于启动服务方式运行index.html\n\n```shell\nnpm install http-server\n```\n\n在根目录执行命令\n\n```\nhttp-server\n```\n\n#### 9.测试\n\n在浏览器中输入： http://localhost:端口号\n\n![理解图](https://lixuelang.com/test/Rust/pic/001//1.jpg)\n\n> 原文链接: 公众号\"令狐一冲\"  \n> https://mp.weixin.qq.com/s?src=11&timestamp=1637460087&ver=3449&signature=imXNueDAOPdCNXqIo7Zwe*UtnLWqe5KkNECzSj30EJY6NBEFMY46t7j0SrZld5QREKFYJhU6SUEXk6kG3e0DOeizlmZdjLD*35XQjyHQc7c-*Rm5mChbd-Lkqccfz362&new=1\n","slug":"WebAssembly实战001-初体验","published":1,"updated":"2021-11-22T12:18:37.663Z","_id":"ckw8p6k670001okv970219x24","comments":1,"photos":[],"link":"","content":"<h3 id=\"一、为何是Rust和WebAssembly？\"><a href=\"#一、为何是Rust和WebAssembly？\" class=\"headerlink\" title=\"一、为何是Rust和WebAssembly？\"></a>一、为何是Rust和WebAssembly？</h3><ul>\n<li><p>低水平控制与高水平的人体工程学 JavaScript Web应用程序很难获得和保持可靠的性能。Rust为程序员提供了低级别的控制和可靠的性能。</p>\n</li>\n<li><p>较小的.wasm 代码大小非常重要，因为 .wasm必须通过网络下载。Rust没有运行时，因此支持较小的.Wasm。</p>\n</li>\n<li><p>不用全部重写 使用Rust并不是将现有的代码扔掉，我们可以将部分js函数转换成Rust代码。</p>\n</li>\n<li><p>和其它的和善相处 Rust和WebAssembly与现有JavaScript工具集成，支持ECMAScript模块，你可以继续使用之前的工具，如npm、Webpack。</p>\n</li>\n<li><p>便利的基础设施 Rust中拥有开发者所期望的便利的工具，如：Cargo、零成本抽象、开放热情的社区。</p>\n</li>\n</ul>\n<h3 id=\"二、WebAssembly是什么？\"><a href=\"#二、WebAssembly是什么？\" class=\"headerlink\" title=\"二、WebAssembly是什么？\"></a>二、WebAssembly是什么？</h3><p>WebAssembly（wasm）是一种简单的机器模型和具有广泛规范的可执行格式。它被设计成可移植的、紧凑的，并且以或接近本机速度执行。</p>\n<p>WebAssembly有两种表示相同结构的格式：</p>\n<ul>\n<li><p>wat 文本格式（WebAssembly Text）使用S表达式，和Lisp家族的语言有些类似；</p>\n</li>\n<li><p>wasm二进制格式，级别较低，直接供wasm虚拟机使用，它在概念上类似于ELF和Mach-O。</p>\n</li>\n</ul>\n<h4 id=\"2-1-线性存储器\"><a href=\"#2-1-线性存储器\" class=\"headerlink\" title=\"2.1 线性存储器\"></a>2.1 线性存储器</h4><p>WebAssembly有一个非常简单的内存模型。wasm模块可以访问单个的线性内存（本质就是数组），此内存可以按照页大小（64K）的倍数增长，但是不能缩小。</p>\n<h4 id=\"2-2-WebAssembly是不是只为Web使用\"><a href=\"#2-2-WebAssembly是不是只为Web使用\" class=\"headerlink\" title=\"2.2 WebAssembly是不是只为Web使用\"></a>2.2 WebAssembly是不是只为Web使用</h4><p>wasm并没有对其宿主环境做出任何假设，但是到目前为止，主要还是与js相关。</p>\n<h3 id=\"三、初体验\"><a href=\"#三、初体验\" class=\"headerlink\" title=\"三、初体验\"></a>三、初体验</h3><h4 id=\"1-安装Rust\"><a href=\"#1-安装Rust\" class=\"headerlink\" title=\"1.安装Rust\"></a>1.安装Rust</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">curl --proto &#39;&#x3D;https&#39; --tlsv1.2 -sSf https:&#x2F;&#x2F;sh.rustup.rs | sh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"2-安装wasm-pack\"><a href=\"#2-安装wasm-pack\" class=\"headerlink\" title=\"2.安装wasm-pack\"></a>2.安装wasm-pack</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">cargo install wasm-pack<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>linux通过命令安装, window通过 <a href=\"https://rustwasm.github.io/wasm-pack/installer/\">wasm-pack-init.exe</a> 安装</p>\n<h4 id=\"3-创建工程\"><a href=\"#3-创建工程\" class=\"headerlink\" title=\"3.创建工程\"></a>3.创建工程</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">cargo new --lib mywasm<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"4-编写代码\"><a href=\"#4-编写代码\" class=\"headerlink\" title=\"4.编写代码\"></a>4.编写代码</h4><p>在src/lib.rs中添加如下代码：</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\">use wasm_bindgen::prelude::*;\n\n#[wasm_bindgen]\nextern &#123;\n    pub fn alert(s: &amp;str);\n&#125;\n\n#[wasm_bindgen]\npub fn greet(name: &amp;str) &#123;\n    alert(&amp;format!(&quot;Hello, &#123;&#125;!&quot;, name));\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"5-修改Cargo-toml配置文件，添加如下：\"><a href=\"#5-修改Cargo-toml配置文件，添加如下：\" class=\"headerlink\" title=\"5.修改Cargo.toml配置文件，添加如下：\"></a>5.修改Cargo.toml配置文件，添加如下：</h4><pre class=\"line-numbers language-Cargo.toml\" data-language=\"Cargo.toml\"><code class=\"language-Cargo.toml\">[lib]\ncrate-type &#x3D; [&quot;cdylib&quot;, &quot;rlib&quot;]\n# See more keys and their definitions at https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;cargo&#x2F;reference&#x2F;manifest.html\n\n[dependencies]\nwasm-bindgen &#x3D; &quot;0.2.63&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"6-编译package\"><a href=\"#6-编译package\" class=\"headerlink\" title=\"6.编译package\"></a>6.编译package</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">wasm-pack build --target web<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"7-使用package\"><a href=\"#7-使用package\" class=\"headerlink\" title=\"7.使用package\"></a>7.使用package</h4><p>在mywasm根目录下创建index.html</p>\n<blockquote>\n<p> 注意是根目录, 如果在根目录新增文件夹放index.hmml, 使用../pck会无法获取到文件</p>\n</blockquote>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Test Rust WebAssembly<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>module<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n    <span class=\"token keyword\">import</span> init<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>greet<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./pkg/mywasm.js\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token function\">greet</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"WebAssembly\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"8-运行server\"><a href=\"#8-运行server\" class=\"headerlink\" title=\"8.运行server\"></a>8.运行server</h4><p>安装http-server, 用于启动服务方式运行index.html</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">npm install http-server<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>在根目录执行命令</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">http-server<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"9-测试\"><a href=\"#9-测试\" class=\"headerlink\" title=\"9.测试\"></a>9.测试</h4><p>在浏览器中输入： <a href=\"http://localhost:端口号\">http://localhost:端口号</a></p>\n<p><img src=\"https://lixuelang.com/test/Rust/pic/001//1.jpg\" alt=\"理解图\"></p>\n<blockquote>\n<p>原文链接: 公众号”令狐一冲”<br><a href=\"https://mp.weixin.qq.com/s?src=11&amp;timestamp=1637460087&amp;ver=3449&amp;signature=imXNueDAOPdCNXqIo7Zwe*UtnLWqe5KkNECzSj30EJY6NBEFMY46t7j0SrZld5QREKFYJhU6SUEXk6kG3e0DOeizlmZdjLD*35XQjyHQc7c-*Rm5mChbd-Lkqccfz362&amp;new=1\">https://mp.weixin.qq.com/s?src=11&amp;timestamp=1637460087&amp;ver=3449&amp;signature=imXNueDAOPdCNXqIo7Zwe*UtnLWqe5KkNECzSj30EJY6NBEFMY46t7j0SrZld5QREKFYJhU6SUEXk6kG3e0DOeizlmZdjLD*35XQjyHQc7c-*Rm5mChbd-Lkqccfz362&amp;new=1</a></p>\n</blockquote>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<h3 id=\"一、为何是Rust和WebAssembly？\"><a href=\"#一、为何是Rust和WebAssembly？\" class=\"headerlink\" title=\"一、为何是Rust和WebAssembly？\"></a>一、为何是Rust和WebAssembly？</h3><ul>\n<li><p>低水平控制与高水平的人体工程学 JavaScript Web应用程序很难获得和保持可靠的性能。Rust为程序员提供了低级别的控制和可靠的性能。</p>\n</li>\n<li><p>较小的.wasm 代码大小非常重要，因为 .wasm必须通过网络下载。Rust没有运行时，因此支持较小的.Wasm。</p>\n</li>\n<li><p>不用全部重写 使用Rust并不是将现有的代码扔掉，我们可以将部分js函数转换成Rust代码。</p>\n</li>\n<li><p>和其它的和善相处 Rust和WebAssembly与现有JavaScript工具集成，支持ECMAScript模块，你可以继续使用之前的工具，如npm、Webpack。</p>\n</li>\n<li><p>便利的基础设施 Rust中拥有开发者所期望的便利的工具，如：Cargo、零成本抽象、开放热情的社区。</p>\n</li>\n</ul>\n<h3 id=\"二、WebAssembly是什么？\"><a href=\"#二、WebAssembly是什么？\" class=\"headerlink\" title=\"二、WebAssembly是什么？\"></a>二、WebAssembly是什么？</h3><p>WebAssembly（wasm）是一种简单的机器模型和具有广泛规范的可执行格式。它被设计成可移植的、紧凑的，并且以或接近本机速度执行。</p>\n<p>WebAssembly有两种表示相同结构的格式：</p>\n<ul>\n<li><p>wat 文本格式（WebAssembly Text）使用S表达式，和Lisp家族的语言有些类似；</p>\n</li>\n<li><p>wasm二进制格式，级别较低，直接供wasm虚拟机使用，它在概念上类似于ELF和Mach-O。</p>\n</li>\n</ul>\n<h4 id=\"2-1-线性存储器\"><a href=\"#2-1-线性存储器\" class=\"headerlink\" title=\"2.1 线性存储器\"></a>2.1 线性存储器</h4><p>WebAssembly有一个非常简单的内存模型。wasm模块可以访问单个的线性内存（本质就是数组），此内存可以按照页大小（64K）的倍数增长，但是不能缩小。</p>\n<h4 id=\"2-2-WebAssembly是不是只为Web使用\"><a href=\"#2-2-WebAssembly是不是只为Web使用\" class=\"headerlink\" title=\"2.2 WebAssembly是不是只为Web使用\"></a>2.2 WebAssembly是不是只为Web使用</h4><p>wasm并没有对其宿主环境做出任何假设，但是到目前为止，主要还是与js相关。</p>\n<h3 id=\"三、初体验\"><a href=\"#三、初体验\" class=\"headerlink\" title=\"三、初体验\"></a>三、初体验</h3><h4 id=\"1-安装Rust\"><a href=\"#1-安装Rust\" class=\"headerlink\" title=\"1.安装Rust\"></a>1.安装Rust</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">curl --proto &#39;&#x3D;https&#39; --tlsv1.2 -sSf https:&#x2F;&#x2F;sh.rustup.rs | sh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"2-安装wasm-pack\"><a href=\"#2-安装wasm-pack\" class=\"headerlink\" title=\"2.安装wasm-pack\"></a>2.安装wasm-pack</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">cargo install wasm-pack<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>linux通过命令安装, window通过 <a href=\"https://rustwasm.github.io/wasm-pack/installer/\">wasm-pack-init.exe</a> 安装</p>\n<h4 id=\"3-创建工程\"><a href=\"#3-创建工程\" class=\"headerlink\" title=\"3.创建工程\"></a>3.创建工程</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">cargo new --lib mywasm<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"4-编写代码\"><a href=\"#4-编写代码\" class=\"headerlink\" title=\"4.编写代码\"></a>4.编写代码</h4><p>在src/lib.rs中添加如下代码：</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\">use wasm_bindgen::prelude::*;\n\n#[wasm_bindgen]\nextern &#123;\n    pub fn alert(s: &amp;str);\n&#125;\n\n#[wasm_bindgen]\npub fn greet(name: &amp;str) &#123;\n    alert(&amp;format!(&quot;Hello, &#123;&#125;!&quot;, name));\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"5-修改Cargo-toml配置文件，添加如下：\"><a href=\"#5-修改Cargo-toml配置文件，添加如下：\" class=\"headerlink\" title=\"5.修改Cargo.toml配置文件，添加如下：\"></a>5.修改Cargo.toml配置文件，添加如下：</h4><pre class=\"line-numbers language-Cargo.toml\" data-language=\"Cargo.toml\"><code class=\"language-Cargo.toml\">[lib]\ncrate-type &#x3D; [&quot;cdylib&quot;, &quot;rlib&quot;]\n# See more keys and their definitions at https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;cargo&#x2F;reference&#x2F;manifest.html\n\n[dependencies]\nwasm-bindgen &#x3D; &quot;0.2.63&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"6-编译package\"><a href=\"#6-编译package\" class=\"headerlink\" title=\"6.编译package\"></a>6.编译package</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">wasm-pack build --target web<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"7-使用package\"><a href=\"#7-使用package\" class=\"headerlink\" title=\"7.使用package\"></a>7.使用package</h4><p>在mywasm根目录下创建index.html</p>\n<blockquote>\n<p> 注意是根目录, 如果在根目录新增文件夹放index.hmml, 使用../pck会无法获取到文件</p>\n</blockquote>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Test Rust WebAssembly<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>module<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n    <span class=\"token keyword\">import</span> init<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>greet<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./pkg/mywasm.js\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token function\">greet</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"WebAssembly\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"8-运行server\"><a href=\"#8-运行server\" class=\"headerlink\" title=\"8.运行server\"></a>8.运行server</h4><p>安装http-server, 用于启动服务方式运行index.html</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">npm install http-server<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>在根目录执行命令</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">http-server<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"9-测试\"><a href=\"#9-测试\" class=\"headerlink\" title=\"9.测试\"></a>9.测试</h4><p>在浏览器中输入： <a href=\"http://localhost:端口号\">http://localhost:端口号</a></p>\n<p><img src=\"https://lixuelang.com/test/Rust/pic/001//1.jpg\" alt=\"理解图\"></p>\n<blockquote>\n<p>原文链接: 公众号”令狐一冲”<br><a href=\"https://mp.weixin.qq.com/s?src=11&amp;timestamp=1637460087&amp;ver=3449&amp;signature=imXNueDAOPdCNXqIo7Zwe*UtnLWqe5KkNECzSj30EJY6NBEFMY46t7j0SrZld5QREKFYJhU6SUEXk6kG3e0DOeizlmZdjLD*35XQjyHQc7c-*Rm5mChbd-Lkqccfz362&amp;new=1\">https://mp.weixin.qq.com/s?src=11&amp;timestamp=1637460087&amp;ver=3449&amp;signature=imXNueDAOPdCNXqIo7Zwe*UtnLWqe5KkNECzSj30EJY6NBEFMY46t7j0SrZld5QREKFYJhU6SUEXk6kG3e0DOeizlmZdjLD*35XQjyHQc7c-*Rm5mChbd-Lkqccfz362&amp;new=1</a></p>\n</blockquote>\n"},{"title":"Sentry监控部署011-Alert警报","date":"2021-11-22T12:14:38.000Z","_content":"# Sentry 实战\n\n## `Alert` 报警\n\n在前面的探索中，我们看到了如何在Sentry管理界面中查看性能、错误等信息。但如果我们手动在页面查看发生了哪些错误，会非常耗时耗力，因此可以配置报警功能`Alert`\n\n### 配置邮箱\n\n首先我们配置一个可以通过 `Sentry` 服务发送邮件的邮箱配置\n\n- 大部分的 `Sentry配置` 可以通过 `Sentry管理界面` 配置，但是有些默认配置，比如`代表Sentry服务的邮箱`，我们不希望通过 `Sentry管理界面` 修改，但可以通过下面文件修改\n\n  ```bash\n  cd onpremise\n  vim ./sentry/config.yml\n  ```\n\n- 选择一个邮箱账号作为 `Sentry服务邮箱账号`，比如我选择的是我的阿里企业邮箱，找到他们的\n\n  - 发件服务地址：例如阿里云企业邮箱是 `smtp.mxhichina.com`\n  - 该邮箱账号\n  - 该邮箱密码\n\n- 将这些信息填写到 `onpremise/sentry/config.yml` 文件中\n\n  ```vim\n  # mail.backend: 'smtp'  # Use dummy if you want to disable email entirely\n  mail.host: 'smtp.163.com'\n  # mail.port: 465\n  mail.username: 'xxx@xxx.com'\n  mail.password: 'xxxxxx'\n  # mail.use-tls: false\n  # mail.use-ssl: true\n\n  # NOTE: The following 2 configs (mail.from and mail.list-namespace) are set\n  #       through SENTRY_MAIL_HOST in sentry.conf.py so remove those first if\n  #       you want your values in this file to be effective!\n\n\n  # The email address to send on behalf of\n  mail.from: 'xxx@xxx.com'\n  ```\n\n- 停止 `Sentry` 服务\n\n  ```bash\n  docker-compose down\n  ```\n\n- 启动 `Sentry` 服务\n\n  ```bash\n  docker-compose up -d\n  ```\n\n- 测试 `Sentry` 服务能否发送邮件\n\n  - 点击`Sentry管理界面左上角头像图标`，在下拉框中选择 `Admin`，在接下来的菜单中选择 `Mail`\n  - 可以看到刚才配置的邮箱信息\n  - 在页面最底部点击 `Send a test email to xxx@xxx.xxx`\n  - 在`xxx@xxx.xxx`邮箱中查看是否收到 `Sentry` 发送的邮件\n\n  ![mail-settings](https://lixuelang.com/test/Sentry/pic/011/mail-settings.jpg)\n\n### 设置报警规则\n\n我们可以设置一些报警规则，比如性能、错误，和对应的阈值。当触发报警规则后，会发送一封邮件到指定的邮箱，然后可以点击查看报警详情\n\n- 在 `Sentry管理界面 -> Alerts` 页，可以查看、新增、编辑、删除报警规则\n\n- 点击 `Create Alert Rule` 按钮\n\n- 在新建报警规则页，选择一个监控的内容，分为`Errors`、`Performance`、`Other`\n\n- 以 `Performance` 的 `LCP` 为例，选择之，并点击 `Set Conditions`\n\n  ![create-rule](https://lixuelang.com/test/Sentry/pic/011/create-rule.jpg)\n\n- 在 `Filter events` 条件设置中，可以对 `evironment` 筛选，选择 `All`\n\n- 在 `2. Select function and time interval` ，可以设置报警程序定时任务的间隔时间，以及在间隔时间内监控的内容，选择 `P50 over 1 minute`，表示每1分钟总结一次，如果超过 `50%` 的 `transaction` 超过了阈值，则报警\n\n- 接下来设置`阈值`，在 `3. Set thresholds to trigger alert` 中，分别设置 `Critical(危急)`、`Warning(警告)`、`Resolved(满足)`的阈值，为了容易看到效果，我们分别设置 `500`、`400`、`300`，单位毫秒\n\n  ![add-rule-1](https://lixuelang.com/test/Sentry/pic/011/add-rule-1.jpg)\n\n- 在 `4. Perform actions` 中设置报警后发送的邮件接收人\n\n- 在 `5. Add a rule name and team` 设置本条报警规则的名称（例如，“Sentry监控到：超过50%的样本的LCP超过了 500ms ！”）和可以编辑这条报警规则的人，名称会体现在邮件内容中\n\n  ![add-rule-1](https://lixuelang.com/test/Sentry/pic/011/add-rule-2.jpg)\n\n### 制造一些很慢的访问\n\n打开浏览器cra-test页面，在 `devtools -> network -> 节流模式` 中选择  `slow 3G`，多刷新几次页面，这些页面加载速度很慢，便会触发报警，很快我们会收到邮件，点击可以查看详情\n\n![报警邮件](https://lixuelang.com/test/Sentry/pic/011/mail.jpg)","source":"_posts/Sentry监控部署011-Alert警报.md","raw":"---\ntitle: Sentry监控部署011-Alert警报\ndate: 2021-11-22 20:14:38\ncategories:  \n- [linux, Sentry]  \ntags:  \n- linux\n- Sentry\n---\n# Sentry 实战\n\n## `Alert` 报警\n\n在前面的探索中，我们看到了如何在Sentry管理界面中查看性能、错误等信息。但如果我们手动在页面查看发生了哪些错误，会非常耗时耗力，因此可以配置报警功能`Alert`\n\n### 配置邮箱\n\n首先我们配置一个可以通过 `Sentry` 服务发送邮件的邮箱配置\n\n- 大部分的 `Sentry配置` 可以通过 `Sentry管理界面` 配置，但是有些默认配置，比如`代表Sentry服务的邮箱`，我们不希望通过 `Sentry管理界面` 修改，但可以通过下面文件修改\n\n  ```bash\n  cd onpremise\n  vim ./sentry/config.yml\n  ```\n\n- 选择一个邮箱账号作为 `Sentry服务邮箱账号`，比如我选择的是我的阿里企业邮箱，找到他们的\n\n  - 发件服务地址：例如阿里云企业邮箱是 `smtp.mxhichina.com`\n  - 该邮箱账号\n  - 该邮箱密码\n\n- 将这些信息填写到 `onpremise/sentry/config.yml` 文件中\n\n  ```vim\n  # mail.backend: 'smtp'  # Use dummy if you want to disable email entirely\n  mail.host: 'smtp.163.com'\n  # mail.port: 465\n  mail.username: 'xxx@xxx.com'\n  mail.password: 'xxxxxx'\n  # mail.use-tls: false\n  # mail.use-ssl: true\n\n  # NOTE: The following 2 configs (mail.from and mail.list-namespace) are set\n  #       through SENTRY_MAIL_HOST in sentry.conf.py so remove those first if\n  #       you want your values in this file to be effective!\n\n\n  # The email address to send on behalf of\n  mail.from: 'xxx@xxx.com'\n  ```\n\n- 停止 `Sentry` 服务\n\n  ```bash\n  docker-compose down\n  ```\n\n- 启动 `Sentry` 服务\n\n  ```bash\n  docker-compose up -d\n  ```\n\n- 测试 `Sentry` 服务能否发送邮件\n\n  - 点击`Sentry管理界面左上角头像图标`，在下拉框中选择 `Admin`，在接下来的菜单中选择 `Mail`\n  - 可以看到刚才配置的邮箱信息\n  - 在页面最底部点击 `Send a test email to xxx@xxx.xxx`\n  - 在`xxx@xxx.xxx`邮箱中查看是否收到 `Sentry` 发送的邮件\n\n  ![mail-settings](https://lixuelang.com/test/Sentry/pic/011/mail-settings.jpg)\n\n### 设置报警规则\n\n我们可以设置一些报警规则，比如性能、错误，和对应的阈值。当触发报警规则后，会发送一封邮件到指定的邮箱，然后可以点击查看报警详情\n\n- 在 `Sentry管理界面 -> Alerts` 页，可以查看、新增、编辑、删除报警规则\n\n- 点击 `Create Alert Rule` 按钮\n\n- 在新建报警规则页，选择一个监控的内容，分为`Errors`、`Performance`、`Other`\n\n- 以 `Performance` 的 `LCP` 为例，选择之，并点击 `Set Conditions`\n\n  ![create-rule](https://lixuelang.com/test/Sentry/pic/011/create-rule.jpg)\n\n- 在 `Filter events` 条件设置中，可以对 `evironment` 筛选，选择 `All`\n\n- 在 `2. Select function and time interval` ，可以设置报警程序定时任务的间隔时间，以及在间隔时间内监控的内容，选择 `P50 over 1 minute`，表示每1分钟总结一次，如果超过 `50%` 的 `transaction` 超过了阈值，则报警\n\n- 接下来设置`阈值`，在 `3. Set thresholds to trigger alert` 中，分别设置 `Critical(危急)`、`Warning(警告)`、`Resolved(满足)`的阈值，为了容易看到效果，我们分别设置 `500`、`400`、`300`，单位毫秒\n\n  ![add-rule-1](https://lixuelang.com/test/Sentry/pic/011/add-rule-1.jpg)\n\n- 在 `4. Perform actions` 中设置报警后发送的邮件接收人\n\n- 在 `5. Add a rule name and team` 设置本条报警规则的名称（例如，“Sentry监控到：超过50%的样本的LCP超过了 500ms ！”）和可以编辑这条报警规则的人，名称会体现在邮件内容中\n\n  ![add-rule-1](https://lixuelang.com/test/Sentry/pic/011/add-rule-2.jpg)\n\n### 制造一些很慢的访问\n\n打开浏览器cra-test页面，在 `devtools -> network -> 节流模式` 中选择  `slow 3G`，多刷新几次页面，这些页面加载速度很慢，便会触发报警，很快我们会收到邮件，点击可以查看详情\n\n![报警邮件](https://lixuelang.com/test/Sentry/pic/011/mail.jpg)","slug":"Sentry监控部署011-Alert警报","published":1,"updated":"2021-11-22T12:18:01.063Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckwamy7um0000hwv902wybwub","content":"<h1 id=\"Sentry-实战\"><a href=\"#Sentry-实战\" class=\"headerlink\" title=\"Sentry 实战\"></a>Sentry 实战</h1><h2 id=\"Alert-报警\"><a href=\"#Alert-报警\" class=\"headerlink\" title=\"Alert 报警\"></a><code>Alert</code> 报警</h2><p>在前面的探索中，我们看到了如何在Sentry管理界面中查看性能、错误等信息。但如果我们手动在页面查看发生了哪些错误，会非常耗时耗力，因此可以配置报警功能<code>Alert</code></p>\n<h3 id=\"配置邮箱\"><a href=\"#配置邮箱\" class=\"headerlink\" title=\"配置邮箱\"></a>配置邮箱</h3><p>首先我们配置一个可以通过 <code>Sentry</code> 服务发送邮件的邮箱配置</p>\n<ul>\n<li><p>大部分的 <code>Sentry配置</code> 可以通过 <code>Sentry管理界面</code> 配置，但是有些默认配置，比如<code>代表Sentry服务的邮箱</code>，我们不希望通过 <code>Sentry管理界面</code> 修改，但可以通过下面文件修改</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">cd onpremise\nvim .&#x2F;sentry&#x2F;config.yml<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><p>选择一个邮箱账号作为 <code>Sentry服务邮箱账号</code>，比如我选择的是我的阿里企业邮箱，找到他们的</p>\n<ul>\n<li>发件服务地址：例如阿里云企业邮箱是 <code>smtp.mxhichina.com</code></li>\n<li>该邮箱账号</li>\n<li>该邮箱密码</li>\n</ul>\n</li>\n<li><p>将这些信息填写到 <code>onpremise/sentry/config.yml</code> 文件中</p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"># mail.backend: &#39;smtp&#39;  # Use dummy if you want to disable email entirely\nmail.host: &#39;smtp.163.com&#39;\n# mail.port: 465\nmail.username: &#39;xxx@xxx.com&#39;\nmail.password: &#39;xxxxxx&#39;\n# mail.use-tls: false\n# mail.use-ssl: true\n\n# NOTE: The following 2 configs (mail.from and mail.list-namespace) are set\n#       through SENTRY_MAIL_HOST in sentry.conf.py so remove those first if\n#       you want your values in this file to be effective!\n\n\n# The email address to send on behalf of\nmail.from: &#39;xxx@xxx.com&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>停止 <code>Sentry</code> 服务</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">docker-compose down<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p>启动 <code>Sentry</code> 服务</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">docker-compose up -d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p>测试 <code>Sentry</code> 服务能否发送邮件</p>\n<ul>\n<li>点击<code>Sentry管理界面左上角头像图标</code>，在下拉框中选择 <code>Admin</code>，在接下来的菜单中选择 <code>Mail</code></li>\n<li>可以看到刚才配置的邮箱信息</li>\n<li>在页面最底部点击 <code>Send a test email to xxx@xxx.xxx</code></li>\n<li>在<code>xxx@xxx.xxx</code>邮箱中查看是否收到 <code>Sentry</code> 发送的邮件</li>\n</ul>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/011/mail-settings.jpg\" alt=\"mail-settings\"></p>\n</li>\n</ul>\n<h3 id=\"设置报警规则\"><a href=\"#设置报警规则\" class=\"headerlink\" title=\"设置报警规则\"></a>设置报警规则</h3><p>我们可以设置一些报警规则，比如性能、错误，和对应的阈值。当触发报警规则后，会发送一封邮件到指定的邮箱，然后可以点击查看报警详情</p>\n<ul>\n<li><p>在 <code>Sentry管理界面 -&gt; Alerts</code> 页，可以查看、新增、编辑、删除报警规则</p>\n</li>\n<li><p>点击 <code>Create Alert Rule</code> 按钮</p>\n</li>\n<li><p>在新建报警规则页，选择一个监控的内容，分为<code>Errors</code>、<code>Performance</code>、<code>Other</code></p>\n</li>\n<li><p>以 <code>Performance</code> 的 <code>LCP</code> 为例，选择之，并点击 <code>Set Conditions</code></p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/011/create-rule.jpg\" alt=\"create-rule\"></p>\n</li>\n<li><p>在 <code>Filter events</code> 条件设置中，可以对 <code>evironment</code> 筛选，选择 <code>All</code></p>\n</li>\n<li><p>在 <code>2. Select function and time interval</code> ，可以设置报警程序定时任务的间隔时间，以及在间隔时间内监控的内容，选择 <code>P50 over 1 minute</code>，表示每1分钟总结一次，如果超过 <code>50%</code> 的 <code>transaction</code> 超过了阈值，则报警</p>\n</li>\n<li><p>接下来设置<code>阈值</code>，在 <code>3. Set thresholds to trigger alert</code> 中，分别设置 <code>Critical(危急)</code>、<code>Warning(警告)</code>、<code>Resolved(满足)</code>的阈值，为了容易看到效果，我们分别设置 <code>500</code>、<code>400</code>、<code>300</code>，单位毫秒</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/011/add-rule-1.jpg\" alt=\"add-rule-1\"></p>\n</li>\n<li><p>在 <code>4. Perform actions</code> 中设置报警后发送的邮件接收人</p>\n</li>\n<li><p>在 <code>5. Add a rule name and team</code> 设置本条报警规则的名称（例如，“Sentry监控到：超过50%的样本的LCP超过了 500ms ！”）和可以编辑这条报警规则的人，名称会体现在邮件内容中</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/011/add-rule-2.jpg\" alt=\"add-rule-1\"></p>\n</li>\n</ul>\n<h3 id=\"制造一些很慢的访问\"><a href=\"#制造一些很慢的访问\" class=\"headerlink\" title=\"制造一些很慢的访问\"></a>制造一些很慢的访问</h3><p>打开浏览器cra-test页面，在 <code>devtools -&gt; network -&gt; 节流模式</code> 中选择  <code>slow 3G</code>，多刷新几次页面，这些页面加载速度很慢，便会触发报警，很快我们会收到邮件，点击可以查看详情</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/011/mail.jpg\" alt=\"报警邮件\"></p>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<h1 id=\"Sentry-实战\"><a href=\"#Sentry-实战\" class=\"headerlink\" title=\"Sentry 实战\"></a>Sentry 实战</h1><h2 id=\"Alert-报警\"><a href=\"#Alert-报警\" class=\"headerlink\" title=\"Alert 报警\"></a><code>Alert</code> 报警</h2><p>在前面的探索中，我们看到了如何在Sentry管理界面中查看性能、错误等信息。但如果我们手动在页面查看发生了哪些错误，会非常耗时耗力，因此可以配置报警功能<code>Alert</code></p>\n<h3 id=\"配置邮箱\"><a href=\"#配置邮箱\" class=\"headerlink\" title=\"配置邮箱\"></a>配置邮箱</h3><p>首先我们配置一个可以通过 <code>Sentry</code> 服务发送邮件的邮箱配置</p>\n<ul>\n<li><p>大部分的 <code>Sentry配置</code> 可以通过 <code>Sentry管理界面</code> 配置，但是有些默认配置，比如<code>代表Sentry服务的邮箱</code>，我们不希望通过 <code>Sentry管理界面</code> 修改，但可以通过下面文件修改</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">cd onpremise\nvim .&#x2F;sentry&#x2F;config.yml<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><p>选择一个邮箱账号作为 <code>Sentry服务邮箱账号</code>，比如我选择的是我的阿里企业邮箱，找到他们的</p>\n<ul>\n<li>发件服务地址：例如阿里云企业邮箱是 <code>smtp.mxhichina.com</code></li>\n<li>该邮箱账号</li>\n<li>该邮箱密码</li>\n</ul>\n</li>\n<li><p>将这些信息填写到 <code>onpremise/sentry/config.yml</code> 文件中</p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"># mail.backend: &#39;smtp&#39;  # Use dummy if you want to disable email entirely\nmail.host: &#39;smtp.163.com&#39;\n# mail.port: 465\nmail.username: &#39;xxx@xxx.com&#39;\nmail.password: &#39;xxxxxx&#39;\n# mail.use-tls: false\n# mail.use-ssl: true\n\n# NOTE: The following 2 configs (mail.from and mail.list-namespace) are set\n#       through SENTRY_MAIL_HOST in sentry.conf.py so remove those first if\n#       you want your values in this file to be effective!\n\n\n# The email address to send on behalf of\nmail.from: &#39;xxx@xxx.com&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>停止 <code>Sentry</code> 服务</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">docker-compose down<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p>启动 <code>Sentry</code> 服务</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">docker-compose up -d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p>测试 <code>Sentry</code> 服务能否发送邮件</p>\n<ul>\n<li>点击<code>Sentry管理界面左上角头像图标</code>，在下拉框中选择 <code>Admin</code>，在接下来的菜单中选择 <code>Mail</code></li>\n<li>可以看到刚才配置的邮箱信息</li>\n<li>在页面最底部点击 <code>Send a test email to xxx@xxx.xxx</code></li>\n<li>在<code>xxx@xxx.xxx</code>邮箱中查看是否收到 <code>Sentry</code> 发送的邮件</li>\n</ul>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/011/mail-settings.jpg\" alt=\"mail-settings\"></p>\n</li>\n</ul>\n<h3 id=\"设置报警规则\"><a href=\"#设置报警规则\" class=\"headerlink\" title=\"设置报警规则\"></a>设置报警规则</h3><p>我们可以设置一些报警规则，比如性能、错误，和对应的阈值。当触发报警规则后，会发送一封邮件到指定的邮箱，然后可以点击查看报警详情</p>\n<ul>\n<li><p>在 <code>Sentry管理界面 -&gt; Alerts</code> 页，可以查看、新增、编辑、删除报警规则</p>\n</li>\n<li><p>点击 <code>Create Alert Rule</code> 按钮</p>\n</li>\n<li><p>在新建报警规则页，选择一个监控的内容，分为<code>Errors</code>、<code>Performance</code>、<code>Other</code></p>\n</li>\n<li><p>以 <code>Performance</code> 的 <code>LCP</code> 为例，选择之，并点击 <code>Set Conditions</code></p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/011/create-rule.jpg\" alt=\"create-rule\"></p>\n</li>\n<li><p>在 <code>Filter events</code> 条件设置中，可以对 <code>evironment</code> 筛选，选择 <code>All</code></p>\n</li>\n<li><p>在 <code>2. Select function and time interval</code> ，可以设置报警程序定时任务的间隔时间，以及在间隔时间内监控的内容，选择 <code>P50 over 1 minute</code>，表示每1分钟总结一次，如果超过 <code>50%</code> 的 <code>transaction</code> 超过了阈值，则报警</p>\n</li>\n<li><p>接下来设置<code>阈值</code>，在 <code>3. Set thresholds to trigger alert</code> 中，分别设置 <code>Critical(危急)</code>、<code>Warning(警告)</code>、<code>Resolved(满足)</code>的阈值，为了容易看到效果，我们分别设置 <code>500</code>、<code>400</code>、<code>300</code>，单位毫秒</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/011/add-rule-1.jpg\" alt=\"add-rule-1\"></p>\n</li>\n<li><p>在 <code>4. Perform actions</code> 中设置报警后发送的邮件接收人</p>\n</li>\n<li><p>在 <code>5. Add a rule name and team</code> 设置本条报警规则的名称（例如，“Sentry监控到：超过50%的样本的LCP超过了 500ms ！”）和可以编辑这条报警规则的人，名称会体现在邮件内容中</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/011/add-rule-2.jpg\" alt=\"add-rule-1\"></p>\n</li>\n</ul>\n<h3 id=\"制造一些很慢的访问\"><a href=\"#制造一些很慢的访问\" class=\"headerlink\" title=\"制造一些很慢的访问\"></a>制造一些很慢的访问</h3><p>打开浏览器cra-test页面，在 <code>devtools -&gt; network -&gt; 节流模式</code> 中选择  <code>slow 3G</code>，多刷新几次页面，这些页面加载速度很慢，便会触发报警，很快我们会收到邮件，点击可以查看详情</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/011/mail.jpg\" alt=\"报警邮件\"></p>\n"},{"title":"Sentry监控部署012-手动报错、组件报错、接入redux","date":"2021-11-22T12:14:59.000Z","_content":"\n# Sentry 实战\n\n## 手动上报错误\n\n- `Sentry` 的 `SDK` 会自动上报错误、未捕获的异常和 `unhandled rejections` 以及其他类型的错误。\n\n- 对于未捕获的异常，我们可以手动上报。 [官方文档](https://docs.sentry.io/platforms/javascript/guides/react/usage/)\n\n  ```js\n  import * as Sentry from \"@sentry/react\";\n\n  try {\n    aFunctionThatMightFail();\n  } catch (err) {\n    Sentry.captureException(err);\n  }\n  ```\n\n- 我们同样可以在 `Sentry管理界面 -> Issues` 中查看手动上报的异常\n\n- 另外我们还可以手动上报一些纯文本信息\n\n  ```js\n  Sentry.captureMessage(\"Something went wrong\");\n  ```\n\n## 设置上报等级\n\n- 我们可以对上报的信息定义等级，主要包括:\n\n  ```ts\n  export declare enum Severity {\n    Fatal = \"fatal\",\n    Error = \"error\",\n    Warning = \"warning\",\n    Log = \"log\",\n    Info = \"info\",\n    Debug = \"debug\",\n    Critical = \"critical\"\n  }\n  ```\n\n- 手动上报错误定义 `level`\n\n  ```ts\n  try {\n    aFunctionThatMightFail();\n  } catch (err) {\n    Sentry.captureException(err, {\n      level: Sentry.Severity.Warning,\n    });\n  }\n  ```\n\n- 手动上报纯文本定义 `level`\n\n  ```ts\n  Sentry.captureMessage(\"this is a debug message\", Sentry.Severity.Warning);\n  ```\n\n- 定义一个范围，在范围内容统一定义 `level`\n\n  ```ts\n  Sentry.configureScope(function(scope) {\n    scope.setLevel(Sentry.Severity.Warning);\n    aFunctionThatMightFail();\n    bFunctionThatMightFail();\n  });\n  ```\n\n## `Sentry`错误边界组件\n\n`Sentry`提供了错误边界组件，当 `react` 组件发生错误，可以上报相关信息\n\n- 使用 `Sentry.ErrorBoundary` 组件  \n\n  ```jsx\n  // index.js\n  const App = () => {\n    return (\n      <>\n        { error && new Error('error') }\n        <button onClick={() => setError(true)}>set error</button>\n      </>\n    );\n  }\n  const WithSentryErrorBoundaryApp = () => {\n    return (\n      <Sentry.ErrorBoundary fallback={<div>error boundary error</div>} showDialog>\n        <App />\n      </Sentry.ErrorBoundary>\n    );\n  }\n\n  ReactDOM.render(\n    <WithSentryApp />,\n    document.getElementById('root')\n  );\n  ```\n\n  - 点击按钮，页面会展示 `fallback` 内容，并且弹出反馈弹窗，向 `Sentry` 提交反馈，反馈内容可以在 `Sentry管理界面` 的 `User Feedback` 中查看\n  - 而在 `Sentry管理界面` 的 `Issues` 中，我们可以看到上报了名称为 `Error` 错误，他的描述是以 `React ErrorBoundary Error` 开头的\n\n    ![react-errorBoundary-error](https://lixuelang.com/test/Sentry/pic/012/react-errorBoundary-error.jpg)\n\n- 也可以使用Sentry提供的高阶组件 `withErrorBoundary` 实现同样效果\n\n  ```jsx\n  const WithSentryApp = Sentry.withErrorBoundary(App, { fallback: <p>an error has occurred</p>, showDialog: true });\n  ```\n\n- 更多信息参考: [官方文档](https://docs.sentry.io/platforms/javascript/guides/react/components/errorboundary/)\n\n## 集成 `redux`\n\n- 安装 `redux`\n\n  ```bash\n  npm i redux -S\n  ```\n\n- 集成 `redux`\n\n  通过 `sentryReduxEnhancer` 中的 `actionTransformer` 和 `stateTransformer` 过滤不需要在sentry管理界面中展示的 `action` 和 `state`\n\n  ```ts\n  // index.js\n  import React from 'react';\n  import ReactDOM from 'react-dom';\n\n  import * as Sentry from '@sentry/react';\n  import { Integrations } from '@sentry/tracing';\n\n  import { createStore } from 'redux';\n\n  Sentry.init({\n    dsn: \"http://c96e4ce910524463a4e6a655a7eb054f@10.10.8.46:9000/3\",\n    environment: 'localhost',\n    integrations: [new Integrations.BrowserTracing()],\n    tracesSampleRate: 1.0,\n    release: '0.0.1',\n  });\n\n  const initialState = {\n    a: 'init',\n    b: 'init',\n    c: 'init',\n  };\n\n  const rootReducer = (state = initialState, action) => {\n    if (action.type === 'SET_A') {\n      return {\n        ...state,\n        a: 'a_changed',\n      }\n    }\n    if (action.type === 'SET_B') {\n      return {\n        ...state,\n        b: 'b_changed',\n      }\n    }\n    if (action.type === 'SET_C') {\n      return {\n        ...state,\n        c: 'c_changed',\n      }\n    }\n    return state;\n  }\n\n  const sentryReduxEnhancer = Sentry.createReduxEnhancer({\n    actionTransformer: action => {\n      if (action.type === 'SET_B') {\n        return null;\n      }\n      return action;\n    },\n    stateTransformer: state => {\n      return {\n        ...state,\n        c: null,\n      }\n    },\n  });\n\n  const store = createStore(\n    rootReducer,\n    sentryReduxEnhancer,\n  );\n\n  const App = () => {\n    function fn() {\n      console.log(window.a.b);\n      // axios.get('/dddd').catch(() => {});\n    }\n    return (\n      <>\n        <button onClick={() => store.dispatch({ type: 'SET_A' })}>dispatch SET_A</button>\n        <button onClick={() => store.dispatch({ type: 'SET_B' })}>dispatch SET_B</button>\n        <button onClick={() => store.dispatch({ type: 'SET_C' })}>dispatch SET_C</button>\n        <button onClick={fn}>Break the world</button>\n      </>\n    );\n  }\n\n  ReactDOM.render(\n    <App />,\n    document.getElementById('root')\n  );\n  ```\n\n- 访问 `localhost:9000`，有4个按钮 `dispatch SET_A`、`dispatch SET_B`、`dispatch SET_C`、`Break the world`，依次点击，则报错\n\n- 在 `Sentry管理界面 -> issues`菜单中找到刚才错误上报详情\n\n- 在 `BREADCRUMBS` 中，可以看到有三条 `redux` 相关的 `CATEGORY`，分别表示 `redux init`、`dispatch SET_A`、`dispatch SET_C`。`dispatch SET_B`没有，是因为在 `actionTransformer` 中将其过滤掉了\n\n  ![redux](https://lixuelang.com/test/Sentry/pic/012/redux.jpg)\n\n- 页面往下翻，可以看到 `REDIX.STATE` 中记录了报错前最后的 `state`，有 `a`、`b` 值，但没有 `c` 的值，是因为在 `stateTransformer` 中过滤了 `c` 的值\n\n  ![redux-state](https://lixuelang.com/test/Sentry/pic/012/redux-state.jpg)\n\n- [官方文档](https://docs.sentry.io/platforms/javascript/guides/react/configuration/integrations/redux/)\n\n## `rrweb` 重播\n\n`rrweb` 是一个开源的 `Web` 会话回放库，它提供易于使用的 `API` 来记录用户的交互并远程回放。\n\n可以记录鼠标移动轨迹、交互动作和页面变化，并播放。\n\n`@sentry/rrweb` 是 `rrweb` 的 `sentry` 插件。\n\n- 安装\n\n  ```bash\n  npm install -S @sentry/rrweb rrweb\n  ```\n\n- 使用\n\n  ```js\n  import SentryRRWeb from '@sentry/rrweb';\n\n  Sentry.init({\n    integrations: [\n      new SentryRRWeb({\n        checkoutEveryNms: 10 * 1000, // 每10秒重新制作快照\n        checkoutEveryNth: 200, // 每 200 个 event 重新制作快照\n        maskAllInputs: false, // 将所有输入内容记录为 *\n      }),\n    ],\n  });\n  ```\n\n- 在页面中点击各个按钮，直到报错，在 `Sentry管理界面 -> Isseues` 中找到相关错误详情，在页面最底部有一个 `REPLAY` 模块，点击播放可以回放错误发生前的一系列操作\n\n- 查看效果\n\n  ![rrweb](https://lixuelang.com/test/Sentry/pic/012/sentry-rrweb.gif)\n","source":"_posts/Sentry监控部署012-手动报错、组件报错、接入redux.md","raw":"---\ntitle: Sentry监控部署012-手动报错、组件报错、接入redux\ndate: 2021-11-22 20:14:59\ncategories:  \n- [linux, Sentry]  \ntags:  \n- linux\n- Sentry\n---\n\n# Sentry 实战\n\n## 手动上报错误\n\n- `Sentry` 的 `SDK` 会自动上报错误、未捕获的异常和 `unhandled rejections` 以及其他类型的错误。\n\n- 对于未捕获的异常，我们可以手动上报。 [官方文档](https://docs.sentry.io/platforms/javascript/guides/react/usage/)\n\n  ```js\n  import * as Sentry from \"@sentry/react\";\n\n  try {\n    aFunctionThatMightFail();\n  } catch (err) {\n    Sentry.captureException(err);\n  }\n  ```\n\n- 我们同样可以在 `Sentry管理界面 -> Issues` 中查看手动上报的异常\n\n- 另外我们还可以手动上报一些纯文本信息\n\n  ```js\n  Sentry.captureMessage(\"Something went wrong\");\n  ```\n\n## 设置上报等级\n\n- 我们可以对上报的信息定义等级，主要包括:\n\n  ```ts\n  export declare enum Severity {\n    Fatal = \"fatal\",\n    Error = \"error\",\n    Warning = \"warning\",\n    Log = \"log\",\n    Info = \"info\",\n    Debug = \"debug\",\n    Critical = \"critical\"\n  }\n  ```\n\n- 手动上报错误定义 `level`\n\n  ```ts\n  try {\n    aFunctionThatMightFail();\n  } catch (err) {\n    Sentry.captureException(err, {\n      level: Sentry.Severity.Warning,\n    });\n  }\n  ```\n\n- 手动上报纯文本定义 `level`\n\n  ```ts\n  Sentry.captureMessage(\"this is a debug message\", Sentry.Severity.Warning);\n  ```\n\n- 定义一个范围，在范围内容统一定义 `level`\n\n  ```ts\n  Sentry.configureScope(function(scope) {\n    scope.setLevel(Sentry.Severity.Warning);\n    aFunctionThatMightFail();\n    bFunctionThatMightFail();\n  });\n  ```\n\n## `Sentry`错误边界组件\n\n`Sentry`提供了错误边界组件，当 `react` 组件发生错误，可以上报相关信息\n\n- 使用 `Sentry.ErrorBoundary` 组件  \n\n  ```jsx\n  // index.js\n  const App = () => {\n    return (\n      <>\n        { error && new Error('error') }\n        <button onClick={() => setError(true)}>set error</button>\n      </>\n    );\n  }\n  const WithSentryErrorBoundaryApp = () => {\n    return (\n      <Sentry.ErrorBoundary fallback={<div>error boundary error</div>} showDialog>\n        <App />\n      </Sentry.ErrorBoundary>\n    );\n  }\n\n  ReactDOM.render(\n    <WithSentryApp />,\n    document.getElementById('root')\n  );\n  ```\n\n  - 点击按钮，页面会展示 `fallback` 内容，并且弹出反馈弹窗，向 `Sentry` 提交反馈，反馈内容可以在 `Sentry管理界面` 的 `User Feedback` 中查看\n  - 而在 `Sentry管理界面` 的 `Issues` 中，我们可以看到上报了名称为 `Error` 错误，他的描述是以 `React ErrorBoundary Error` 开头的\n\n    ![react-errorBoundary-error](https://lixuelang.com/test/Sentry/pic/012/react-errorBoundary-error.jpg)\n\n- 也可以使用Sentry提供的高阶组件 `withErrorBoundary` 实现同样效果\n\n  ```jsx\n  const WithSentryApp = Sentry.withErrorBoundary(App, { fallback: <p>an error has occurred</p>, showDialog: true });\n  ```\n\n- 更多信息参考: [官方文档](https://docs.sentry.io/platforms/javascript/guides/react/components/errorboundary/)\n\n## 集成 `redux`\n\n- 安装 `redux`\n\n  ```bash\n  npm i redux -S\n  ```\n\n- 集成 `redux`\n\n  通过 `sentryReduxEnhancer` 中的 `actionTransformer` 和 `stateTransformer` 过滤不需要在sentry管理界面中展示的 `action` 和 `state`\n\n  ```ts\n  // index.js\n  import React from 'react';\n  import ReactDOM from 'react-dom';\n\n  import * as Sentry from '@sentry/react';\n  import { Integrations } from '@sentry/tracing';\n\n  import { createStore } from 'redux';\n\n  Sentry.init({\n    dsn: \"http://c96e4ce910524463a4e6a655a7eb054f@10.10.8.46:9000/3\",\n    environment: 'localhost',\n    integrations: [new Integrations.BrowserTracing()],\n    tracesSampleRate: 1.0,\n    release: '0.0.1',\n  });\n\n  const initialState = {\n    a: 'init',\n    b: 'init',\n    c: 'init',\n  };\n\n  const rootReducer = (state = initialState, action) => {\n    if (action.type === 'SET_A') {\n      return {\n        ...state,\n        a: 'a_changed',\n      }\n    }\n    if (action.type === 'SET_B') {\n      return {\n        ...state,\n        b: 'b_changed',\n      }\n    }\n    if (action.type === 'SET_C') {\n      return {\n        ...state,\n        c: 'c_changed',\n      }\n    }\n    return state;\n  }\n\n  const sentryReduxEnhancer = Sentry.createReduxEnhancer({\n    actionTransformer: action => {\n      if (action.type === 'SET_B') {\n        return null;\n      }\n      return action;\n    },\n    stateTransformer: state => {\n      return {\n        ...state,\n        c: null,\n      }\n    },\n  });\n\n  const store = createStore(\n    rootReducer,\n    sentryReduxEnhancer,\n  );\n\n  const App = () => {\n    function fn() {\n      console.log(window.a.b);\n      // axios.get('/dddd').catch(() => {});\n    }\n    return (\n      <>\n        <button onClick={() => store.dispatch({ type: 'SET_A' })}>dispatch SET_A</button>\n        <button onClick={() => store.dispatch({ type: 'SET_B' })}>dispatch SET_B</button>\n        <button onClick={() => store.dispatch({ type: 'SET_C' })}>dispatch SET_C</button>\n        <button onClick={fn}>Break the world</button>\n      </>\n    );\n  }\n\n  ReactDOM.render(\n    <App />,\n    document.getElementById('root')\n  );\n  ```\n\n- 访问 `localhost:9000`，有4个按钮 `dispatch SET_A`、`dispatch SET_B`、`dispatch SET_C`、`Break the world`，依次点击，则报错\n\n- 在 `Sentry管理界面 -> issues`菜单中找到刚才错误上报详情\n\n- 在 `BREADCRUMBS` 中，可以看到有三条 `redux` 相关的 `CATEGORY`，分别表示 `redux init`、`dispatch SET_A`、`dispatch SET_C`。`dispatch SET_B`没有，是因为在 `actionTransformer` 中将其过滤掉了\n\n  ![redux](https://lixuelang.com/test/Sentry/pic/012/redux.jpg)\n\n- 页面往下翻，可以看到 `REDIX.STATE` 中记录了报错前最后的 `state`，有 `a`、`b` 值，但没有 `c` 的值，是因为在 `stateTransformer` 中过滤了 `c` 的值\n\n  ![redux-state](https://lixuelang.com/test/Sentry/pic/012/redux-state.jpg)\n\n- [官方文档](https://docs.sentry.io/platforms/javascript/guides/react/configuration/integrations/redux/)\n\n## `rrweb` 重播\n\n`rrweb` 是一个开源的 `Web` 会话回放库，它提供易于使用的 `API` 来记录用户的交互并远程回放。\n\n可以记录鼠标移动轨迹、交互动作和页面变化，并播放。\n\n`@sentry/rrweb` 是 `rrweb` 的 `sentry` 插件。\n\n- 安装\n\n  ```bash\n  npm install -S @sentry/rrweb rrweb\n  ```\n\n- 使用\n\n  ```js\n  import SentryRRWeb from '@sentry/rrweb';\n\n  Sentry.init({\n    integrations: [\n      new SentryRRWeb({\n        checkoutEveryNms: 10 * 1000, // 每10秒重新制作快照\n        checkoutEveryNth: 200, // 每 200 个 event 重新制作快照\n        maskAllInputs: false, // 将所有输入内容记录为 *\n      }),\n    ],\n  });\n  ```\n\n- 在页面中点击各个按钮，直到报错，在 `Sentry管理界面 -> Isseues` 中找到相关错误详情，在页面最底部有一个 `REPLAY` 模块，点击播放可以回放错误发生前的一系列操作\n\n- 查看效果\n\n  ![rrweb](https://lixuelang.com/test/Sentry/pic/012/sentry-rrweb.gif)\n","slug":"Sentry监控部署012-手动报错、组件报错、接入redux","published":1,"updated":"2021-11-22T12:17:46.306Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckwamy8370003hwv9bti3er16","content":"<h1 id=\"Sentry-实战\"><a href=\"#Sentry-实战\" class=\"headerlink\" title=\"Sentry 实战\"></a>Sentry 实战</h1><h2 id=\"手动上报错误\"><a href=\"#手动上报错误\" class=\"headerlink\" title=\"手动上报错误\"></a>手动上报错误</h2><ul>\n<li><p><code>Sentry</code> 的 <code>SDK</code> 会自动上报错误、未捕获的异常和 <code>unhandled rejections</code> 以及其他类型的错误。</p>\n</li>\n<li><p>对于未捕获的异常，我们可以手动上报。 <a href=\"https://docs.sentry.io/platforms/javascript/guides/react/usage/\">官方文档</a></p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Sentry <span class=\"token keyword\">from</span> <span class=\"token string\">\"@sentry/react\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">aFunctionThatMightFail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  Sentry<span class=\"token punctuation\">.</span><span class=\"token function\">captureException</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>我们同样可以在 <code>Sentry管理界面 -&gt; Issues</code> 中查看手动上报的异常</p>\n</li>\n<li><p>另外我们还可以手动上报一些纯文本信息</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">Sentry<span class=\"token punctuation\">.</span><span class=\"token function\">captureMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Something went wrong\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h2 id=\"设置上报等级\"><a href=\"#设置上报等级\" class=\"headerlink\" title=\"设置上报等级\"></a>设置上报等级</h2><ul>\n<li><p>我们可以对上报的信息定义等级，主要包括:</p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">export declare enum Severity &#123;\n  Fatal &#x3D; &quot;fatal&quot;,\n  Error &#x3D; &quot;error&quot;,\n  Warning &#x3D; &quot;warning&quot;,\n  Log &#x3D; &quot;log&quot;,\n  Info &#x3D; &quot;info&quot;,\n  Debug &#x3D; &quot;debug&quot;,\n  Critical &#x3D; &quot;critical&quot;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>手动上报错误定义 <code>level</code></p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">try &#123;\n  aFunctionThatMightFail();\n&#125; catch (err) &#123;\n  Sentry.captureException(err, &#123;\n    level: Sentry.Severity.Warning,\n  &#125;);\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>手动上报纯文本定义 <code>level</code></p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">Sentry.captureMessage(&quot;this is a debug message&quot;, Sentry.Severity.Warning);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p>定义一个范围，在范围内容统一定义 <code>level</code></p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">Sentry.configureScope(function(scope) &#123;\n  scope.setLevel(Sentry.Severity.Warning);\n  aFunctionThatMightFail();\n  bFunctionThatMightFail();\n&#125;);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n<h2 id=\"Sentry错误边界组件\"><a href=\"#Sentry错误边界组件\" class=\"headerlink\" title=\"Sentry错误边界组件\"></a><code>Sentry</code>错误边界组件</h2><p><code>Sentry</code>提供了错误边界组件，当 <code>react</code> 组件发生错误，可以上报相关信息</p>\n<ul>\n<li><p>使用 <code>Sentry.ErrorBoundary</code> 组件  </p>\n<pre class=\"line-numbers language-jsx\" data-language=\"jsx\"><code class=\"language-jsx\">&#x2F;&#x2F; index.js\nconst App &#x3D; () &#x3D;&gt; &#123;\n  return (\n    &lt;&gt;\n      &#123; error &amp;&amp; new Error(&#39;error&#39;) &#125;\n      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; setError(true)&#125;&gt;set error&lt;&#x2F;button&gt;\n    &lt;&#x2F;&gt;\n  );\n&#125;\nconst WithSentryErrorBoundaryApp &#x3D; () &#x3D;&gt; &#123;\n  return (\n    &lt;Sentry.ErrorBoundary fallback&#x3D;&#123;&lt;div&gt;error boundary error&lt;&#x2F;div&gt;&#125; showDialog&gt;\n      &lt;App &#x2F;&gt;\n    &lt;&#x2F;Sentry.ErrorBoundary&gt;\n  );\n&#125;\n\nReactDOM.render(\n  &lt;WithSentryApp &#x2F;&gt;,\n  document.getElementById(&#39;root&#39;)\n);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li><p>点击按钮，页面会展示 <code>fallback</code> 内容，并且弹出反馈弹窗，向 <code>Sentry</code> 提交反馈，反馈内容可以在 <code>Sentry管理界面</code> 的 <code>User Feedback</code> 中查看</p>\n</li>\n<li><p>而在 <code>Sentry管理界面</code> 的 <code>Issues</code> 中，我们可以看到上报了名称为 <code>Error</code> 错误，他的描述是以 <code>React ErrorBoundary Error</code> 开头的</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/012/react-errorBoundary-error.jpg\" alt=\"react-errorBoundary-error\"></p>\n</li>\n</ul>\n</li>\n<li><p>也可以使用Sentry提供的高阶组件 <code>withErrorBoundary</code> 实现同样效果</p>\n<pre class=\"line-numbers language-jsx\" data-language=\"jsx\"><code class=\"language-jsx\">const WithSentryApp &#x3D; Sentry.withErrorBoundary(App, &#123; fallback: &lt;p&gt;an error has occurred&lt;&#x2F;p&gt;, showDialog: true &#125;);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p>更多信息参考: <a href=\"https://docs.sentry.io/platforms/javascript/guides/react/components/errorboundary/\">官方文档</a></p>\n</li>\n</ul>\n<h2 id=\"集成-redux\"><a href=\"#集成-redux\" class=\"headerlink\" title=\"集成 redux\"></a>集成 <code>redux</code></h2><ul>\n<li><p>安装 <code>redux</code></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">npm i redux -S<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p>集成 <code>redux</code></p>\n<p>通过 <code>sentryReduxEnhancer</code> 中的 <code>actionTransformer</code> 和 <code>stateTransformer</code> 过滤不需要在sentry管理界面中展示的 <code>action</code> 和 <code>state</code></p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">&#x2F;&#x2F; index.js\nimport React from &#39;react&#39;;\nimport ReactDOM from &#39;react-dom&#39;;\n\nimport * as Sentry from &#39;@sentry&#x2F;react&#39;;\nimport &#123; Integrations &#125; from &#39;@sentry&#x2F;tracing&#39;;\n\nimport &#123; createStore &#125; from &#39;redux&#39;;\n\nSentry.init(&#123;\n  dsn: &quot;http:&#x2F;&#x2F;c96e4ce910524463a4e6a655a7eb054f@10.10.8.46:9000&#x2F;3&quot;,\n  environment: &#39;localhost&#39;,\n  integrations: [new Integrations.BrowserTracing()],\n  tracesSampleRate: 1.0,\n  release: &#39;0.0.1&#39;,\n&#125;);\n\nconst initialState &#x3D; &#123;\n  a: &#39;init&#39;,\n  b: &#39;init&#39;,\n  c: &#39;init&#39;,\n&#125;;\n\nconst rootReducer &#x3D; (state &#x3D; initialState, action) &#x3D;&gt; &#123;\n  if (action.type &#x3D;&#x3D;&#x3D; &#39;SET_A&#39;) &#123;\n    return &#123;\n      ...state,\n      a: &#39;a_changed&#39;,\n    &#125;\n  &#125;\n  if (action.type &#x3D;&#x3D;&#x3D; &#39;SET_B&#39;) &#123;\n    return &#123;\n      ...state,\n      b: &#39;b_changed&#39;,\n    &#125;\n  &#125;\n  if (action.type &#x3D;&#x3D;&#x3D; &#39;SET_C&#39;) &#123;\n    return &#123;\n      ...state,\n      c: &#39;c_changed&#39;,\n    &#125;\n  &#125;\n  return state;\n&#125;\n\nconst sentryReduxEnhancer &#x3D; Sentry.createReduxEnhancer(&#123;\n  actionTransformer: action &#x3D;&gt; &#123;\n    if (action.type &#x3D;&#x3D;&#x3D; &#39;SET_B&#39;) &#123;\n      return null;\n    &#125;\n    return action;\n  &#125;,\n  stateTransformer: state &#x3D;&gt; &#123;\n    return &#123;\n      ...state,\n      c: null,\n    &#125;\n  &#125;,\n&#125;);\n\nconst store &#x3D; createStore(\n  rootReducer,\n  sentryReduxEnhancer,\n);\n\nconst App &#x3D; () &#x3D;&gt; &#123;\n  function fn() &#123;\n    console.log(window.a.b);\n    &#x2F;&#x2F; axios.get(&#39;&#x2F;dddd&#39;).catch(() &#x3D;&gt; &#123;&#125;);\n  &#125;\n  return (\n    &lt;&gt;\n      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; store.dispatch(&#123; type: &#39;SET_A&#39; &#125;)&#125;&gt;dispatch SET_A&lt;&#x2F;button&gt;\n      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; store.dispatch(&#123; type: &#39;SET_B&#39; &#125;)&#125;&gt;dispatch SET_B&lt;&#x2F;button&gt;\n      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; store.dispatch(&#123; type: &#39;SET_C&#39; &#125;)&#125;&gt;dispatch SET_C&lt;&#x2F;button&gt;\n      &lt;button onClick&#x3D;&#123;fn&#125;&gt;Break the world&lt;&#x2F;button&gt;\n    &lt;&#x2F;&gt;\n  );\n&#125;\n\nReactDOM.render(\n  &lt;App &#x2F;&gt;,\n  document.getElementById(&#39;root&#39;)\n);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>访问 <code>localhost:9000</code>，有4个按钮 <code>dispatch SET_A</code>、<code>dispatch SET_B</code>、<code>dispatch SET_C</code>、<code>Break the world</code>，依次点击，则报错</p>\n</li>\n<li><p>在 <code>Sentry管理界面 -&gt; issues</code>菜单中找到刚才错误上报详情</p>\n</li>\n<li><p>在 <code>BREADCRUMBS</code> 中，可以看到有三条 <code>redux</code> 相关的 <code>CATEGORY</code>，分别表示 <code>redux init</code>、<code>dispatch SET_A</code>、<code>dispatch SET_C</code>。<code>dispatch SET_B</code>没有，是因为在 <code>actionTransformer</code> 中将其过滤掉了</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/012/redux.jpg\" alt=\"redux\"></p>\n</li>\n<li><p>页面往下翻，可以看到 <code>REDIX.STATE</code> 中记录了报错前最后的 <code>state</code>，有 <code>a</code>、<code>b</code> 值，但没有 <code>c</code> 的值，是因为在 <code>stateTransformer</code> 中过滤了 <code>c</code> 的值</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/012/redux-state.jpg\" alt=\"redux-state\"></p>\n</li>\n<li><p><a href=\"https://docs.sentry.io/platforms/javascript/guides/react/configuration/integrations/redux/\">官方文档</a></p>\n</li>\n</ul>\n<h2 id=\"rrweb-重播\"><a href=\"#rrweb-重播\" class=\"headerlink\" title=\"rrweb 重播\"></a><code>rrweb</code> 重播</h2><p><code>rrweb</code> 是一个开源的 <code>Web</code> 会话回放库，它提供易于使用的 <code>API</code> 来记录用户的交互并远程回放。</p>\n<p>可以记录鼠标移动轨迹、交互动作和页面变化，并播放。</p>\n<p><code>@sentry/rrweb</code> 是 <code>rrweb</code> 的 <code>sentry</code> 插件。</p>\n<ul>\n<li><p>安装</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">npm install -S @sentry&#x2F;rrweb rrweb<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p>使用</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> SentryRRWeb <span class=\"token keyword\">from</span> <span class=\"token string\">'@sentry/rrweb'</span><span class=\"token punctuation\">;</span>\n\nSentry<span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  integrations<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">SentryRRWeb</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n      checkoutEveryNms<span class=\"token operator\">:</span> <span class=\"token number\">10</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 每10秒重新制作快照</span>\n      checkoutEveryNth<span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 每 200 个 event 重新制作快照</span>\n      maskAllInputs<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 将所有输入内容记录为 *</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>在页面中点击各个按钮，直到报错，在 <code>Sentry管理界面 -&gt; Isseues</code> 中找到相关错误详情，在页面最底部有一个 <code>REPLAY</code> 模块，点击播放可以回放错误发生前的一系列操作</p>\n</li>\n<li><p>查看效果</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/012/sentry-rrweb.gif\" alt=\"rrweb\"></p>\n</li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<h1 id=\"Sentry-实战\"><a href=\"#Sentry-实战\" class=\"headerlink\" title=\"Sentry 实战\"></a>Sentry 实战</h1><h2 id=\"手动上报错误\"><a href=\"#手动上报错误\" class=\"headerlink\" title=\"手动上报错误\"></a>手动上报错误</h2><ul>\n<li><p><code>Sentry</code> 的 <code>SDK</code> 会自动上报错误、未捕获的异常和 <code>unhandled rejections</code> 以及其他类型的错误。</p>\n</li>\n<li><p>对于未捕获的异常，我们可以手动上报。 <a href=\"https://docs.sentry.io/platforms/javascript/guides/react/usage/\">官方文档</a></p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Sentry <span class=\"token keyword\">from</span> <span class=\"token string\">\"@sentry/react\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">aFunctionThatMightFail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  Sentry<span class=\"token punctuation\">.</span><span class=\"token function\">captureException</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>我们同样可以在 <code>Sentry管理界面 -&gt; Issues</code> 中查看手动上报的异常</p>\n</li>\n<li><p>另外我们还可以手动上报一些纯文本信息</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">Sentry<span class=\"token punctuation\">.</span><span class=\"token function\">captureMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Something went wrong\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h2 id=\"设置上报等级\"><a href=\"#设置上报等级\" class=\"headerlink\" title=\"设置上报等级\"></a>设置上报等级</h2><ul>\n<li><p>我们可以对上报的信息定义等级，主要包括:</p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">export declare enum Severity &#123;\n  Fatal &#x3D; &quot;fatal&quot;,\n  Error &#x3D; &quot;error&quot;,\n  Warning &#x3D; &quot;warning&quot;,\n  Log &#x3D; &quot;log&quot;,\n  Info &#x3D; &quot;info&quot;,\n  Debug &#x3D; &quot;debug&quot;,\n  Critical &#x3D; &quot;critical&quot;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>手动上报错误定义 <code>level</code></p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">try &#123;\n  aFunctionThatMightFail();\n&#125; catch (err) &#123;\n  Sentry.captureException(err, &#123;\n    level: Sentry.Severity.Warning,\n  &#125;);\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>手动上报纯文本定义 <code>level</code></p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">Sentry.captureMessage(&quot;this is a debug message&quot;, Sentry.Severity.Warning);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p>定义一个范围，在范围内容统一定义 <code>level</code></p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">Sentry.configureScope(function(scope) &#123;\n  scope.setLevel(Sentry.Severity.Warning);\n  aFunctionThatMightFail();\n  bFunctionThatMightFail();\n&#125;);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n<h2 id=\"Sentry错误边界组件\"><a href=\"#Sentry错误边界组件\" class=\"headerlink\" title=\"Sentry错误边界组件\"></a><code>Sentry</code>错误边界组件</h2><p><code>Sentry</code>提供了错误边界组件，当 <code>react</code> 组件发生错误，可以上报相关信息</p>\n<ul>\n<li><p>使用 <code>Sentry.ErrorBoundary</code> 组件  </p>\n<pre class=\"line-numbers language-jsx\" data-language=\"jsx\"><code class=\"language-jsx\">&#x2F;&#x2F; index.js\nconst App &#x3D; () &#x3D;&gt; &#123;\n  return (\n    &lt;&gt;\n      &#123; error &amp;&amp; new Error(&#39;error&#39;) &#125;\n      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; setError(true)&#125;&gt;set error&lt;&#x2F;button&gt;\n    &lt;&#x2F;&gt;\n  );\n&#125;\nconst WithSentryErrorBoundaryApp &#x3D; () &#x3D;&gt; &#123;\n  return (\n    &lt;Sentry.ErrorBoundary fallback&#x3D;&#123;&lt;div&gt;error boundary error&lt;&#x2F;div&gt;&#125; showDialog&gt;\n      &lt;App &#x2F;&gt;\n    &lt;&#x2F;Sentry.ErrorBoundary&gt;\n  );\n&#125;\n\nReactDOM.render(\n  &lt;WithSentryApp &#x2F;&gt;,\n  document.getElementById(&#39;root&#39;)\n);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li><p>点击按钮，页面会展示 <code>fallback</code> 内容，并且弹出反馈弹窗，向 <code>Sentry</code> 提交反馈，反馈内容可以在 <code>Sentry管理界面</code> 的 <code>User Feedback</code> 中查看</p>\n</li>\n<li><p>而在 <code>Sentry管理界面</code> 的 <code>Issues</code> 中，我们可以看到上报了名称为 <code>Error</code> 错误，他的描述是以 <code>React ErrorBoundary Error</code> 开头的</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/012/react-errorBoundary-error.jpg\" alt=\"react-errorBoundary-error\"></p>\n</li>\n</ul>\n</li>\n<li><p>也可以使用Sentry提供的高阶组件 <code>withErrorBoundary</code> 实现同样效果</p>\n<pre class=\"line-numbers language-jsx\" data-language=\"jsx\"><code class=\"language-jsx\">const WithSentryApp &#x3D; Sentry.withErrorBoundary(App, &#123; fallback: &lt;p&gt;an error has occurred&lt;&#x2F;p&gt;, showDialog: true &#125;);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p>更多信息参考: <a href=\"https://docs.sentry.io/platforms/javascript/guides/react/components/errorboundary/\">官方文档</a></p>\n</li>\n</ul>\n<h2 id=\"集成-redux\"><a href=\"#集成-redux\" class=\"headerlink\" title=\"集成 redux\"></a>集成 <code>redux</code></h2><ul>\n<li><p>安装 <code>redux</code></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">npm i redux -S<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p>集成 <code>redux</code></p>\n<p>通过 <code>sentryReduxEnhancer</code> 中的 <code>actionTransformer</code> 和 <code>stateTransformer</code> 过滤不需要在sentry管理界面中展示的 <code>action</code> 和 <code>state</code></p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">&#x2F;&#x2F; index.js\nimport React from &#39;react&#39;;\nimport ReactDOM from &#39;react-dom&#39;;\n\nimport * as Sentry from &#39;@sentry&#x2F;react&#39;;\nimport &#123; Integrations &#125; from &#39;@sentry&#x2F;tracing&#39;;\n\nimport &#123; createStore &#125; from &#39;redux&#39;;\n\nSentry.init(&#123;\n  dsn: &quot;http:&#x2F;&#x2F;c96e4ce910524463a4e6a655a7eb054f@10.10.8.46:9000&#x2F;3&quot;,\n  environment: &#39;localhost&#39;,\n  integrations: [new Integrations.BrowserTracing()],\n  tracesSampleRate: 1.0,\n  release: &#39;0.0.1&#39;,\n&#125;);\n\nconst initialState &#x3D; &#123;\n  a: &#39;init&#39;,\n  b: &#39;init&#39;,\n  c: &#39;init&#39;,\n&#125;;\n\nconst rootReducer &#x3D; (state &#x3D; initialState, action) &#x3D;&gt; &#123;\n  if (action.type &#x3D;&#x3D;&#x3D; &#39;SET_A&#39;) &#123;\n    return &#123;\n      ...state,\n      a: &#39;a_changed&#39;,\n    &#125;\n  &#125;\n  if (action.type &#x3D;&#x3D;&#x3D; &#39;SET_B&#39;) &#123;\n    return &#123;\n      ...state,\n      b: &#39;b_changed&#39;,\n    &#125;\n  &#125;\n  if (action.type &#x3D;&#x3D;&#x3D; &#39;SET_C&#39;) &#123;\n    return &#123;\n      ...state,\n      c: &#39;c_changed&#39;,\n    &#125;\n  &#125;\n  return state;\n&#125;\n\nconst sentryReduxEnhancer &#x3D; Sentry.createReduxEnhancer(&#123;\n  actionTransformer: action &#x3D;&gt; &#123;\n    if (action.type &#x3D;&#x3D;&#x3D; &#39;SET_B&#39;) &#123;\n      return null;\n    &#125;\n    return action;\n  &#125;,\n  stateTransformer: state &#x3D;&gt; &#123;\n    return &#123;\n      ...state,\n      c: null,\n    &#125;\n  &#125;,\n&#125;);\n\nconst store &#x3D; createStore(\n  rootReducer,\n  sentryReduxEnhancer,\n);\n\nconst App &#x3D; () &#x3D;&gt; &#123;\n  function fn() &#123;\n    console.log(window.a.b);\n    &#x2F;&#x2F; axios.get(&#39;&#x2F;dddd&#39;).catch(() &#x3D;&gt; &#123;&#125;);\n  &#125;\n  return (\n    &lt;&gt;\n      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; store.dispatch(&#123; type: &#39;SET_A&#39; &#125;)&#125;&gt;dispatch SET_A&lt;&#x2F;button&gt;\n      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; store.dispatch(&#123; type: &#39;SET_B&#39; &#125;)&#125;&gt;dispatch SET_B&lt;&#x2F;button&gt;\n      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; store.dispatch(&#123; type: &#39;SET_C&#39; &#125;)&#125;&gt;dispatch SET_C&lt;&#x2F;button&gt;\n      &lt;button onClick&#x3D;&#123;fn&#125;&gt;Break the world&lt;&#x2F;button&gt;\n    &lt;&#x2F;&gt;\n  );\n&#125;\n\nReactDOM.render(\n  &lt;App &#x2F;&gt;,\n  document.getElementById(&#39;root&#39;)\n);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>访问 <code>localhost:9000</code>，有4个按钮 <code>dispatch SET_A</code>、<code>dispatch SET_B</code>、<code>dispatch SET_C</code>、<code>Break the world</code>，依次点击，则报错</p>\n</li>\n<li><p>在 <code>Sentry管理界面 -&gt; issues</code>菜单中找到刚才错误上报详情</p>\n</li>\n<li><p>在 <code>BREADCRUMBS</code> 中，可以看到有三条 <code>redux</code> 相关的 <code>CATEGORY</code>，分别表示 <code>redux init</code>、<code>dispatch SET_A</code>、<code>dispatch SET_C</code>。<code>dispatch SET_B</code>没有，是因为在 <code>actionTransformer</code> 中将其过滤掉了</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/012/redux.jpg\" alt=\"redux\"></p>\n</li>\n<li><p>页面往下翻，可以看到 <code>REDIX.STATE</code> 中记录了报错前最后的 <code>state</code>，有 <code>a</code>、<code>b</code> 值，但没有 <code>c</code> 的值，是因为在 <code>stateTransformer</code> 中过滤了 <code>c</code> 的值</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/012/redux-state.jpg\" alt=\"redux-state\"></p>\n</li>\n<li><p><a href=\"https://docs.sentry.io/platforms/javascript/guides/react/configuration/integrations/redux/\">官方文档</a></p>\n</li>\n</ul>\n<h2 id=\"rrweb-重播\"><a href=\"#rrweb-重播\" class=\"headerlink\" title=\"rrweb 重播\"></a><code>rrweb</code> 重播</h2><p><code>rrweb</code> 是一个开源的 <code>Web</code> 会话回放库，它提供易于使用的 <code>API</code> 来记录用户的交互并远程回放。</p>\n<p>可以记录鼠标移动轨迹、交互动作和页面变化，并播放。</p>\n<p><code>@sentry/rrweb</code> 是 <code>rrweb</code> 的 <code>sentry</code> 插件。</p>\n<ul>\n<li><p>安装</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">npm install -S @sentry&#x2F;rrweb rrweb<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p>使用</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> SentryRRWeb <span class=\"token keyword\">from</span> <span class=\"token string\">'@sentry/rrweb'</span><span class=\"token punctuation\">;</span>\n\nSentry<span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  integrations<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">SentryRRWeb</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n      checkoutEveryNms<span class=\"token operator\">:</span> <span class=\"token number\">10</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 每10秒重新制作快照</span>\n      checkoutEveryNth<span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 每 200 个 event 重新制作快照</span>\n      maskAllInputs<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 将所有输入内容记录为 *</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>在页面中点击各个按钮，直到报错，在 <code>Sentry管理界面 -&gt; Isseues</code> 中找到相关错误详情，在页面最底部有一个 <code>REPLAY</code> 模块，点击播放可以回放错误发生前的一系列操作</p>\n</li>\n<li><p>查看效果</p>\n<p><img src=\"https://lixuelang.com/test/Sentry/pic/012/sentry-rrweb.gif\" alt=\"rrweb\"></p>\n</li>\n</ul>\n"},{"title":"微前端001-webpack5模块联邦实战","date":"2021-12-06T01:52:21.000Z","_content":"\n### 一、前置知识\n\n1. 创建子项目`remote`: 暴露模块\n\n2. 创建子项目`host`: 引用remote暴露模块\n\n3. 暴露的模块我们先称为`容器`, 而引用容器的可以叫做`应用`\n\n4. 配置参数\n\n| 字段 | 类型 | 含义 |\n| :--- | :--- | :--- |\nname\t   | string\t| 必传值，即输出的模块名，被远程引用时路径为${name}/${expose}\nlibrary\t   | object\t| 声明全局变量的方式，name为umd的name\nfilename   | string\t| 构建输出的文件名\nremotes\t   | object\t| 远程引用的应用名及其别名的映射，使用时以key值作为name\nexposes\t   | object\t| 被远程引用时可暴露的资源路径及其别名\nshared\t   | object\t| 与其他应用之间可以共享的第三方依赖，使你的代码中不用重复加载同一份依赖\n\n5. 实战代码github: https://github.com/AlexLXL/full_stack/tree/master/%E7%AC%AC%E4%B8%83%E7%AB%A0%20%E6%89%93%E5%8C%85%E7%9B%B8%E5%85%B3/webpack/005.ModuleFederation\n\n### 二、模块联邦\n\n- 微前端实现方式之一, 可以将一个大项目拆成多个独立的子项目, 子项目中可以共享一些模块给其他模块使用\n\n### 一) 实战\n\n#### 创建子项目`remote`\n\n1.创建文件夹`remote`\n\n2.文件夹下执行 `npm run init`\n\n3.package.json\n\n```\n{\n  \"name\": \"remote\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"dev\": \"webpack server\",\n    \"build\": \"webpack\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"@babel/core\": \"^7.16.0\",\n    \"@babel/preset-react\": \"^7.16.0\",\n    \"babel-loader\": \"^8.2.3\",\n    \"html-webpack-plugin\": \"^5.5.0\",\n    \"webpack\": \"^5.64.4\",\n    \"webpack-cli\": \"^4.9.1\",\n    \"webpack-dev-server\": \"^4.6.0\"\n  },\n  \"dependencies\": {\n    \"react\": \"^17.0.2\",\n    \"react-dom\": \"^17.0.2\"\n  }\n}\n\n```\n\n4.安装依赖`npm install`\n\n5.remote\\webpack.config.js\n\n```\nlet path = require(\"path\");\nlet webpack = require(\"webpack\");\nlet HtmlWebpackPlugin = require(\"html-webpack-plugin\");\nlet ModuleFederationPlugin = require(\"webpack/lib/container/ModuleFederationPlugin\");\n\nmodule.exports = {\n    mode: \"development\",\n    entry: \"./src/index.js\",\n    output: {\n        publicPath: \"http://localhost:3000/\",\n    },\n    devServer: {\n        port: 3000\n    },\n    devtool: 'source-map',\n    module: {\n        rules: [\n            {\n                test: /\\.jsx?$/,\n                use: {\n                    loader: 'babel-loader',\n                    options: {\n                        presets: [\"@babel/preset-react\"]\n                    },\n                },\n                exclude: /node_modules/,\n            },\n        ]\n    },\n    plugins: [\n        new HtmlWebpackPlugin({\n            template: './public/index.html'\n        }),\n        // 使用模块联邦\n        new ModuleFederationPlugin({\n            // 模块名(用于应用webpack引用时使用)\n            name: \"appOne\",\n            // 打包后的文件名(用于应用webpack引用时使用)\n            filename: \"remoteEntry.js\",\n            // 共享的模块\n            exposes: {\n                \"./NewsList\": \"./src/NewsList\",\n            },\n            // 如果两个子项目都用了react、react-dom可以共用一个\n            shared: {\n                react: {singleton: true},\n                \"react-dom\": {singleton: true}\n            }\n        })\n    ]\n}\n```\n\n6.remote\\src\\index.js\n\n```\nimport(\"./bootstrap\");\n```\n\n7.remote\\src\\bootstrap.js\n\n```\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App/>, document.getElementById(\"root\"));\n```\n\n8.remote\\src\\App.js\n\n```\nimport React from \"react\";\nimport NewsList from './NewsList';\n\nconst App = () => (\n    <div>\n        <h2>本地组件NewsList</h2>\n        <NewsList/>\n    </div>\n);\n\nexport default App;\n```\n\n9.remote\\src\\NewsList.js\n\n```\nimport React from \"react\";\n\nexport default () => (\n    <div>新闻列表1</div>\n)\n```\n\n#### 创建子项目`host`\n\n1.创建文件夹`host`\n\n2.文件夹下执行 `npm run init`\n\n3.package.json\n\n```\n{\n  \"name\": \"host\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"dev\": \"webpack server\",\n    \"webpack\": \"webpack\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"@babel/core\": \"^7.16.0\",\n    \"@babel/preset-react\": \"^7.16.0\",\n    \"babel-loader\": \"^8.2.3\",\n    \"html-webpack-plugin\": \"^5.5.0\",\n    \"webpack\": \"^5.64.4\",\n    \"webpack-cli\": \"^4.9.1\",\n    \"webpack-dev-server\": \"^4.6.0\"\n  },\n  \"dependencies\": {\n    \"react\": \"^17.0.2\",\n    \"react-dom\": \"^17.0.2\"\n  }\n}\n```\n\n4.安装依赖`npm install`\n\n5.remote\\webpack.config.js\n\n```\nlet path = require(\"path\");\nlet webpack = require(\"webpack\");\nlet HtmlWebpackPlugin = require(\"html-webpack-plugin\");\nconst ModuleFederationPlugin = require(\"webpack/lib/container/ModuleFederationPlugin\");\n\nmodule.exports = {\n    mode: \"development\",\n    entry: \"./src/index.js\",\n    output: {\n        publicPath: \"http://localhost:8000/\",\n    },\n    devServer: {\n        port: 8000\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.jsx?$/,\n                use: {\n                    loader: 'babel-loader',\n                    options: {\n                        presets: [\"@babel/preset-react\"]\n                    },\n                },\n                exclude: /node_modules/,\n            },\n        ]\n    },\n    plugins: [\n        new HtmlWebpackPlugin({\n            template: './public/index.html'\n        }),\n        new ModuleFederationPlugin({\n            name: \"appTwo\",\n            // filename: \"remoteEntry.js\",\n            remotes: {\n                remote_appOne_remoteEntry: \"appOne@http://localhost:3000/remoteEntry.js\"\n            },\n            shared: {\n                react: {singleton: true},\n                \"react-dom\": {singleton: true}\n            }\n        })\n    ]\n}\n```\n\n6.remote\\src\\index.js\n\n```\nimport(\"./bootstrap\");\n```\n\n7.remote\\src\\bootstrap.js\n\n```\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App/>, document.getElementById(\"root\"));\n```\n\n8.remote\\src\\App.js\n\n```\nimport React from \"react\";\nimport Slides from './Slides';\n// 使用remote子项目共享的模块\nconst RemoteNewsList = React.lazy(() => import(\"remote_appOne_remoteEntry/NewsList\"));\n\nconst App = () => (\n    <div>\n        <h2 >本地组件Slides, 远程组件NewsList</h2>\n        <Slides />\n        <React.Suspense fallback=\"Loading NewsList\">\n            <RemoteNewsList />\n        </React.Suspense>\n    </div>\n);\nexport default App;\n```\n\n9.remote\\src\\Slides.js\n\n```\nimport React from \"react\";\n\nexport default () => (\n    <div>轮播图</div>\n)\n```\n\n#### 启动项目\n\n子项目remote: `npm run dev`  \n\n子项目host: `npm run dev`  \n\n即可在host页面中看到remote的共享模块\n","source":"_posts/微前端001-webpack5模块联邦实战.md","raw":"---\ntitle: 微前端001-webpack5模块联邦实战\ndate: 2021-12-06 09:52:21\ncategories:  \n- [window, 前端, 微前端, webpack]  \ntags:  \n- window\n- 前端\n- 微前端\n- webpack\n---\n\n### 一、前置知识\n\n1. 创建子项目`remote`: 暴露模块\n\n2. 创建子项目`host`: 引用remote暴露模块\n\n3. 暴露的模块我们先称为`容器`, 而引用容器的可以叫做`应用`\n\n4. 配置参数\n\n| 字段 | 类型 | 含义 |\n| :--- | :--- | :--- |\nname\t   | string\t| 必传值，即输出的模块名，被远程引用时路径为${name}/${expose}\nlibrary\t   | object\t| 声明全局变量的方式，name为umd的name\nfilename   | string\t| 构建输出的文件名\nremotes\t   | object\t| 远程引用的应用名及其别名的映射，使用时以key值作为name\nexposes\t   | object\t| 被远程引用时可暴露的资源路径及其别名\nshared\t   | object\t| 与其他应用之间可以共享的第三方依赖，使你的代码中不用重复加载同一份依赖\n\n5. 实战代码github: https://github.com/AlexLXL/full_stack/tree/master/%E7%AC%AC%E4%B8%83%E7%AB%A0%20%E6%89%93%E5%8C%85%E7%9B%B8%E5%85%B3/webpack/005.ModuleFederation\n\n### 二、模块联邦\n\n- 微前端实现方式之一, 可以将一个大项目拆成多个独立的子项目, 子项目中可以共享一些模块给其他模块使用\n\n### 一) 实战\n\n#### 创建子项目`remote`\n\n1.创建文件夹`remote`\n\n2.文件夹下执行 `npm run init`\n\n3.package.json\n\n```\n{\n  \"name\": \"remote\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"dev\": \"webpack server\",\n    \"build\": \"webpack\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"@babel/core\": \"^7.16.0\",\n    \"@babel/preset-react\": \"^7.16.0\",\n    \"babel-loader\": \"^8.2.3\",\n    \"html-webpack-plugin\": \"^5.5.0\",\n    \"webpack\": \"^5.64.4\",\n    \"webpack-cli\": \"^4.9.1\",\n    \"webpack-dev-server\": \"^4.6.0\"\n  },\n  \"dependencies\": {\n    \"react\": \"^17.0.2\",\n    \"react-dom\": \"^17.0.2\"\n  }\n}\n\n```\n\n4.安装依赖`npm install`\n\n5.remote\\webpack.config.js\n\n```\nlet path = require(\"path\");\nlet webpack = require(\"webpack\");\nlet HtmlWebpackPlugin = require(\"html-webpack-plugin\");\nlet ModuleFederationPlugin = require(\"webpack/lib/container/ModuleFederationPlugin\");\n\nmodule.exports = {\n    mode: \"development\",\n    entry: \"./src/index.js\",\n    output: {\n        publicPath: \"http://localhost:3000/\",\n    },\n    devServer: {\n        port: 3000\n    },\n    devtool: 'source-map',\n    module: {\n        rules: [\n            {\n                test: /\\.jsx?$/,\n                use: {\n                    loader: 'babel-loader',\n                    options: {\n                        presets: [\"@babel/preset-react\"]\n                    },\n                },\n                exclude: /node_modules/,\n            },\n        ]\n    },\n    plugins: [\n        new HtmlWebpackPlugin({\n            template: './public/index.html'\n        }),\n        // 使用模块联邦\n        new ModuleFederationPlugin({\n            // 模块名(用于应用webpack引用时使用)\n            name: \"appOne\",\n            // 打包后的文件名(用于应用webpack引用时使用)\n            filename: \"remoteEntry.js\",\n            // 共享的模块\n            exposes: {\n                \"./NewsList\": \"./src/NewsList\",\n            },\n            // 如果两个子项目都用了react、react-dom可以共用一个\n            shared: {\n                react: {singleton: true},\n                \"react-dom\": {singleton: true}\n            }\n        })\n    ]\n}\n```\n\n6.remote\\src\\index.js\n\n```\nimport(\"./bootstrap\");\n```\n\n7.remote\\src\\bootstrap.js\n\n```\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App/>, document.getElementById(\"root\"));\n```\n\n8.remote\\src\\App.js\n\n```\nimport React from \"react\";\nimport NewsList from './NewsList';\n\nconst App = () => (\n    <div>\n        <h2>本地组件NewsList</h2>\n        <NewsList/>\n    </div>\n);\n\nexport default App;\n```\n\n9.remote\\src\\NewsList.js\n\n```\nimport React from \"react\";\n\nexport default () => (\n    <div>新闻列表1</div>\n)\n```\n\n#### 创建子项目`host`\n\n1.创建文件夹`host`\n\n2.文件夹下执行 `npm run init`\n\n3.package.json\n\n```\n{\n  \"name\": \"host\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"dev\": \"webpack server\",\n    \"webpack\": \"webpack\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"@babel/core\": \"^7.16.0\",\n    \"@babel/preset-react\": \"^7.16.0\",\n    \"babel-loader\": \"^8.2.3\",\n    \"html-webpack-plugin\": \"^5.5.0\",\n    \"webpack\": \"^5.64.4\",\n    \"webpack-cli\": \"^4.9.1\",\n    \"webpack-dev-server\": \"^4.6.0\"\n  },\n  \"dependencies\": {\n    \"react\": \"^17.0.2\",\n    \"react-dom\": \"^17.0.2\"\n  }\n}\n```\n\n4.安装依赖`npm install`\n\n5.remote\\webpack.config.js\n\n```\nlet path = require(\"path\");\nlet webpack = require(\"webpack\");\nlet HtmlWebpackPlugin = require(\"html-webpack-plugin\");\nconst ModuleFederationPlugin = require(\"webpack/lib/container/ModuleFederationPlugin\");\n\nmodule.exports = {\n    mode: \"development\",\n    entry: \"./src/index.js\",\n    output: {\n        publicPath: \"http://localhost:8000/\",\n    },\n    devServer: {\n        port: 8000\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.jsx?$/,\n                use: {\n                    loader: 'babel-loader',\n                    options: {\n                        presets: [\"@babel/preset-react\"]\n                    },\n                },\n                exclude: /node_modules/,\n            },\n        ]\n    },\n    plugins: [\n        new HtmlWebpackPlugin({\n            template: './public/index.html'\n        }),\n        new ModuleFederationPlugin({\n            name: \"appTwo\",\n            // filename: \"remoteEntry.js\",\n            remotes: {\n                remote_appOne_remoteEntry: \"appOne@http://localhost:3000/remoteEntry.js\"\n            },\n            shared: {\n                react: {singleton: true},\n                \"react-dom\": {singleton: true}\n            }\n        })\n    ]\n}\n```\n\n6.remote\\src\\index.js\n\n```\nimport(\"./bootstrap\");\n```\n\n7.remote\\src\\bootstrap.js\n\n```\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App/>, document.getElementById(\"root\"));\n```\n\n8.remote\\src\\App.js\n\n```\nimport React from \"react\";\nimport Slides from './Slides';\n// 使用remote子项目共享的模块\nconst RemoteNewsList = React.lazy(() => import(\"remote_appOne_remoteEntry/NewsList\"));\n\nconst App = () => (\n    <div>\n        <h2 >本地组件Slides, 远程组件NewsList</h2>\n        <Slides />\n        <React.Suspense fallback=\"Loading NewsList\">\n            <RemoteNewsList />\n        </React.Suspense>\n    </div>\n);\nexport default App;\n```\n\n9.remote\\src\\Slides.js\n\n```\nimport React from \"react\";\n\nexport default () => (\n    <div>轮播图</div>\n)\n```\n\n#### 启动项目\n\n子项目remote: `npm run dev`  \n\n子项目host: `npm run dev`  \n\n即可在host页面中看到remote的共享模块\n","slug":"微前端001-webpack5模块联邦实战","published":1,"updated":"2021-12-06T01:53:58.287Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckwu222nz0000o0v90uk37ag3","content":"<h3 id=\"一、前置知识\"><a href=\"#一、前置知识\" class=\"headerlink\" title=\"一、前置知识\"></a>一、前置知识</h3><ol>\n<li><p>创建子项目<code>remote</code>: 暴露模块</p>\n</li>\n<li><p>创建子项目<code>host</code>: 引用remote暴露模块</p>\n</li>\n<li><p>暴露的模块我们先称为<code>容器</code>, 而引用容器的可以叫做<code>应用</code></p>\n</li>\n<li><p>配置参数</p>\n</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th align=\"left\">字段</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">name</td>\n<td align=\"left\">string</td>\n<td align=\"left\">必传值，即输出的模块名，被远程引用时路径为${name}/${expose}</td>\n</tr>\n<tr>\n<td align=\"left\">library</td>\n<td align=\"left\">object</td>\n<td align=\"left\">声明全局变量的方式，name为umd的name</td>\n</tr>\n<tr>\n<td align=\"left\">filename</td>\n<td align=\"left\">string</td>\n<td align=\"left\">构建输出的文件名</td>\n</tr>\n<tr>\n<td align=\"left\">remotes</td>\n<td align=\"left\">object</td>\n<td align=\"left\">远程引用的应用名及其别名的映射，使用时以key值作为name</td>\n</tr>\n<tr>\n<td align=\"left\">exposes</td>\n<td align=\"left\">object</td>\n<td align=\"left\">被远程引用时可暴露的资源路径及其别名</td>\n</tr>\n<tr>\n<td align=\"left\">shared</td>\n<td align=\"left\">object</td>\n<td align=\"left\">与其他应用之间可以共享的第三方依赖，使你的代码中不用重复加载同一份依赖</td>\n</tr>\n</tbody></table>\n<ol start=\"5\">\n<li>实战代码github: <a href=\"https://github.com/AlexLXL/full_stack/tree/master/%E7%AC%AC%E4%B8%83%E7%AB%A0%20%E6%89%93%E5%8C%85%E7%9B%B8%E5%85%B3/webpack/005.ModuleFederation\">https://github.com/AlexLXL/full_stack/tree/master/%E7%AC%AC%E4%B8%83%E7%AB%A0%20%E6%89%93%E5%8C%85%E7%9B%B8%E5%85%B3/webpack/005.ModuleFederation</a></li>\n</ol>\n<h3 id=\"二、模块联邦\"><a href=\"#二、模块联邦\" class=\"headerlink\" title=\"二、模块联邦\"></a>二、模块联邦</h3><ul>\n<li>微前端实现方式之一, 可以将一个大项目拆成多个独立的子项目, 子项目中可以共享一些模块给其他模块使用</li>\n</ul>\n<h3 id=\"一-实战\"><a href=\"#一-实战\" class=\"headerlink\" title=\"一) 实战\"></a>一) 实战</h3><h4 id=\"创建子项目remote\"><a href=\"#创建子项目remote\" class=\"headerlink\" title=\"创建子项目remote\"></a>创建子项目<code>remote</code></h4><p>1.创建文件夹<code>remote</code></p>\n<p>2.文件夹下执行 <code>npm run init</code></p>\n<p>3.package.json</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123;\n  &quot;name&quot;: &quot;remote&quot;,\n  &quot;version&quot;: &quot;1.0.0&quot;,\n  &quot;description&quot;: &quot;&quot;,\n  &quot;main&quot;: &quot;index.js&quot;,\n  &quot;scripts&quot;: &#123;\n    &quot;dev&quot;: &quot;webpack server&quot;,\n    &quot;build&quot;: &quot;webpack&quot;\n  &#125;,\n  &quot;keywords&quot;: [],\n  &quot;author&quot;: &quot;&quot;,\n  &quot;license&quot;: &quot;ISC&quot;,\n  &quot;devDependencies&quot;: &#123;\n    &quot;@babel&#x2F;core&quot;: &quot;^7.16.0&quot;,\n    &quot;@babel&#x2F;preset-react&quot;: &quot;^7.16.0&quot;,\n    &quot;babel-loader&quot;: &quot;^8.2.3&quot;,\n    &quot;html-webpack-plugin&quot;: &quot;^5.5.0&quot;,\n    &quot;webpack&quot;: &quot;^5.64.4&quot;,\n    &quot;webpack-cli&quot;: &quot;^4.9.1&quot;,\n    &quot;webpack-dev-server&quot;: &quot;^4.6.0&quot;\n  &#125;,\n  &quot;dependencies&quot;: &#123;\n    &quot;react&quot;: &quot;^17.0.2&quot;,\n    &quot;react-dom&quot;: &quot;^17.0.2&quot;\n  &#125;\n&#125;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>4.安装依赖<code>npm install</code></p>\n<p>5.remote\\webpack.config.js</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">let path &#x3D; require(&quot;path&quot;);\nlet webpack &#x3D; require(&quot;webpack&quot;);\nlet HtmlWebpackPlugin &#x3D; require(&quot;html-webpack-plugin&quot;);\nlet ModuleFederationPlugin &#x3D; require(&quot;webpack&#x2F;lib&#x2F;container&#x2F;ModuleFederationPlugin&quot;);\n\nmodule.exports &#x3D; &#123;\n    mode: &quot;development&quot;,\n    entry: &quot;.&#x2F;src&#x2F;index.js&quot;,\n    output: &#123;\n        publicPath: &quot;http:&#x2F;&#x2F;localhost:3000&#x2F;&quot;,\n    &#125;,\n    devServer: &#123;\n        port: 3000\n    &#125;,\n    devtool: &#39;source-map&#39;,\n    module: &#123;\n        rules: [\n            &#123;\n                test: &#x2F;\\.jsx?$&#x2F;,\n                use: &#123;\n                    loader: &#39;babel-loader&#39;,\n                    options: &#123;\n                        presets: [&quot;@babel&#x2F;preset-react&quot;]\n                    &#125;,\n                &#125;,\n                exclude: &#x2F;node_modules&#x2F;,\n            &#125;,\n        ]\n    &#125;,\n    plugins: [\n        new HtmlWebpackPlugin(&#123;\n            template: &#39;.&#x2F;public&#x2F;index.html&#39;\n        &#125;),\n        &#x2F;&#x2F; 使用模块联邦\n        new ModuleFederationPlugin(&#123;\n            &#x2F;&#x2F; 模块名(用于应用webpack引用时使用)\n            name: &quot;appOne&quot;,\n            &#x2F;&#x2F; 打包后的文件名(用于应用webpack引用时使用)\n            filename: &quot;remoteEntry.js&quot;,\n            &#x2F;&#x2F; 共享的模块\n            exposes: &#123;\n                &quot;.&#x2F;NewsList&quot;: &quot;.&#x2F;src&#x2F;NewsList&quot;,\n            &#125;,\n            &#x2F;&#x2F; 如果两个子项目都用了react、react-dom可以共用一个\n            shared: &#123;\n                react: &#123;singleton: true&#125;,\n                &quot;react-dom&quot;: &#123;singleton: true&#125;\n            &#125;\n        &#125;)\n    ]\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>6.remote\\src\\index.js</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">import(&quot;.&#x2F;bootstrap&quot;);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>7.remote\\src\\bootstrap.js</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">import React from &quot;react&quot;;\nimport ReactDOM from &quot;react-dom&quot;;\nimport App from &quot;.&#x2F;App&quot;;\n\nReactDOM.render(&lt;App&#x2F;&gt;, document.getElementById(&quot;root&quot;));<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>8.remote\\src\\App.js</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">import React from &quot;react&quot;;\nimport NewsList from &#39;.&#x2F;NewsList&#39;;\n\nconst App &#x3D; () &#x3D;&gt; (\n    &lt;div&gt;\n        &lt;h2&gt;本地组件NewsList&lt;&#x2F;h2&gt;\n        &lt;NewsList&#x2F;&gt;\n    &lt;&#x2F;div&gt;\n);\n\nexport default App;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>9.remote\\src\\NewsList.js</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">import React from &quot;react&quot;;\n\nexport default () &#x3D;&gt; (\n    &lt;div&gt;新闻列表1&lt;&#x2F;div&gt;\n)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"创建子项目host\"><a href=\"#创建子项目host\" class=\"headerlink\" title=\"创建子项目host\"></a>创建子项目<code>host</code></h4><p>1.创建文件夹<code>host</code></p>\n<p>2.文件夹下执行 <code>npm run init</code></p>\n<p>3.package.json</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123;\n  &quot;name&quot;: &quot;host&quot;,\n  &quot;version&quot;: &quot;1.0.0&quot;,\n  &quot;description&quot;: &quot;&quot;,\n  &quot;main&quot;: &quot;index.js&quot;,\n  &quot;scripts&quot;: &#123;\n    &quot;dev&quot;: &quot;webpack server&quot;,\n    &quot;webpack&quot;: &quot;webpack&quot;\n  &#125;,\n  &quot;keywords&quot;: [],\n  &quot;author&quot;: &quot;&quot;,\n  &quot;license&quot;: &quot;ISC&quot;,\n  &quot;devDependencies&quot;: &#123;\n    &quot;@babel&#x2F;core&quot;: &quot;^7.16.0&quot;,\n    &quot;@babel&#x2F;preset-react&quot;: &quot;^7.16.0&quot;,\n    &quot;babel-loader&quot;: &quot;^8.2.3&quot;,\n    &quot;html-webpack-plugin&quot;: &quot;^5.5.0&quot;,\n    &quot;webpack&quot;: &quot;^5.64.4&quot;,\n    &quot;webpack-cli&quot;: &quot;^4.9.1&quot;,\n    &quot;webpack-dev-server&quot;: &quot;^4.6.0&quot;\n  &#125;,\n  &quot;dependencies&quot;: &#123;\n    &quot;react&quot;: &quot;^17.0.2&quot;,\n    &quot;react-dom&quot;: &quot;^17.0.2&quot;\n  &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>4.安装依赖<code>npm install</code></p>\n<p>5.remote\\webpack.config.js</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">let path &#x3D; require(&quot;path&quot;);\nlet webpack &#x3D; require(&quot;webpack&quot;);\nlet HtmlWebpackPlugin &#x3D; require(&quot;html-webpack-plugin&quot;);\nconst ModuleFederationPlugin &#x3D; require(&quot;webpack&#x2F;lib&#x2F;container&#x2F;ModuleFederationPlugin&quot;);\n\nmodule.exports &#x3D; &#123;\n    mode: &quot;development&quot;,\n    entry: &quot;.&#x2F;src&#x2F;index.js&quot;,\n    output: &#123;\n        publicPath: &quot;http:&#x2F;&#x2F;localhost:8000&#x2F;&quot;,\n    &#125;,\n    devServer: &#123;\n        port: 8000\n    &#125;,\n    module: &#123;\n        rules: [\n            &#123;\n                test: &#x2F;\\.jsx?$&#x2F;,\n                use: &#123;\n                    loader: &#39;babel-loader&#39;,\n                    options: &#123;\n                        presets: [&quot;@babel&#x2F;preset-react&quot;]\n                    &#125;,\n                &#125;,\n                exclude: &#x2F;node_modules&#x2F;,\n            &#125;,\n        ]\n    &#125;,\n    plugins: [\n        new HtmlWebpackPlugin(&#123;\n            template: &#39;.&#x2F;public&#x2F;index.html&#39;\n        &#125;),\n        new ModuleFederationPlugin(&#123;\n            name: &quot;appTwo&quot;,\n            &#x2F;&#x2F; filename: &quot;remoteEntry.js&quot;,\n            remotes: &#123;\n                remote_appOne_remoteEntry: &quot;appOne@http:&#x2F;&#x2F;localhost:3000&#x2F;remoteEntry.js&quot;\n            &#125;,\n            shared: &#123;\n                react: &#123;singleton: true&#125;,\n                &quot;react-dom&quot;: &#123;singleton: true&#125;\n            &#125;\n        &#125;)\n    ]\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>6.remote\\src\\index.js</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">import(&quot;.&#x2F;bootstrap&quot;);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>7.remote\\src\\bootstrap.js</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">import React from &quot;react&quot;;\nimport ReactDOM from &quot;react-dom&quot;;\nimport App from &quot;.&#x2F;App&quot;;\n\nReactDOM.render(&lt;App&#x2F;&gt;, document.getElementById(&quot;root&quot;));<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>8.remote\\src\\App.js</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">import React from &quot;react&quot;;\nimport Slides from &#39;.&#x2F;Slides&#39;;\n&#x2F;&#x2F; 使用remote子项目共享的模块\nconst RemoteNewsList &#x3D; React.lazy(() &#x3D;&gt; import(&quot;remote_appOne_remoteEntry&#x2F;NewsList&quot;));\n\nconst App &#x3D; () &#x3D;&gt; (\n    &lt;div&gt;\n        &lt;h2 &gt;本地组件Slides, 远程组件NewsList&lt;&#x2F;h2&gt;\n        &lt;Slides &#x2F;&gt;\n        &lt;React.Suspense fallback&#x3D;&quot;Loading NewsList&quot;&gt;\n            &lt;RemoteNewsList &#x2F;&gt;\n        &lt;&#x2F;React.Suspense&gt;\n    &lt;&#x2F;div&gt;\n);\nexport default App;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>9.remote\\src\\Slides.js</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">import React from &quot;react&quot;;\n\nexport default () &#x3D;&gt; (\n    &lt;div&gt;轮播图&lt;&#x2F;div&gt;\n)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"启动项目\"><a href=\"#启动项目\" class=\"headerlink\" title=\"启动项目\"></a>启动项目</h4><p>子项目remote: <code>npm run dev</code>  </p>\n<p>子项目host: <code>npm run dev</code>  </p>\n<p>即可在host页面中看到remote的共享模块</p>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<h3 id=\"一、前置知识\"><a href=\"#一、前置知识\" class=\"headerlink\" title=\"一、前置知识\"></a>一、前置知识</h3><ol>\n<li><p>创建子项目<code>remote</code>: 暴露模块</p>\n</li>\n<li><p>创建子项目<code>host</code>: 引用remote暴露模块</p>\n</li>\n<li><p>暴露的模块我们先称为<code>容器</code>, 而引用容器的可以叫做<code>应用</code></p>\n</li>\n<li><p>配置参数</p>\n</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th align=\"left\">字段</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">name</td>\n<td align=\"left\">string</td>\n<td align=\"left\">必传值，即输出的模块名，被远程引用时路径为${name}/${expose}</td>\n</tr>\n<tr>\n<td align=\"left\">library</td>\n<td align=\"left\">object</td>\n<td align=\"left\">声明全局变量的方式，name为umd的name</td>\n</tr>\n<tr>\n<td align=\"left\">filename</td>\n<td align=\"left\">string</td>\n<td align=\"left\">构建输出的文件名</td>\n</tr>\n<tr>\n<td align=\"left\">remotes</td>\n<td align=\"left\">object</td>\n<td align=\"left\">远程引用的应用名及其别名的映射，使用时以key值作为name</td>\n</tr>\n<tr>\n<td align=\"left\">exposes</td>\n<td align=\"left\">object</td>\n<td align=\"left\">被远程引用时可暴露的资源路径及其别名</td>\n</tr>\n<tr>\n<td align=\"left\">shared</td>\n<td align=\"left\">object</td>\n<td align=\"left\">与其他应用之间可以共享的第三方依赖，使你的代码中不用重复加载同一份依赖</td>\n</tr>\n</tbody></table>\n<ol start=\"5\">\n<li>实战代码github: <a href=\"https://github.com/AlexLXL/full_stack/tree/master/%E7%AC%AC%E4%B8%83%E7%AB%A0%20%E6%89%93%E5%8C%85%E7%9B%B8%E5%85%B3/webpack/005.ModuleFederation\">https://github.com/AlexLXL/full_stack/tree/master/%E7%AC%AC%E4%B8%83%E7%AB%A0%20%E6%89%93%E5%8C%85%E7%9B%B8%E5%85%B3/webpack/005.ModuleFederation</a></li>\n</ol>\n<h3 id=\"二、模块联邦\"><a href=\"#二、模块联邦\" class=\"headerlink\" title=\"二、模块联邦\"></a>二、模块联邦</h3><ul>\n<li>微前端实现方式之一, 可以将一个大项目拆成多个独立的子项目, 子项目中可以共享一些模块给其他模块使用</li>\n</ul>\n<h3 id=\"一-实战\"><a href=\"#一-实战\" class=\"headerlink\" title=\"一) 实战\"></a>一) 实战</h3><h4 id=\"创建子项目remote\"><a href=\"#创建子项目remote\" class=\"headerlink\" title=\"创建子项目remote\"></a>创建子项目<code>remote</code></h4><p>1.创建文件夹<code>remote</code></p>\n<p>2.文件夹下执行 <code>npm run init</code></p>\n<p>3.package.json</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123;\n  &quot;name&quot;: &quot;remote&quot;,\n  &quot;version&quot;: &quot;1.0.0&quot;,\n  &quot;description&quot;: &quot;&quot;,\n  &quot;main&quot;: &quot;index.js&quot;,\n  &quot;scripts&quot;: &#123;\n    &quot;dev&quot;: &quot;webpack server&quot;,\n    &quot;build&quot;: &quot;webpack&quot;\n  &#125;,\n  &quot;keywords&quot;: [],\n  &quot;author&quot;: &quot;&quot;,\n  &quot;license&quot;: &quot;ISC&quot;,\n  &quot;devDependencies&quot;: &#123;\n    &quot;@babel&#x2F;core&quot;: &quot;^7.16.0&quot;,\n    &quot;@babel&#x2F;preset-react&quot;: &quot;^7.16.0&quot;,\n    &quot;babel-loader&quot;: &quot;^8.2.3&quot;,\n    &quot;html-webpack-plugin&quot;: &quot;^5.5.0&quot;,\n    &quot;webpack&quot;: &quot;^5.64.4&quot;,\n    &quot;webpack-cli&quot;: &quot;^4.9.1&quot;,\n    &quot;webpack-dev-server&quot;: &quot;^4.6.0&quot;\n  &#125;,\n  &quot;dependencies&quot;: &#123;\n    &quot;react&quot;: &quot;^17.0.2&quot;,\n    &quot;react-dom&quot;: &quot;^17.0.2&quot;\n  &#125;\n&#125;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>4.安装依赖<code>npm install</code></p>\n<p>5.remote\\webpack.config.js</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">let path &#x3D; require(&quot;path&quot;);\nlet webpack &#x3D; require(&quot;webpack&quot;);\nlet HtmlWebpackPlugin &#x3D; require(&quot;html-webpack-plugin&quot;);\nlet ModuleFederationPlugin &#x3D; require(&quot;webpack&#x2F;lib&#x2F;container&#x2F;ModuleFederationPlugin&quot;);\n\nmodule.exports &#x3D; &#123;\n    mode: &quot;development&quot;,\n    entry: &quot;.&#x2F;src&#x2F;index.js&quot;,\n    output: &#123;\n        publicPath: &quot;http:&#x2F;&#x2F;localhost:3000&#x2F;&quot;,\n    &#125;,\n    devServer: &#123;\n        port: 3000\n    &#125;,\n    devtool: &#39;source-map&#39;,\n    module: &#123;\n        rules: [\n            &#123;\n                test: &#x2F;\\.jsx?$&#x2F;,\n                use: &#123;\n                    loader: &#39;babel-loader&#39;,\n                    options: &#123;\n                        presets: [&quot;@babel&#x2F;preset-react&quot;]\n                    &#125;,\n                &#125;,\n                exclude: &#x2F;node_modules&#x2F;,\n            &#125;,\n        ]\n    &#125;,\n    plugins: [\n        new HtmlWebpackPlugin(&#123;\n            template: &#39;.&#x2F;public&#x2F;index.html&#39;\n        &#125;),\n        &#x2F;&#x2F; 使用模块联邦\n        new ModuleFederationPlugin(&#123;\n            &#x2F;&#x2F; 模块名(用于应用webpack引用时使用)\n            name: &quot;appOne&quot;,\n            &#x2F;&#x2F; 打包后的文件名(用于应用webpack引用时使用)\n            filename: &quot;remoteEntry.js&quot;,\n            &#x2F;&#x2F; 共享的模块\n            exposes: &#123;\n                &quot;.&#x2F;NewsList&quot;: &quot;.&#x2F;src&#x2F;NewsList&quot;,\n            &#125;,\n            &#x2F;&#x2F; 如果两个子项目都用了react、react-dom可以共用一个\n            shared: &#123;\n                react: &#123;singleton: true&#125;,\n                &quot;react-dom&quot;: &#123;singleton: true&#125;\n            &#125;\n        &#125;)\n    ]\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>6.remote\\src\\index.js</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">import(&quot;.&#x2F;bootstrap&quot;);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>7.remote\\src\\bootstrap.js</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">import React from &quot;react&quot;;\nimport ReactDOM from &quot;react-dom&quot;;\nimport App from &quot;.&#x2F;App&quot;;\n\nReactDOM.render(&lt;App&#x2F;&gt;, document.getElementById(&quot;root&quot;));<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>8.remote\\src\\App.js</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">import React from &quot;react&quot;;\nimport NewsList from &#39;.&#x2F;NewsList&#39;;\n\nconst App &#x3D; () &#x3D;&gt; (\n    &lt;div&gt;\n        &lt;h2&gt;本地组件NewsList&lt;&#x2F;h2&gt;\n        &lt;NewsList&#x2F;&gt;\n    &lt;&#x2F;div&gt;\n);\n\nexport default App;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>9.remote\\src\\NewsList.js</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">import React from &quot;react&quot;;\n\nexport default () &#x3D;&gt; (\n    &lt;div&gt;新闻列表1&lt;&#x2F;div&gt;\n)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"创建子项目host\"><a href=\"#创建子项目host\" class=\"headerlink\" title=\"创建子项目host\"></a>创建子项目<code>host</code></h4><p>1.创建文件夹<code>host</code></p>\n<p>2.文件夹下执行 <code>npm run init</code></p>\n<p>3.package.json</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123;\n  &quot;name&quot;: &quot;host&quot;,\n  &quot;version&quot;: &quot;1.0.0&quot;,\n  &quot;description&quot;: &quot;&quot;,\n  &quot;main&quot;: &quot;index.js&quot;,\n  &quot;scripts&quot;: &#123;\n    &quot;dev&quot;: &quot;webpack server&quot;,\n    &quot;webpack&quot;: &quot;webpack&quot;\n  &#125;,\n  &quot;keywords&quot;: [],\n  &quot;author&quot;: &quot;&quot;,\n  &quot;license&quot;: &quot;ISC&quot;,\n  &quot;devDependencies&quot;: &#123;\n    &quot;@babel&#x2F;core&quot;: &quot;^7.16.0&quot;,\n    &quot;@babel&#x2F;preset-react&quot;: &quot;^7.16.0&quot;,\n    &quot;babel-loader&quot;: &quot;^8.2.3&quot;,\n    &quot;html-webpack-plugin&quot;: &quot;^5.5.0&quot;,\n    &quot;webpack&quot;: &quot;^5.64.4&quot;,\n    &quot;webpack-cli&quot;: &quot;^4.9.1&quot;,\n    &quot;webpack-dev-server&quot;: &quot;^4.6.0&quot;\n  &#125;,\n  &quot;dependencies&quot;: &#123;\n    &quot;react&quot;: &quot;^17.0.2&quot;,\n    &quot;react-dom&quot;: &quot;^17.0.2&quot;\n  &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>4.安装依赖<code>npm install</code></p>\n<p>5.remote\\webpack.config.js</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">let path &#x3D; require(&quot;path&quot;);\nlet webpack &#x3D; require(&quot;webpack&quot;);\nlet HtmlWebpackPlugin &#x3D; require(&quot;html-webpack-plugin&quot;);\nconst ModuleFederationPlugin &#x3D; require(&quot;webpack&#x2F;lib&#x2F;container&#x2F;ModuleFederationPlugin&quot;);\n\nmodule.exports &#x3D; &#123;\n    mode: &quot;development&quot;,\n    entry: &quot;.&#x2F;src&#x2F;index.js&quot;,\n    output: &#123;\n        publicPath: &quot;http:&#x2F;&#x2F;localhost:8000&#x2F;&quot;,\n    &#125;,\n    devServer: &#123;\n        port: 8000\n    &#125;,\n    module: &#123;\n        rules: [\n            &#123;\n                test: &#x2F;\\.jsx?$&#x2F;,\n                use: &#123;\n                    loader: &#39;babel-loader&#39;,\n                    options: &#123;\n                        presets: [&quot;@babel&#x2F;preset-react&quot;]\n                    &#125;,\n                &#125;,\n                exclude: &#x2F;node_modules&#x2F;,\n            &#125;,\n        ]\n    &#125;,\n    plugins: [\n        new HtmlWebpackPlugin(&#123;\n            template: &#39;.&#x2F;public&#x2F;index.html&#39;\n        &#125;),\n        new ModuleFederationPlugin(&#123;\n            name: &quot;appTwo&quot;,\n            &#x2F;&#x2F; filename: &quot;remoteEntry.js&quot;,\n            remotes: &#123;\n                remote_appOne_remoteEntry: &quot;appOne@http:&#x2F;&#x2F;localhost:3000&#x2F;remoteEntry.js&quot;\n            &#125;,\n            shared: &#123;\n                react: &#123;singleton: true&#125;,\n                &quot;react-dom&quot;: &#123;singleton: true&#125;\n            &#125;\n        &#125;)\n    ]\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>6.remote\\src\\index.js</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">import(&quot;.&#x2F;bootstrap&quot;);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>7.remote\\src\\bootstrap.js</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">import React from &quot;react&quot;;\nimport ReactDOM from &quot;react-dom&quot;;\nimport App from &quot;.&#x2F;App&quot;;\n\nReactDOM.render(&lt;App&#x2F;&gt;, document.getElementById(&quot;root&quot;));<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>8.remote\\src\\App.js</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">import React from &quot;react&quot;;\nimport Slides from &#39;.&#x2F;Slides&#39;;\n&#x2F;&#x2F; 使用remote子项目共享的模块\nconst RemoteNewsList &#x3D; React.lazy(() &#x3D;&gt; import(&quot;remote_appOne_remoteEntry&#x2F;NewsList&quot;));\n\nconst App &#x3D; () &#x3D;&gt; (\n    &lt;div&gt;\n        &lt;h2 &gt;本地组件Slides, 远程组件NewsList&lt;&#x2F;h2&gt;\n        &lt;Slides &#x2F;&gt;\n        &lt;React.Suspense fallback&#x3D;&quot;Loading NewsList&quot;&gt;\n            &lt;RemoteNewsList &#x2F;&gt;\n        &lt;&#x2F;React.Suspense&gt;\n    &lt;&#x2F;div&gt;\n);\nexport default App;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>9.remote\\src\\Slides.js</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">import React from &quot;react&quot;;\n\nexport default () &#x3D;&gt; (\n    &lt;div&gt;轮播图&lt;&#x2F;div&gt;\n)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"启动项目\"><a href=\"#启动项目\" class=\"headerlink\" title=\"启动项目\"></a>启动项目</h4><p>子项目remote: <code>npm run dev</code>  </p>\n<p>子项目host: <code>npm run dev</code>  </p>\n<p>即可在host页面中看到remote的共享模块</p>\n"},{"title":"微前端002-single-spa和qiankun实战","date":"2021-12-06T01:54:59.000Z","_content":"\n实战代码github：https://github.com/AlexLXL/ZF_002.weiQianDuan\n\n## 一、微前端知识\n\n### 一) 为什么需要微前端\n#### 1.什么是微前端？\n\n- 微前端就是将不同的功能按照不同的维度拆分成多个子应用，通过主应用来加载这些子应用\n- 微前端的核心在于'拆', 拆完后再'合'\n- 微前端不限制框架\n\n#### 2.为什么使用微前端\n\n- 不同团队使用不同技术栈\n- 每个团队能独立开发，独立部署\n- 项目中需要老的应用代码，但重构需要花费更多时间，同时可能引起其它问题\n\n将一个应用划分为多个子应用，将子应用打包成一个个lib。路径切换的时候加载不同子应用。这样每个子应用都是独立的，技术栈也不需要做限制！从而解决前端协同开发问题\n\n#### 3.微前端涵盖什么\n- lifeycycles - bootstrap、mount、unmount、update\n- shadow dom\n- scoped css\n- Proxy sandbox\n- html-loader\n- global store\n\n#### 4.落地\n\n![1](https://lixuelang.com/test//weiqianduan/1.png)\n\n2018年Single-SPA延生了， `single-spa`  是一个用于前端微服务化的  `javascript`  前端解决方案（本身没有处理样式隔离，js执行隔离，没有js沙箱的机制，需要手动加载js）实现了 `路由劫持和应用加载`\n\n2019年  `qiankun`  基于Single-SPA、提供了更加开箱即用的  API （`single-spa` + `sandbox`  + `import-html-entry`）做到了，技术栈无关、并且接入简单（像  `iframe`  一样简单）\n\n> 总结：子应用可以独立构建，运行时动态加载，子应用完全解耦，技术栈无关，靠的是协议接入（子应用必须导出bootstrap、mount、unmount方法）\n> \n> 基座: 主应用\n> 协议接入: 子应用需要统一规则，每个子应用(lib)都需要导出特定方法给基座加载\n\niframe废弃原因: \n> https://www.yuque.com/kuitos/gky7yw/gesexv\n> 为什么不用 iframe，这几乎是所有微前端方案第一个会被  `challenge`  的问题。但是大部分微前端方案又不约而同放弃了 iframe 方案，自然是有原因的，并不是为了 \"炫技\" 或者刻意追求 \"特立独行\"。\n> \n> 如果不考虑体验问题，iframe 几乎是最完美的微前端解决方案了。\n> \n> iframe 最大的特性就是提供了浏览器原生的硬隔离方案，不论是样式隔离、js 隔离这类问题统统都能被完美解决。但他的最大问题也在于他的隔离性无法被突破， `导致应用间上下文无法被共享` ，随之带来的开发体验、产品体验的问题。\n> \n> 其实这个问题之前这篇也提到过，这里再单独拿出来回顾一下好了。\n> \n> 1.url 不同步。浏览器刷新 iframe url 状态丢失、后退前进按钮无法使用。\n> 2.UI 不同步，DOM 结构不共享。想象一下屏幕右下角 1/4 的 iframe 里来一个带遮罩层的弹框，同时我们要求这个弹框要浏览器居中显示，还要浏览器 resize 时自动居中..\n> 3.全局上下文完全隔离，内存变量不共享。iframe 内外系统的通信、数据同步等需求，主应用的 cookie 要透传到根域名都不同的子应用中实现免登效果。\n> 4.慢。每次子应用进入都是一次浏览器上下文重建、资源重新加载的过程。\n> \n> 其中有的问题比较好解决(问题1)，有的问题我们可以睁一只眼闭一只眼(问题4)，但有的问题我们则很难解决(问题3)甚至无法解决(问题2)，而这些无法解决的问题恰恰又会给产品带来非常严重的体验问题， 最终导致我们舍弃了 iframe 方案。\n\n应用通信:\n\n- 基于URL传参，但传递消息能力弱（长度受限，明文，受限太多）\n- 基于自定义事件 `CustomEvent` 实现通信（window原生API）\n- 基于props主子应用通信\n- 使用全局变量、vuex进行通信\n\n公共依赖（主应用和子应用共用依赖；父调子模块，子打包父里的）:\n- `CDN`  - externals  \n- `webpack5`  联邦模块\n\n## 二、single-spa / single-spa-vue / single-spa-react实战\n\n- 创建基应用和子应用\n- 基座应用: npm install single-spa\n- 子应用: npm install single-spa-vue\n\n#### 子应用\n\n1. 添加挂载配置  \n2. 生成接入协议  \n3. 暴露接入协议  \n4. 修改webpack配置，让当前应用的方法挂载到window  \n5. 修改路由基准  \n6. 修改webpack配置，添加公共路径  \n7. 配置子应用独立运行  \n\n![2](https://lixuelang.com/test//weiqianduan/2.png)\n\n![3](https://lixuelang.com/test//weiqianduan/3.png)\n\n![4](https://lixuelang.com/test//weiqianduan/4.png)\n\n#### 基座应用\n\n1. 注册应用\n2. 启动single-spa\n![5](https://lixuelang.com/test//weiqianduan/5.png)\n\n\n以上即singe-spa基础使用\n\n#### 缺点及解决方案\n\n缺点: 样式不隔离、js不隔离、没有js沙箱机制、不能动态加载js文件\n\n解决:\n\na) `css`  隔离方案\n\na1. 子应用之间样式隔离:\n- `Dynamic Stylesheet`  动态样式表，当应用切换是移出老应用样式，添加新应用样式\n\na2. 主应用和子应用之间的样式隔离\n\n- `BEM` 约定在项目前缀（约定仅是约定，可能有人不遵守就会出很大问题）\n- `css-Modules`  打包时申城不冲突的选择器名（主流）\n- `Shadow DOM`  真正意义上的隔离 （qiankun）\n- `css-in-js`  不推荐(增删减都不好控制)\n\n![6](https://lixuelang.com/test//weiqianduan/6.png)\n\n\nb) `js`  隔离方案\n\n- es6的proxy\n\n\n## 三、qiankun实战\n\nqiankun会把整个子应用html拿过来加载，css和js部分会注释掉，用fetch重新请求\n\n#### 基座应用:\n\n1. html引入element-ui\n2. 添加基础页面的导航\n3. 注册应用\n4. 启动\n\n![7](https://lixuelang.com/test//weiqianduan/7.png)\n\n![8](https://lixuelang.com/test//weiqianduan/8.png)\n\n#### 子应用:\n1. 添加挂载配置\n2. 生成接入协议\n3. 暴露接入协议\n4. 修改webpack配置，让当前应用的方法挂载到window\n5. 修改路由基准\n6. 修改webpack配置，添加公共路径\n7. 配置子应用独立运行\n\n![9](https://lixuelang.com/test//weiqianduan/9.png)\n\n![10](https://lixuelang.com/test//weiqianduan/10.png)\n\n#### react子应用\n\n1.安装插件yarn add react-app-rewired\n2.修改package.json\n\n![11](https://lixuelang.com/test//weiqianduan/11.png)\n\n3.添加webpack配置(含环境变量)\n\n![12](https://lixuelang.com/test//weiqianduan/12.png)\n\n![13](https://lixuelang.com/test//weiqianduan/13.png)\n\n4.修改index.js\n\n![14](https://lixuelang.com/test//weiqianduan/14.png)\n\n5.添加路由yarn add react-router-dom\n\nApp.js\n![15](https://lixuelang.com/test//weiqianduan/15.png)\n\n...\n\n\n名词解释:  \n沙箱: 应用在运行从开始到结束，不会影响全局；可以理解为网吧的沙箱系统，开机->卸载安装了N个应用->关机->开机->恢复以前样子\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","source":"_posts/微前端002-single-spa和qiankun实战.md","raw":"---\ntitle: 微前端002-single-spa和qiankun实战\ndate: 2021-12-06 09:54:59\ncategories:  \n- [window, 前端, 微前端, sing-spa, qiankun]  \ntags:  \n- window\n- 前端\n- 微前端\n- sing-spa\n- qiankun\n---\n\n实战代码github：https://github.com/AlexLXL/ZF_002.weiQianDuan\n\n## 一、微前端知识\n\n### 一) 为什么需要微前端\n#### 1.什么是微前端？\n\n- 微前端就是将不同的功能按照不同的维度拆分成多个子应用，通过主应用来加载这些子应用\n- 微前端的核心在于'拆', 拆完后再'合'\n- 微前端不限制框架\n\n#### 2.为什么使用微前端\n\n- 不同团队使用不同技术栈\n- 每个团队能独立开发，独立部署\n- 项目中需要老的应用代码，但重构需要花费更多时间，同时可能引起其它问题\n\n将一个应用划分为多个子应用，将子应用打包成一个个lib。路径切换的时候加载不同子应用。这样每个子应用都是独立的，技术栈也不需要做限制！从而解决前端协同开发问题\n\n#### 3.微前端涵盖什么\n- lifeycycles - bootstrap、mount、unmount、update\n- shadow dom\n- scoped css\n- Proxy sandbox\n- html-loader\n- global store\n\n#### 4.落地\n\n![1](https://lixuelang.com/test//weiqianduan/1.png)\n\n2018年Single-SPA延生了， `single-spa`  是一个用于前端微服务化的  `javascript`  前端解决方案（本身没有处理样式隔离，js执行隔离，没有js沙箱的机制，需要手动加载js）实现了 `路由劫持和应用加载`\n\n2019年  `qiankun`  基于Single-SPA、提供了更加开箱即用的  API （`single-spa` + `sandbox`  + `import-html-entry`）做到了，技术栈无关、并且接入简单（像  `iframe`  一样简单）\n\n> 总结：子应用可以独立构建，运行时动态加载，子应用完全解耦，技术栈无关，靠的是协议接入（子应用必须导出bootstrap、mount、unmount方法）\n> \n> 基座: 主应用\n> 协议接入: 子应用需要统一规则，每个子应用(lib)都需要导出特定方法给基座加载\n\niframe废弃原因: \n> https://www.yuque.com/kuitos/gky7yw/gesexv\n> 为什么不用 iframe，这几乎是所有微前端方案第一个会被  `challenge`  的问题。但是大部分微前端方案又不约而同放弃了 iframe 方案，自然是有原因的，并不是为了 \"炫技\" 或者刻意追求 \"特立独行\"。\n> \n> 如果不考虑体验问题，iframe 几乎是最完美的微前端解决方案了。\n> \n> iframe 最大的特性就是提供了浏览器原生的硬隔离方案，不论是样式隔离、js 隔离这类问题统统都能被完美解决。但他的最大问题也在于他的隔离性无法被突破， `导致应用间上下文无法被共享` ，随之带来的开发体验、产品体验的问题。\n> \n> 其实这个问题之前这篇也提到过，这里再单独拿出来回顾一下好了。\n> \n> 1.url 不同步。浏览器刷新 iframe url 状态丢失、后退前进按钮无法使用。\n> 2.UI 不同步，DOM 结构不共享。想象一下屏幕右下角 1/4 的 iframe 里来一个带遮罩层的弹框，同时我们要求这个弹框要浏览器居中显示，还要浏览器 resize 时自动居中..\n> 3.全局上下文完全隔离，内存变量不共享。iframe 内外系统的通信、数据同步等需求，主应用的 cookie 要透传到根域名都不同的子应用中实现免登效果。\n> 4.慢。每次子应用进入都是一次浏览器上下文重建、资源重新加载的过程。\n> \n> 其中有的问题比较好解决(问题1)，有的问题我们可以睁一只眼闭一只眼(问题4)，但有的问题我们则很难解决(问题3)甚至无法解决(问题2)，而这些无法解决的问题恰恰又会给产品带来非常严重的体验问题， 最终导致我们舍弃了 iframe 方案。\n\n应用通信:\n\n- 基于URL传参，但传递消息能力弱（长度受限，明文，受限太多）\n- 基于自定义事件 `CustomEvent` 实现通信（window原生API）\n- 基于props主子应用通信\n- 使用全局变量、vuex进行通信\n\n公共依赖（主应用和子应用共用依赖；父调子模块，子打包父里的）:\n- `CDN`  - externals  \n- `webpack5`  联邦模块\n\n## 二、single-spa / single-spa-vue / single-spa-react实战\n\n- 创建基应用和子应用\n- 基座应用: npm install single-spa\n- 子应用: npm install single-spa-vue\n\n#### 子应用\n\n1. 添加挂载配置  \n2. 生成接入协议  \n3. 暴露接入协议  \n4. 修改webpack配置，让当前应用的方法挂载到window  \n5. 修改路由基准  \n6. 修改webpack配置，添加公共路径  \n7. 配置子应用独立运行  \n\n![2](https://lixuelang.com/test//weiqianduan/2.png)\n\n![3](https://lixuelang.com/test//weiqianduan/3.png)\n\n![4](https://lixuelang.com/test//weiqianduan/4.png)\n\n#### 基座应用\n\n1. 注册应用\n2. 启动single-spa\n![5](https://lixuelang.com/test//weiqianduan/5.png)\n\n\n以上即singe-spa基础使用\n\n#### 缺点及解决方案\n\n缺点: 样式不隔离、js不隔离、没有js沙箱机制、不能动态加载js文件\n\n解决:\n\na) `css`  隔离方案\n\na1. 子应用之间样式隔离:\n- `Dynamic Stylesheet`  动态样式表，当应用切换是移出老应用样式，添加新应用样式\n\na2. 主应用和子应用之间的样式隔离\n\n- `BEM` 约定在项目前缀（约定仅是约定，可能有人不遵守就会出很大问题）\n- `css-Modules`  打包时申城不冲突的选择器名（主流）\n- `Shadow DOM`  真正意义上的隔离 （qiankun）\n- `css-in-js`  不推荐(增删减都不好控制)\n\n![6](https://lixuelang.com/test//weiqianduan/6.png)\n\n\nb) `js`  隔离方案\n\n- es6的proxy\n\n\n## 三、qiankun实战\n\nqiankun会把整个子应用html拿过来加载，css和js部分会注释掉，用fetch重新请求\n\n#### 基座应用:\n\n1. html引入element-ui\n2. 添加基础页面的导航\n3. 注册应用\n4. 启动\n\n![7](https://lixuelang.com/test//weiqianduan/7.png)\n\n![8](https://lixuelang.com/test//weiqianduan/8.png)\n\n#### 子应用:\n1. 添加挂载配置\n2. 生成接入协议\n3. 暴露接入协议\n4. 修改webpack配置，让当前应用的方法挂载到window\n5. 修改路由基准\n6. 修改webpack配置，添加公共路径\n7. 配置子应用独立运行\n\n![9](https://lixuelang.com/test//weiqianduan/9.png)\n\n![10](https://lixuelang.com/test//weiqianduan/10.png)\n\n#### react子应用\n\n1.安装插件yarn add react-app-rewired\n2.修改package.json\n\n![11](https://lixuelang.com/test//weiqianduan/11.png)\n\n3.添加webpack配置(含环境变量)\n\n![12](https://lixuelang.com/test//weiqianduan/12.png)\n\n![13](https://lixuelang.com/test//weiqianduan/13.png)\n\n4.修改index.js\n\n![14](https://lixuelang.com/test//weiqianduan/14.png)\n\n5.添加路由yarn add react-router-dom\n\nApp.js\n![15](https://lixuelang.com/test//weiqianduan/15.png)\n\n...\n\n\n名词解释:  \n沙箱: 应用在运行从开始到结束，不会影响全局；可以理解为网吧的沙箱系统，开机->卸载安装了N个应用->关机->开机->恢复以前样子\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","slug":"微前端002-single-spa和qiankun实战","published":1,"updated":"2021-12-06T02:28:50.221Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckwu222o70001o0v933o82swe","content":"<p>实战代码github：<a href=\"https://github.com/AlexLXL/ZF_002.weiQianDuan\">https://github.com/AlexLXL/ZF_002.weiQianDuan</a></p>\n<h2 id=\"一、微前端知识\"><a href=\"#一、微前端知识\" class=\"headerlink\" title=\"一、微前端知识\"></a>一、微前端知识</h2><h3 id=\"一-为什么需要微前端\"><a href=\"#一-为什么需要微前端\" class=\"headerlink\" title=\"一) 为什么需要微前端\"></a>一) 为什么需要微前端</h3><h4 id=\"1-什么是微前端？\"><a href=\"#1-什么是微前端？\" class=\"headerlink\" title=\"1.什么是微前端？\"></a>1.什么是微前端？</h4><ul>\n<li>微前端就是将不同的功能按照不同的维度拆分成多个子应用，通过主应用来加载这些子应用</li>\n<li>微前端的核心在于’拆’, 拆完后再’合’</li>\n<li>微前端不限制框架</li>\n</ul>\n<h4 id=\"2-为什么使用微前端\"><a href=\"#2-为什么使用微前端\" class=\"headerlink\" title=\"2.为什么使用微前端\"></a>2.为什么使用微前端</h4><ul>\n<li>不同团队使用不同技术栈</li>\n<li>每个团队能独立开发，独立部署</li>\n<li>项目中需要老的应用代码，但重构需要花费更多时间，同时可能引起其它问题</li>\n</ul>\n<p>将一个应用划分为多个子应用，将子应用打包成一个个lib。路径切换的时候加载不同子应用。这样每个子应用都是独立的，技术栈也不需要做限制！从而解决前端协同开发问题</p>\n<h4 id=\"3-微前端涵盖什么\"><a href=\"#3-微前端涵盖什么\" class=\"headerlink\" title=\"3.微前端涵盖什么\"></a>3.微前端涵盖什么</h4><ul>\n<li>lifeycycles - bootstrap、mount、unmount、update</li>\n<li>shadow dom</li>\n<li>scoped css</li>\n<li>Proxy sandbox</li>\n<li>html-loader</li>\n<li>global store</li>\n</ul>\n<h4 id=\"4-落地\"><a href=\"#4-落地\" class=\"headerlink\" title=\"4.落地\"></a>4.落地</h4><p><img src=\"https://lixuelang.com/test//weiqianduan/1.png\" alt=\"1\"></p>\n<p>2018年Single-SPA延生了， <code>single-spa</code>  是一个用于前端微服务化的  <code>javascript</code>  前端解决方案（本身没有处理样式隔离，js执行隔离，没有js沙箱的机制，需要手动加载js）实现了 <code>路由劫持和应用加载</code></p>\n<p>2019年  <code>qiankun</code>  基于Single-SPA、提供了更加开箱即用的  API （<code>single-spa</code> + <code>sandbox</code>  + <code>import-html-entry</code>）做到了，技术栈无关、并且接入简单（像  <code>iframe</code>  一样简单）</p>\n<blockquote>\n<p>总结：子应用可以独立构建，运行时动态加载，子应用完全解耦，技术栈无关，靠的是协议接入（子应用必须导出bootstrap、mount、unmount方法）</p>\n<p>基座: 主应用<br>协议接入: 子应用需要统一规则，每个子应用(lib)都需要导出特定方法给基座加载</p>\n</blockquote>\n<p>iframe废弃原因: </p>\n<blockquote>\n<p><a href=\"https://www.yuque.com/kuitos/gky7yw/gesexv\">https://www.yuque.com/kuitos/gky7yw/gesexv</a><br>为什么不用 iframe，这几乎是所有微前端方案第一个会被  <code>challenge</code>  的问题。但是大部分微前端方案又不约而同放弃了 iframe 方案，自然是有原因的，并不是为了 “炫技” 或者刻意追求 “特立独行”。</p>\n<p>如果不考虑体验问题，iframe 几乎是最完美的微前端解决方案了。</p>\n<p>iframe 最大的特性就是提供了浏览器原生的硬隔离方案，不论是样式隔离、js 隔离这类问题统统都能被完美解决。但他的最大问题也在于他的隔离性无法被突破， <code>导致应用间上下文无法被共享</code> ，随之带来的开发体验、产品体验的问题。</p>\n<p>其实这个问题之前这篇也提到过，这里再单独拿出来回顾一下好了。</p>\n<p>1.url 不同步。浏览器刷新 iframe url 状态丢失、后退前进按钮无法使用。<br>2.UI 不同步，DOM 结构不共享。想象一下屏幕右下角 1/4 的 iframe 里来一个带遮罩层的弹框，同时我们要求这个弹框要浏览器居中显示，还要浏览器 resize 时自动居中..<br>3.全局上下文完全隔离，内存变量不共享。iframe 内外系统的通信、数据同步等需求，主应用的 cookie 要透传到根域名都不同的子应用中实现免登效果。<br>4.慢。每次子应用进入都是一次浏览器上下文重建、资源重新加载的过程。</p>\n<p>其中有的问题比较好解决(问题1)，有的问题我们可以睁一只眼闭一只眼(问题4)，但有的问题我们则很难解决(问题3)甚至无法解决(问题2)，而这些无法解决的问题恰恰又会给产品带来非常严重的体验问题， 最终导致我们舍弃了 iframe 方案。</p>\n</blockquote>\n<p>应用通信:</p>\n<ul>\n<li>基于URL传参，但传递消息能力弱（长度受限，明文，受限太多）</li>\n<li>基于自定义事件 <code>CustomEvent</code> 实现通信（window原生API）</li>\n<li>基于props主子应用通信</li>\n<li>使用全局变量、vuex进行通信</li>\n</ul>\n<p>公共依赖（主应用和子应用共用依赖；父调子模块，子打包父里的）:</p>\n<ul>\n<li><code>CDN</code>  - externals  </li>\n<li><code>webpack5</code>  联邦模块</li>\n</ul>\n<h2 id=\"二、single-spa-single-spa-vue-single-spa-react实战\"><a href=\"#二、single-spa-single-spa-vue-single-spa-react实战\" class=\"headerlink\" title=\"二、single-spa / single-spa-vue / single-spa-react实战\"></a>二、single-spa / single-spa-vue / single-spa-react实战</h2><ul>\n<li>创建基应用和子应用</li>\n<li>基座应用: npm install single-spa</li>\n<li>子应用: npm install single-spa-vue</li>\n</ul>\n<h4 id=\"子应用\"><a href=\"#子应用\" class=\"headerlink\" title=\"子应用\"></a>子应用</h4><ol>\n<li>添加挂载配置  </li>\n<li>生成接入协议  </li>\n<li>暴露接入协议  </li>\n<li>修改webpack配置，让当前应用的方法挂载到window  </li>\n<li>修改路由基准  </li>\n<li>修改webpack配置，添加公共路径  </li>\n<li>配置子应用独立运行  </li>\n</ol>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/2.png\" alt=\"2\"></p>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/3.png\" alt=\"3\"></p>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/4.png\" alt=\"4\"></p>\n<h4 id=\"基座应用\"><a href=\"#基座应用\" class=\"headerlink\" title=\"基座应用\"></a>基座应用</h4><ol>\n<li>注册应用</li>\n<li>启动single-spa<br><img src=\"https://lixuelang.com/test//weiqianduan/5.png\" alt=\"5\"></li>\n</ol>\n<p>以上即singe-spa基础使用</p>\n<h4 id=\"缺点及解决方案\"><a href=\"#缺点及解决方案\" class=\"headerlink\" title=\"缺点及解决方案\"></a>缺点及解决方案</h4><p>缺点: 样式不隔离、js不隔离、没有js沙箱机制、不能动态加载js文件</p>\n<p>解决:</p>\n<p>a) <code>css</code>  隔离方案</p>\n<p>a1. 子应用之间样式隔离:</p>\n<ul>\n<li><code>Dynamic Stylesheet</code>  动态样式表，当应用切换是移出老应用样式，添加新应用样式</li>\n</ul>\n<p>a2. 主应用和子应用之间的样式隔离</p>\n<ul>\n<li><code>BEM</code> 约定在项目前缀（约定仅是约定，可能有人不遵守就会出很大问题）</li>\n<li><code>css-Modules</code>  打包时申城不冲突的选择器名（主流）</li>\n<li><code>Shadow DOM</code>  真正意义上的隔离 （qiankun）</li>\n<li><code>css-in-js</code>  不推荐(增删减都不好控制)</li>\n</ul>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/6.png\" alt=\"6\"></p>\n<p>b) <code>js</code>  隔离方案</p>\n<ul>\n<li>es6的proxy</li>\n</ul>\n<h2 id=\"三、qiankun实战\"><a href=\"#三、qiankun实战\" class=\"headerlink\" title=\"三、qiankun实战\"></a>三、qiankun实战</h2><p>qiankun会把整个子应用html拿过来加载，css和js部分会注释掉，用fetch重新请求</p>\n<h4 id=\"基座应用-1\"><a href=\"#基座应用-1\" class=\"headerlink\" title=\"基座应用:\"></a>基座应用:</h4><ol>\n<li>html引入element-ui</li>\n<li>添加基础页面的导航</li>\n<li>注册应用</li>\n<li>启动</li>\n</ol>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/7.png\" alt=\"7\"></p>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/8.png\" alt=\"8\"></p>\n<h4 id=\"子应用-1\"><a href=\"#子应用-1\" class=\"headerlink\" title=\"子应用:\"></a>子应用:</h4><ol>\n<li>添加挂载配置</li>\n<li>生成接入协议</li>\n<li>暴露接入协议</li>\n<li>修改webpack配置，让当前应用的方法挂载到window</li>\n<li>修改路由基准</li>\n<li>修改webpack配置，添加公共路径</li>\n<li>配置子应用独立运行</li>\n</ol>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/9.png\" alt=\"9\"></p>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/10.png\" alt=\"10\"></p>\n<h4 id=\"react子应用\"><a href=\"#react子应用\" class=\"headerlink\" title=\"react子应用\"></a>react子应用</h4><p>1.安装插件yarn add react-app-rewired<br>2.修改package.json</p>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/11.png\" alt=\"11\"></p>\n<p>3.添加webpack配置(含环境变量)</p>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/12.png\" alt=\"12\"></p>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/13.png\" alt=\"13\"></p>\n<p>4.修改index.js</p>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/14.png\" alt=\"14\"></p>\n<p>5.添加路由yarn add react-router-dom</p>\n<p>App.js<br><img src=\"https://lixuelang.com/test//weiqianduan/15.png\" alt=\"15\"></p>\n<p>…</p>\n<p>名词解释:<br>沙箱: 应用在运行从开始到结束，不会影响全局；可以理解为网吧的沙箱系统，开机-&gt;卸载安装了N个应用-&gt;关机-&gt;开机-&gt;恢复以前样子</p>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"}]}},"excerpt":"","more":"<p>实战代码github：<a href=\"https://github.com/AlexLXL/ZF_002.weiQianDuan\">https://github.com/AlexLXL/ZF_002.weiQianDuan</a></p>\n<h2 id=\"一、微前端知识\"><a href=\"#一、微前端知识\" class=\"headerlink\" title=\"一、微前端知识\"></a>一、微前端知识</h2><h3 id=\"一-为什么需要微前端\"><a href=\"#一-为什么需要微前端\" class=\"headerlink\" title=\"一) 为什么需要微前端\"></a>一) 为什么需要微前端</h3><h4 id=\"1-什么是微前端？\"><a href=\"#1-什么是微前端？\" class=\"headerlink\" title=\"1.什么是微前端？\"></a>1.什么是微前端？</h4><ul>\n<li>微前端就是将不同的功能按照不同的维度拆分成多个子应用，通过主应用来加载这些子应用</li>\n<li>微前端的核心在于’拆’, 拆完后再’合’</li>\n<li>微前端不限制框架</li>\n</ul>\n<h4 id=\"2-为什么使用微前端\"><a href=\"#2-为什么使用微前端\" class=\"headerlink\" title=\"2.为什么使用微前端\"></a>2.为什么使用微前端</h4><ul>\n<li>不同团队使用不同技术栈</li>\n<li>每个团队能独立开发，独立部署</li>\n<li>项目中需要老的应用代码，但重构需要花费更多时间，同时可能引起其它问题</li>\n</ul>\n<p>将一个应用划分为多个子应用，将子应用打包成一个个lib。路径切换的时候加载不同子应用。这样每个子应用都是独立的，技术栈也不需要做限制！从而解决前端协同开发问题</p>\n<h4 id=\"3-微前端涵盖什么\"><a href=\"#3-微前端涵盖什么\" class=\"headerlink\" title=\"3.微前端涵盖什么\"></a>3.微前端涵盖什么</h4><ul>\n<li>lifeycycles - bootstrap、mount、unmount、update</li>\n<li>shadow dom</li>\n<li>scoped css</li>\n<li>Proxy sandbox</li>\n<li>html-loader</li>\n<li>global store</li>\n</ul>\n<h4 id=\"4-落地\"><a href=\"#4-落地\" class=\"headerlink\" title=\"4.落地\"></a>4.落地</h4><p><img src=\"https://lixuelang.com/test//weiqianduan/1.png\" alt=\"1\"></p>\n<p>2018年Single-SPA延生了， <code>single-spa</code>  是一个用于前端微服务化的  <code>javascript</code>  前端解决方案（本身没有处理样式隔离，js执行隔离，没有js沙箱的机制，需要手动加载js）实现了 <code>路由劫持和应用加载</code></p>\n<p>2019年  <code>qiankun</code>  基于Single-SPA、提供了更加开箱即用的  API （<code>single-spa</code> + <code>sandbox</code>  + <code>import-html-entry</code>）做到了，技术栈无关、并且接入简单（像  <code>iframe</code>  一样简单）</p>\n<blockquote>\n<p>总结：子应用可以独立构建，运行时动态加载，子应用完全解耦，技术栈无关，靠的是协议接入（子应用必须导出bootstrap、mount、unmount方法）</p>\n<p>基座: 主应用<br>协议接入: 子应用需要统一规则，每个子应用(lib)都需要导出特定方法给基座加载</p>\n</blockquote>\n<p>iframe废弃原因: </p>\n<blockquote>\n<p><a href=\"https://www.yuque.com/kuitos/gky7yw/gesexv\">https://www.yuque.com/kuitos/gky7yw/gesexv</a><br>为什么不用 iframe，这几乎是所有微前端方案第一个会被  <code>challenge</code>  的问题。但是大部分微前端方案又不约而同放弃了 iframe 方案，自然是有原因的，并不是为了 “炫技” 或者刻意追求 “特立独行”。</p>\n<p>如果不考虑体验问题，iframe 几乎是最完美的微前端解决方案了。</p>\n<p>iframe 最大的特性就是提供了浏览器原生的硬隔离方案，不论是样式隔离、js 隔离这类问题统统都能被完美解决。但他的最大问题也在于他的隔离性无法被突破， <code>导致应用间上下文无法被共享</code> ，随之带来的开发体验、产品体验的问题。</p>\n<p>其实这个问题之前这篇也提到过，这里再单独拿出来回顾一下好了。</p>\n<p>1.url 不同步。浏览器刷新 iframe url 状态丢失、后退前进按钮无法使用。<br>2.UI 不同步，DOM 结构不共享。想象一下屏幕右下角 1/4 的 iframe 里来一个带遮罩层的弹框，同时我们要求这个弹框要浏览器居中显示，还要浏览器 resize 时自动居中..<br>3.全局上下文完全隔离，内存变量不共享。iframe 内外系统的通信、数据同步等需求，主应用的 cookie 要透传到根域名都不同的子应用中实现免登效果。<br>4.慢。每次子应用进入都是一次浏览器上下文重建、资源重新加载的过程。</p>\n<p>其中有的问题比较好解决(问题1)，有的问题我们可以睁一只眼闭一只眼(问题4)，但有的问题我们则很难解决(问题3)甚至无法解决(问题2)，而这些无法解决的问题恰恰又会给产品带来非常严重的体验问题， 最终导致我们舍弃了 iframe 方案。</p>\n</blockquote>\n<p>应用通信:</p>\n<ul>\n<li>基于URL传参，但传递消息能力弱（长度受限，明文，受限太多）</li>\n<li>基于自定义事件 <code>CustomEvent</code> 实现通信（window原生API）</li>\n<li>基于props主子应用通信</li>\n<li>使用全局变量、vuex进行通信</li>\n</ul>\n<p>公共依赖（主应用和子应用共用依赖；父调子模块，子打包父里的）:</p>\n<ul>\n<li><code>CDN</code>  - externals  </li>\n<li><code>webpack5</code>  联邦模块</li>\n</ul>\n<h2 id=\"二、single-spa-single-spa-vue-single-spa-react实战\"><a href=\"#二、single-spa-single-spa-vue-single-spa-react实战\" class=\"headerlink\" title=\"二、single-spa / single-spa-vue / single-spa-react实战\"></a>二、single-spa / single-spa-vue / single-spa-react实战</h2><ul>\n<li>创建基应用和子应用</li>\n<li>基座应用: npm install single-spa</li>\n<li>子应用: npm install single-spa-vue</li>\n</ul>\n<h4 id=\"子应用\"><a href=\"#子应用\" class=\"headerlink\" title=\"子应用\"></a>子应用</h4><ol>\n<li>添加挂载配置  </li>\n<li>生成接入协议  </li>\n<li>暴露接入协议  </li>\n<li>修改webpack配置，让当前应用的方法挂载到window  </li>\n<li>修改路由基准  </li>\n<li>修改webpack配置，添加公共路径  </li>\n<li>配置子应用独立运行  </li>\n</ol>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/2.png\" alt=\"2\"></p>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/3.png\" alt=\"3\"></p>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/4.png\" alt=\"4\"></p>\n<h4 id=\"基座应用\"><a href=\"#基座应用\" class=\"headerlink\" title=\"基座应用\"></a>基座应用</h4><ol>\n<li>注册应用</li>\n<li>启动single-spa<br><img src=\"https://lixuelang.com/test//weiqianduan/5.png\" alt=\"5\"></li>\n</ol>\n<p>以上即singe-spa基础使用</p>\n<h4 id=\"缺点及解决方案\"><a href=\"#缺点及解决方案\" class=\"headerlink\" title=\"缺点及解决方案\"></a>缺点及解决方案</h4><p>缺点: 样式不隔离、js不隔离、没有js沙箱机制、不能动态加载js文件</p>\n<p>解决:</p>\n<p>a) <code>css</code>  隔离方案</p>\n<p>a1. 子应用之间样式隔离:</p>\n<ul>\n<li><code>Dynamic Stylesheet</code>  动态样式表，当应用切换是移出老应用样式，添加新应用样式</li>\n</ul>\n<p>a2. 主应用和子应用之间的样式隔离</p>\n<ul>\n<li><code>BEM</code> 约定在项目前缀（约定仅是约定，可能有人不遵守就会出很大问题）</li>\n<li><code>css-Modules</code>  打包时申城不冲突的选择器名（主流）</li>\n<li><code>Shadow DOM</code>  真正意义上的隔离 （qiankun）</li>\n<li><code>css-in-js</code>  不推荐(增删减都不好控制)</li>\n</ul>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/6.png\" alt=\"6\"></p>\n<p>b) <code>js</code>  隔离方案</p>\n<ul>\n<li>es6的proxy</li>\n</ul>\n<h2 id=\"三、qiankun实战\"><a href=\"#三、qiankun实战\" class=\"headerlink\" title=\"三、qiankun实战\"></a>三、qiankun实战</h2><p>qiankun会把整个子应用html拿过来加载，css和js部分会注释掉，用fetch重新请求</p>\n<h4 id=\"基座应用-1\"><a href=\"#基座应用-1\" class=\"headerlink\" title=\"基座应用:\"></a>基座应用:</h4><ol>\n<li>html引入element-ui</li>\n<li>添加基础页面的导航</li>\n<li>注册应用</li>\n<li>启动</li>\n</ol>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/7.png\" alt=\"7\"></p>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/8.png\" alt=\"8\"></p>\n<h4 id=\"子应用-1\"><a href=\"#子应用-1\" class=\"headerlink\" title=\"子应用:\"></a>子应用:</h4><ol>\n<li>添加挂载配置</li>\n<li>生成接入协议</li>\n<li>暴露接入协议</li>\n<li>修改webpack配置，让当前应用的方法挂载到window</li>\n<li>修改路由基准</li>\n<li>修改webpack配置，添加公共路径</li>\n<li>配置子应用独立运行</li>\n</ol>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/9.png\" alt=\"9\"></p>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/10.png\" alt=\"10\"></p>\n<h4 id=\"react子应用\"><a href=\"#react子应用\" class=\"headerlink\" title=\"react子应用\"></a>react子应用</h4><p>1.安装插件yarn add react-app-rewired<br>2.修改package.json</p>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/11.png\" alt=\"11\"></p>\n<p>3.添加webpack配置(含环境变量)</p>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/12.png\" alt=\"12\"></p>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/13.png\" alt=\"13\"></p>\n<p>4.修改index.js</p>\n<p><img src=\"https://lixuelang.com/test//weiqianduan/14.png\" alt=\"14\"></p>\n<p>5.添加路由yarn add react-router-dom</p>\n<p>App.js<br><img src=\"https://lixuelang.com/test//weiqianduan/15.png\" alt=\"15\"></p>\n<p>…</p>\n<p>名词解释:<br>沙箱: 应用在运行从开始到结束，不会影响全局；可以理解为网吧的沙箱系统，开机-&gt;卸载安装了N个应用-&gt;关机-&gt;开机-&gt;恢复以前样子</p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"ckw3jsf650009h8v999w33vj4","category_id":"ckw3jsf630007h8v997sc7501","_id":"ckw3jsf6w0010h8v916r8aq1a"},{"post_id":"ckw3jsf650009h8v999w33vj4","category_id":"ckw3jsf6l000mh8v909hkc7ne","_id":"ckw3jsf6w0012h8v97rxf9bq1"},{"post_id":"ckw3jsf5o0001h8v9hih97my9","category_id":"ckw3jsf630007h8v997sc7501","_id":"ckw3jsf6x0016h8v9bqmk198t"},{"post_id":"ckw3jsf5o0001h8v9hih97my9","category_id":"ckw3jsf6l000mh8v909hkc7ne","_id":"ckw3jsf6y0017h8v9d23lg6uu"},{"post_id":"ckw3jsf67000bh8v94g1z5ji0","category_id":"ckw3jsf630007h8v997sc7501","_id":"ckw3jsf6z001ah8v9e4lc8t9v"},{"post_id":"ckw3jsf67000bh8v94g1z5ji0","category_id":"ckw3jsf6l000mh8v909hkc7ne","_id":"ckw3jsf71001ch8v98cnjhhc8"},{"post_id":"ckw3jsf6d000eh8v962bcg701","category_id":"ckw3jsf630007h8v997sc7501","_id":"ckw3jsf73001gh8v9bm6q6ykh"},{"post_id":"ckw3jsf6d000eh8v962bcg701","category_id":"ckw3jsf6l000mh8v909hkc7ne","_id":"ckw3jsf73001ih8v928k80a8r"},{"post_id":"ckw3jsf5w0003h8v9cmp6grb6","category_id":"ckw3jsf630007h8v997sc7501","_id":"ckw3jsf75001mh8v9ed543df7"},{"post_id":"ckw3jsf5w0003h8v9cmp6grb6","category_id":"ckw3jsf6l000mh8v909hkc7ne","_id":"ckw3jsf75001oh8v9b25xfx2g"},{"post_id":"ckw3jsf6f000fh8v98pr01dq0","category_id":"ckw3jsf630007h8v997sc7501","_id":"ckw3jsf77001sh8v9081801d0"},{"post_id":"ckw3jsf6f000fh8v98pr01dq0","category_id":"ckw3jsf6l000mh8v909hkc7ne","_id":"ckw3jsf77001uh8v93u488dwj"},{"post_id":"ckw3jsf6i000jh8v98g7cbbsq","category_id":"ckw3jsf630007h8v997sc7501","_id":"ckw3jsf7b001yh8v9domtewok"},{"post_id":"ckw3jsf6i000jh8v98g7cbbsq","category_id":"ckw3jsf73001kh8v9biqgeqkv","_id":"ckw3jsf7b0020h8v91zpicx3a"},{"post_id":"ckw3jsf620006h8v9ayfbdun9","category_id":"ckw3jsf630007h8v997sc7501","_id":"ckw3jsf7d0024h8v9ep318fy4"},{"post_id":"ckw3jsf620006h8v9ayfbdun9","category_id":"ckw3jsf6l000mh8v909hkc7ne","_id":"ckw3jsf7d0026h8v93e6y7i1i"},{"post_id":"ckw3jsf6k000lh8v9671b5o7p","category_id":"ckw3jsf630007h8v997sc7501","_id":"ckw3jsf7f002ah8v9df0n6hrz"},{"post_id":"ckw3jsf6k000lh8v9671b5o7p","category_id":"ckw3jsf73001kh8v9biqgeqkv","_id":"ckw3jsf7f002ch8v9d3f34yl1"},{"post_id":"ckw3jsf6n000ph8v9b8mphq3x","category_id":"ckw3jsf630007h8v997sc7501","_id":"ckw3jsf7g002fh8v96fa1d543"},{"post_id":"ckw3jsf6n000ph8v9b8mphq3x","category_id":"ckw3jsf73001kh8v9biqgeqkv","_id":"ckw3jsf7g002hh8v9f52l14q6"},{"post_id":"ckw3jsf6o000rh8v923tq88nd","category_id":"ckw3jsf630007h8v997sc7501","_id":"ckw3jsf7h002jh8v9e24z98fz"},{"post_id":"ckw3jsf6o000rh8v923tq88nd","category_id":"ckw3jsf73001kh8v9biqgeqkv","_id":"ckw3jsf7h002kh8v99okt0uhz"},{"post_id":"ckw3jsf6r000vh8v95k1273vr","category_id":"ckw3jsf630007h8v997sc7501","_id":"ckw3jsf7h002lh8v9e136240b"},{"post_id":"ckw3jsf6r000vh8v95k1273vr","category_id":"ckw3jsf73001kh8v9biqgeqkv","_id":"ckw3jsf7h002mh8v986qoesgg"},{"post_id":"ckw50lpz50000lgv91obz7b8y","category_id":"ckw3jsf630007h8v997sc7501","_id":"ckw51fhog0002w8v937828880"},{"post_id":"ckw50lpz50000lgv91obz7b8y","category_id":"ckw3jsf6l000mh8v909hkc7ne","_id":"ckw51fhog0003w8v9b49o1b63"},{"post_id":"ckw7ba9e20000ycv97f2e0r47","category_id":"ckw3jsf630007h8v997sc7501","_id":"ckw7ba9ef0003ycv9hlrhcma8"},{"post_id":"ckw7ba9e20000ycv97f2e0r47","category_id":"ckw3jsf6l000mh8v909hkc7ne","_id":"ckw7ba9ef0004ycv97mb4ekb1"},{"post_id":"ckw7w5lwk00006cv9606gd874","category_id":"ckw3jsf630007h8v997sc7501","_id":"ckw7w5lxn00036cv90s9p594x"},{"post_id":"ckw7w5lwk00006cv9606gd874","category_id":"ckw3jsf6l000mh8v909hkc7ne","_id":"ckw7w5lxn00046cv93t9neom5"},{"post_id":"ckw8p6jup0000okv92dv520tf","category_id":"ckw8p6k7p0003okv9a5a0ff1e","_id":"ckw8p6k93000iokv94jyc9yoy"},{"post_id":"ckw8p6jup0000okv92dv520tf","category_id":"ckw8p6k8b0006okv9bab5106k","_id":"ckw8p6k94000kokv9bk1p38ij"},{"post_id":"ckw8p6jup0000okv92dv520tf","category_id":"ckw8p6k8r000cokv98l784nzy","_id":"ckw8p6k95000mokv94ub4fusf"},{"post_id":"ckw8p6k670001okv970219x24","category_id":"ckw8p6k7p0003okv9a5a0ff1e","_id":"ckw8p6k95000nokv93xjw0nl5"},{"post_id":"ckw8p6k670001okv970219x24","category_id":"ckw8p6k8b0006okv9bab5106k","_id":"ckw8p6k96000ookv98wsy0cem"},{"post_id":"ckw8p6k670001okv970219x24","category_id":"ckw8p6k8r000cokv98l784nzy","_id":"ckw8p6k96000pokv9gu4d2ilr"},{"post_id":"ckwamy7um0000hwv902wybwub","category_id":"ckw3jsf630007h8v997sc7501","_id":"ckwamy83a0004hwv9553m4hvj"},{"post_id":"ckwamy7um0000hwv902wybwub","category_id":"ckw3jsf6l000mh8v909hkc7ne","_id":"ckwamy83b0006hwv9dm0vc9iw"},{"post_id":"ckwamy8370003hwv9bti3er16","category_id":"ckw3jsf630007h8v997sc7501","_id":"ckwamy83b0008hwv9do3j0ygp"},{"post_id":"ckwamy8370003hwv9bti3er16","category_id":"ckw3jsf6l000mh8v909hkc7ne","_id":"ckwamy83b0009hwv96czl67xr"},{"post_id":"ckwu222nz0000o0v90uk37ag3","category_id":"ckw8p6k7p0003okv9a5a0ff1e","_id":"ckwu222ot000jo0v9c0soe7cc"},{"post_id":"ckwu222nz0000o0v90uk37ag3","category_id":"ckwu222oi0003o0v9atdid4m8","_id":"ckwu222ou000lo0v9e4opgfqr"},{"post_id":"ckwu222nz0000o0v90uk37ag3","category_id":"ckwu222oo0007o0v9bhx09snc","_id":"ckwu222ou000mo0v9fquufk17"},{"post_id":"ckwu222nz0000o0v90uk37ag3","category_id":"ckwu222oq000do0v900qtc7my","_id":"ckwu222ov000oo0v9083x43nx"},{"post_id":"ckwu222o70001o0v933o82swe","category_id":"ckw8p6k7p0003okv9a5a0ff1e","_id":"ckwu222ov000so0v9hxgpe74s"},{"post_id":"ckwu222o70001o0v933o82swe","category_id":"ckwu222oi0003o0v9atdid4m8","_id":"ckwu222ov000uo0v93618dpyw"},{"post_id":"ckwu222o70001o0v933o82swe","category_id":"ckwu222oo0007o0v9bhx09snc","_id":"ckwu222ov000vo0v94agtectq"},{"post_id":"ckwu222o70001o0v933o82swe","category_id":"ckwu222os000ho0v91bcga2ds","_id":"ckwu222ow000wo0v98uwp38mb"},{"post_id":"ckwu222o70001o0v933o82swe","category_id":"ckwu222ot000ko0v9h1em0250","_id":"ckwu222ow000xo0v9dvpn5bt1"}],"PostTag":[{"post_id":"ckw3jsf6d000eh8v962bcg701","tag_id":"ckw3jsf5z0004h8v90dq6017m","_id":"ckw3jsf6i000ih8v92f2b4u37"},{"post_id":"ckw3jsf6d000eh8v962bcg701","tag_id":"ckw3jsf68000ch8v98hznd4gb","_id":"ckw3jsf6k000kh8v9eiq4f48h"},{"post_id":"ckw3jsf6f000fh8v98pr01dq0","tag_id":"ckw3jsf5z0004h8v90dq6017m","_id":"ckw3jsf6m000oh8v95f9c9xa4"},{"post_id":"ckw3jsf6f000fh8v98pr01dq0","tag_id":"ckw3jsf68000ch8v98hznd4gb","_id":"ckw3jsf6o000qh8v97ecd22qa"},{"post_id":"ckw3jsf5o0001h8v9hih97my9","tag_id":"ckw3jsf5z0004h8v90dq6017m","_id":"ckw3jsf6q000uh8v98oixah7w"},{"post_id":"ckw3jsf5o0001h8v9hih97my9","tag_id":"ckw3jsf68000ch8v98hznd4gb","_id":"ckw3jsf6u000wh8v952g948pt"},{"post_id":"ckw3jsf5o0001h8v9hih97my9","tag_id":"ckw3jsf6h000hh8v98exq9131","_id":"ckw3jsf6v000zh8v97a4mdw98"},{"post_id":"ckw3jsf5w0003h8v9cmp6grb6","tag_id":"ckw3jsf5z0004h8v90dq6017m","_id":"ckw3jsf6w0011h8v9479bad3n"},{"post_id":"ckw3jsf5w0003h8v9cmp6grb6","tag_id":"ckw3jsf68000ch8v98hznd4gb","_id":"ckw3jsf6x0015h8v9dfom9u3u"},{"post_id":"ckw3jsf620006h8v9ayfbdun9","tag_id":"ckw3jsf5z0004h8v90dq6017m","_id":"ckw3jsf71001bh8v923rqgli9"},{"post_id":"ckw3jsf620006h8v9ayfbdun9","tag_id":"ckw3jsf68000ch8v98hznd4gb","_id":"ckw3jsf71001dh8v97xvqfd9g"},{"post_id":"ckw3jsf650009h8v999w33vj4","tag_id":"ckw3jsf5z0004h8v90dq6017m","_id":"ckw3jsf73001hh8v95gj6epbq"},{"post_id":"ckw3jsf650009h8v999w33vj4","tag_id":"ckw3jsf68000ch8v98hznd4gb","_id":"ckw3jsf73001jh8v9crb07tb4"},{"post_id":"ckw3jsf67000bh8v94g1z5ji0","tag_id":"ckw3jsf5z0004h8v90dq6017m","_id":"ckw3jsf75001nh8v9g9v27ekc"},{"post_id":"ckw3jsf67000bh8v94g1z5ji0","tag_id":"ckw3jsf68000ch8v98hznd4gb","_id":"ckw3jsf75001ph8v9ex1c9qni"},{"post_id":"ckw3jsf6i000jh8v98g7cbbsq","tag_id":"ckw3jsf5z0004h8v90dq6017m","_id":"ckw3jsf77001th8v90apvhgc3"},{"post_id":"ckw3jsf6i000jh8v98g7cbbsq","tag_id":"ckw3jsf74001lh8v92wfe9u35","_id":"ckw3jsf77001vh8v9gczvg9te"},{"post_id":"ckw3jsf6k000lh8v9671b5o7p","tag_id":"ckw3jsf5z0004h8v90dq6017m","_id":"ckw3jsf7b001zh8v993pvfewn"},{"post_id":"ckw3jsf6k000lh8v9671b5o7p","tag_id":"ckw3jsf74001lh8v92wfe9u35","_id":"ckw3jsf7b0021h8v96gyj0rqx"},{"post_id":"ckw3jsf6n000ph8v9b8mphq3x","tag_id":"ckw3jsf5z0004h8v90dq6017m","_id":"ckw3jsf7d0025h8v983oy2apm"},{"post_id":"ckw3jsf6n000ph8v9b8mphq3x","tag_id":"ckw3jsf74001lh8v92wfe9u35","_id":"ckw3jsf7d0027h8v9d6pgao70"},{"post_id":"ckw3jsf6o000rh8v923tq88nd","tag_id":"ckw3jsf5z0004h8v90dq6017m","_id":"ckw3jsf7f002bh8v9fiv65e3j"},{"post_id":"ckw3jsf6o000rh8v923tq88nd","tag_id":"ckw3jsf74001lh8v92wfe9u35","_id":"ckw3jsf7f002dh8v9bogdekve"},{"post_id":"ckw3jsf6r000vh8v95k1273vr","tag_id":"ckw3jsf5z0004h8v90dq6017m","_id":"ckw3jsf7g002gh8v9b5ih1fkj"},{"post_id":"ckw3jsf6r000vh8v95k1273vr","tag_id":"ckw3jsf74001lh8v92wfe9u35","_id":"ckw3jsf7g002ih8v90pn82k6o"},{"post_id":"ckw50lpz50000lgv91obz7b8y","tag_id":"ckw3jsf5z0004h8v90dq6017m","_id":"ckw51fhof0000w8v9dlux2ezl"},{"post_id":"ckw50lpz50000lgv91obz7b8y","tag_id":"ckw3jsf68000ch8v98hznd4gb","_id":"ckw51fhof0001w8v9a5kp7xbn"},{"post_id":"ckw7ba9e20000ycv97f2e0r47","tag_id":"ckw3jsf5z0004h8v90dq6017m","_id":"ckw7ba9ee0001ycv973898qh3"},{"post_id":"ckw7ba9e20000ycv97f2e0r47","tag_id":"ckw3jsf68000ch8v98hznd4gb","_id":"ckw7ba9ee0002ycv9ebn74kas"},{"post_id":"ckw7w5lwk00006cv9606gd874","tag_id":"ckw3jsf5z0004h8v90dq6017m","_id":"ckw7w5lxm00016cv97rkygwmz"},{"post_id":"ckw7w5lwk00006cv9606gd874","tag_id":"ckw3jsf68000ch8v98hznd4gb","_id":"ckw7w5lxm00026cv9hxpu64cv"},{"post_id":"ckw8p6jup0000okv92dv520tf","tag_id":"ckw8p6k6i0002okv9htgx9zxs","_id":"ckw8p6k8q000aokv9h7tsan3k"},{"post_id":"ckw8p6jup0000okv92dv520tf","tag_id":"ckw8p6k7u0004okv922kx23ul","_id":"ckw8p6k8q000bokv938h1b3iw"},{"post_id":"ckw8p6jup0000okv92dv520tf","tag_id":"ckw8p6k8g0007okv99z8dfa2e","_id":"ckw8p6k8w000eokv9dng33l2k"},{"post_id":"ckw8p6k670001okv970219x24","tag_id":"ckw8p6k6i0002okv9htgx9zxs","_id":"ckw8p6k92000hokv97alo439l"},{"post_id":"ckw8p6k670001okv970219x24","tag_id":"ckw8p6k7u0004okv922kx23ul","_id":"ckw8p6k93000jokv96nzl6xr7"},{"post_id":"ckw8p6k670001okv970219x24","tag_id":"ckw8p6k8g0007okv99z8dfa2e","_id":"ckw8p6k94000lokv9hohagz68"},{"post_id":"ckwamy7um0000hwv902wybwub","tag_id":"ckw3jsf5z0004h8v90dq6017m","_id":"ckwamy8340001hwv9aqqefw9x"},{"post_id":"ckwamy7um0000hwv902wybwub","tag_id":"ckw3jsf68000ch8v98hznd4gb","_id":"ckwamy8370002hwv9g2koe2ka"},{"post_id":"ckwamy8370003hwv9bti3er16","tag_id":"ckw3jsf5z0004h8v90dq6017m","_id":"ckwamy83a0005hwv91nrl597p"},{"post_id":"ckwamy8370003hwv9bti3er16","tag_id":"ckw3jsf68000ch8v98hznd4gb","_id":"ckwamy83b0007hwv9430n3n53"},{"post_id":"ckwu222nz0000o0v90uk37ag3","tag_id":"ckw8p6k6i0002okv9htgx9zxs","_id":"ckwu222oq000ao0v98ted1s8d"},{"post_id":"ckwu222nz0000o0v90uk37ag3","tag_id":"ckwu222o90002o0v98jm8bqho","_id":"ckwu222oq000bo0v96vd9974j"},{"post_id":"ckwu222nz0000o0v90uk37ag3","tag_id":"ckwu222ok0004o0v947cx2guc","_id":"ckwu222or000eo0v9ax4gaot3"},{"post_id":"ckwu222nz0000o0v90uk37ag3","tag_id":"ckwu222on0006o0v94cwl7kyh","_id":"ckwu222or000fo0v9blxih7yx"},{"post_id":"ckwu222o70001o0v933o82swe","tag_id":"ckw8p6k6i0002okv9htgx9zxs","_id":"ckwu222ou000no0v908v75vs8"},{"post_id":"ckwu222o70001o0v933o82swe","tag_id":"ckwu222o90002o0v98jm8bqho","_id":"ckwu222ov000po0v9g3br2md2"},{"post_id":"ckwu222o70001o0v933o82swe","tag_id":"ckwu222ok0004o0v947cx2guc","_id":"ckwu222ov000qo0v99dhdbiwz"},{"post_id":"ckwu222o70001o0v933o82swe","tag_id":"ckwu222or000go0v9fhbraqnx","_id":"ckwu222ov000ro0v969nl2hse"},{"post_id":"ckwu222o70001o0v933o82swe","tag_id":"ckwu222os000io0v95h3a5h14","_id":"ckwu222ov000to0v9f4pxfpq9"}],"Tag":[{"name":"linux","_id":"ckw3jsf5z0004h8v90dq6017m"},{"name":"Sentry","_id":"ckw3jsf68000ch8v98hznd4gb"},{"name":"vmware","_id":"ckw3jsf6h000hh8v98exq9131"},{"name":"hexo","_id":"ckw3jsf74001lh8v92wfe9u35"},{"name":"window","_id":"ckw8p6k6i0002okv9htgx9zxs"},{"name":"Rust","_id":"ckw8p6k7u0004okv922kx23ul"},{"name":"WebAssembly","_id":"ckw8p6k8g0007okv99z8dfa2e"},{"name":"前端","_id":"ckwu222o90002o0v98jm8bqho"},{"name":"微前端","_id":"ckwu222ok0004o0v947cx2guc"},{"name":"webpack","_id":"ckwu222on0006o0v94cwl7kyh"},{"name":"sing-spa","_id":"ckwu222or000go0v9fhbraqnx"},{"name":"qiankun","_id":"ckwu222os000io0v95h3a5h14"}]}}